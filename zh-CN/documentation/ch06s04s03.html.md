::: {.navheader}
6.4.3. Files and Environment Variables
:::

[Prev](ch06s04s02.html) 

6.4. **Grdmat**

 [Next](ch06s05.html)

------------------------------------------------------------------------

::: {.section lang="en"}
::: {.titlepage}
<div>

<div>

### []{#d0e23943}6.4.3. Files and Environment Variables {#files-and-environment-variables .title}

</div>

</div>
:::

::: {.toc}
[[6.4.3.1. Input Files](ch06s04s03.html#d0e24017)]{.section}

[[6.4.3.2. Input Environment
Variables](ch06s04s03.html#d0e24095)]{.section}

[[6.4.3.3. Output Files](ch06s04s03.html#d0e24165)]{.section}
:::

::: {.figure}
[]{#fig_programs_grdmat}

**Figure 6.4. Grdmat input and output files**

::: {.mediaobject}
![Grdmat input and output files](images\programs\grdmat_html.jpg)
:::
:::

[Figure 6.4, "Grdmat input and output
files"](ch06s04s03.html#fig_programs_grdmat "Figure 6.4. Grdmat input and output files")
shows the input and output files for the **Grdmat** program. The input
files are the spatial surrogates file (`AGPRO`{.envar} or
`MGPRO`{.envar}), the spatial cross-reference file (`AGREF`{.envar} or
`MGREF`{.envar}), the inventory file output from **Smkinven**
(`AREA`{.envar}, `MOBL`{.envar}, or `PNTS`{.envar}), the surrogate
description file (`SRGDESC`{.envar}), and the grid description file
(`GRIDDESC`{.envar}).

**Grdmat** outputs a gridding matrix file (`AGMAT`{.envar},
`MGMAT`{.envar}, or `PGMAT`{.envar}) used by other SMOKE programs, and a
supplemental gridding file (`AGSUP`{.envar} or `MGSUP`{.envar}) that
includes all of the spatial surrogate codes assigned to each source.
Like all SMOKE programs, **Grdmat** writes a program log
(`LOGFILE`{.envar}).

::: {.section lang="en"}
::: {.titlepage}
<div>

<div>

#### []{#d0e24017}6.4.3.1. Input Files {#input-files .title}

</div>

</div>
:::

::: {.informaltable}
  File Name                               Format           Description
  --------------------------------------- ---------------- ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
  `SRGDESC`{.envar}                       ASCII            Surrogate list, description and surrogate file name used in the modeling grid. Note: we recommand to use multiple files for individual surrogate code which are available from the [EPA's New Surrogates web site](http://www.epa.gov/ttn/chief/emch/spatial/newsurrogate.html).
  `SRGPRO_PATH/surrogate-files`{.envar}   ASCII            Gridding surrogate coefficients
  `[A|M]GREF`{.envar}                     ASCII            Gridding surrogate cross-reference file
  `[AREA|MOBL|PNTS]`{.envar}              SMOKE map        Intermediate inventory file produced by **Smkinven**
  `GRIDDESC`{.envar}                      ASCII            Description of the modeling grid
  `GRIDMASK`{.envar}                      I/O API NetCDF   Geographic level code and Timezone for each grid cell
  `GRID_CRO_2D`{.envar}                   I/O API NetCDF   Layer definitions for the CMAQ model domain
:::
:::

::: {.section lang="en"}
::: {.titlepage}
<div>

<div>

#### []{#d0e24095}6.4.3.2. Input Environment Variables {#input-environment-variables .title}

</div>

</div>
:::

::: {.itemizedlist}
-   `FULLSCC_ONLY`{.envar}: See description in [Section 6.2.3.2, "Input
    Environment
    Variables"](ch06s02s03.html#sect_programs_cntlmat_envar "6.2.3.2. Input Environment Variables").
    In this context, this option prevents left-7 SCC assignments using
    the gridding cross-reference file.

-   `IOAPI_GRIDNAME_1`{.envar}: output modeling grid that global gridded
    inventory data is re-gridded to.

-   `IOAPI_ISPH`{.envar}: See description in [Section 6.3.3.2, "Input
    Environment
    Variables"](ch06s03s03.html#sect_programs_elevpoint_envar "6.3.3.2. Input Environment Variables")

-   `IMPORT_GRDNETCDF_YN`{.envar}: Y to read the native netCDF annual
    inventory files

-   `REPORT_DEFAULTS`{.envar}: See description in [Section 6.2.3.2,
    "Input Environment
    Variables"](ch06s02s03.html#sect_programs_cntlmat_envar "6.2.3.2. Input Environment Variables")

-   `SRGPRO_PATH`{.envar}: Defines the location of the Area and Mobile
    spatial surrogate files. This should be a sub-directory in the
    `$GE_DAT`{.envar} directory.

-   `SMK_DEFAULT_SRGID`{.envar}: \[default: 100 (Models-3 population
    surrogate code)\] Mandatory, user MUST choose a fallback code.

-   `SMK_USE_FALLBACK`{.envar}: \[Y/N\]

    Defines the surrogate code number to use as a fallback surrogate
    when the surrogate number set by the cross-reference file would zero
    out the emissions for that source. This fallback surrogate is also
    used to define the county/state/country (FIPS) codes for use in
    **Grdmat**; therefore, a fallback surrogate code is mandatory even
    if the `SMK_USE_FALLBACK`{.envar} is set to \[N\]. This code should
    exist in the `SRGDESC`{.envar} file and be representative on all
    county/state/countries. See description in [Section 8.4.1,
    "`SRGDESC`{.envar}: Surrogate Designation, Description and Surrogate
    profile
    filename."](ch08s04.html#sect_input_srgdesc "8.4.1. SRGDESC: Surrogate Designation, Description and Surrogate profile filename.").

-   `SMK_SOURCE`{.envar}: See description in [Section 6.2.3.2, "Input
    Environment
    Variables"](ch06s02s03.html#sect_programs_cntlmat_envar "6.2.3.2. Input Environment Variables")
:::
:::

::: {.section lang="en"}
::: {.titlepage}
<div>

<div>

#### []{#d0e24165}6.4.3.3. Output Files {#output-files .title}

</div>

</div>
:::

::: {.informaltable}
  File Name               Format           Description
  ----------------------- ---------------- -----------------------------------------------------------------------------------------------------------------------------------
  `[A|M|P]GMAT`{.envar}   I/O API NetCDF   Gridding matrix containing the factors needed to spatially allocate the input emissions to the grid cells in the modeling domain.
  `[A|M]GSUP`{.envar}     ASCII            Gridding supplemental file containing spatial surrogate codes for each source
  `LOGFILE`{.envar}       ASCII            Log generated from executing **Grdmat**
:::
:::
:::

::: {.navfooter}

------------------------------------------------------------------------

  -------------------------- -------------------- -----------------------
  [Prev](ch06s04s02.html)     [Up](ch06s04.html)     [Next](ch06s05.html)
  6.4.2. Processing Order     [Home](index.html)        6.5. **Grwinven**
  -------------------------- -------------------- -----------------------
:::
