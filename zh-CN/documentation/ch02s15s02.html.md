::: {.navheader}
2.15.2. Creating an elevated-source file for UAM and CAM~X~
:::

[Prev](ch02s15.html) 

2.15. Elevated-source processing

 [Next](ch02s16.html)

------------------------------------------------------------------------

::: {.section lang="en"}
::: {.titlepage}
<div>

<div>

### []{#sect_concepts_create_elevated_uam}2.15.2. Creating an elevated-source file for UAM and CAM~X~ {#creating-an-elevated-source-file-for-uam-and-camx .title}

</div>

</div>
:::

::: {.toc}
[[2.15.2.1. Using **Elevpoint**](ch02s15s02.html#d0e6841)]{.section}

[[2.15.2.2. Using **Laypoint**](ch02s15s02.html#d0e6862)]{.section}

[[2.15.2.3. Using **Smkmerge**](ch02s15s02.html#d0e6905)]{.section}
:::

The other approach to modeling elevated sources is to create an
elevated-point-source input file for one of the UAM models or CAM~X~. To
do this, SMOKE performs the following steps:

::: {.itemizedlist}
-   Uses the **Smkinven** program to import the annual, average-day,
    day-specific, and/or hour-specific emissions.

-   Optionally uses the **Temporal** program to calculate hourly
    emissions if emissions will be used as a criterion for selecting
    elevated sources or PinG sources. For example, you may wish to
    select facilities with NO~x~ emissions greater than 100 tons/day.

-   Uses the **Elevpoint** program to select elevated and optionally
    PinG sources. Unlike processing for CMAQ, this step is always
    required.

-   Uses the **Elevpoint** program to create the `STACK_GROUPS`{.envar}
    file, which is needed for creating the elevated-point-source file
    with **Smkmerge**.

-   Uses the **Laypoint** program to compute elevated plume rise for
    explicit plume rise sources, and store the layer fractions for the
    explicit sources only.

-   Uses the **Smkmerge** program to combine the `STACK_GROUPS`{.envar}
    information, optional explicit plume rise information, and the
    hourly emissions to generate an ASCII elevated-point-source file
    with optional PinG flags.
:::

::: {.section lang="en"}
::: {.titlepage}
<div>

<div>

#### []{#d0e6841}2.15.2.1. Using **Elevpoint** {#using-elevpoint .title}

</div>

</div>
:::

The primary difference between this approach is that the **Elevpoint**
processing step is required. Traditionally, elevated point sources have
been selected for the UAM or CAM~X~ models using the analytical plume
rise calculation. While **Elevpoint** can perform this calculation and
use it exclusively to determine the elevated sources, you can also use
the other selection criteria if desired: emissions values, emissions
rank, stack parameters, and plant numbers. As described in
[Section 2.15.1, "Computing layer fractions for
CMAQ"](ch02s15.html#sect_concepts_compute_layer_cmaq "2.15.1. Computing layer fractions for CMAQ"),
if the selection criteria include emissions, then the `PTMPLIST`{.envar}
file will be used to input all hourly emissions files for the entire
modeling episode.
:::

::: {.section lang="en"}
::: {.titlepage}
<div>

<div>

#### []{#d0e6862}2.15.2.2. Using **Laypoint** {#using-laypoint .title}

</div>

</div>
:::

If explicit plume rise sources (e.g., wildfires with precomputed hourly
plume rise) are included in the inventory, you must run the **Laypoint**
program to compute the layer fractions for these sources only. This is
the [*only*]{.emphasis} reason **Laypoint** would be run in the
UAM/CAM~X~ processing approach, and it requires that the
`EXPLICIT_PLUMES_YN`{.envar} and the `HOUR_PLUMEDATA_YN`{.envar}
settings be set to Y. These settings cause **Laypoint** to write the
layer fractions to the `PLAY_EX`{.envar} file instead of to the usual
`PLAY`{.envar} file. For these explicit sources, **Laypoint** will skip
the plume rise calculation. Instead, it will use the hourly data from
the SMOKE `PHOUR`{.envar} intermediate file containing the fraction of
emissions in layer 1 and the top and bottom of the plume. **Laypoint**
will combine these data with the pressure weights used for all elevated
point sources to compute the fraction of emissions to go into each
layer.
:::

::: {.section lang="en"}
::: {.titlepage}
<div>

<div>

#### []{#d0e6905}2.15.2.3. Using **Smkmerge** {#using-smkmerge .title}

</div>

</div>
:::

The **Smkmerge** program looks for the `SMK_ASCIIELEV_YN`{.envar}
setting to determine whether the ASCII output file should be created.
When this is set to Y, the output files from **Elevpoint**
(`PELV`{.envar} and `STACK_GROUPS`{.envar}) are read to determine which
sources should not be included in the 2-D emissions output file for
point sources. The emissions from these sources are instead output to an
ASCII elevated file along with stack parameters and locations so that
the AQM can compute the plume rise.

If `EXPLICIT_PLUMES_YN`{.envar} is also set to Y, **Smkmerge** will read
the `PLAY_EX`{.envar} file for the explicit plume sources. Since the
UAM-based approach assumes that the AQM will compute the plume rise,
SMOKE must manipulate the input file to trick the model into using
precomputed plume rise. This is done by inserting fake stacks into the
ASCII elevated file that extend to the center of each of the model
layers and setting the stack parameters so that the plume rise
calculation will keep the emissions associated with the fake stacks in
the layer of the stack. As the emissions move from layer to layer,
**Smkmerge** moves the reported emissions in the ASCII elevated file
from fake stack to fake stack to represent the same behavior.
:::
:::

::: {.navfooter}

------------------------------------------------------------------------

  ----------------------------------- -------------------- --------------------------------------------
  [Prev](ch02s15.html)                 [Up](ch02s15.html)                          [Next](ch02s16.html)
  2.15. Elevated-source processing     [Home](index.html)     2.16. Mobile-source processing with MOVES
  ----------------------------------- -------------------- --------------------------------------------
:::
