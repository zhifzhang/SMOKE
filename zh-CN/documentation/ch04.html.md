::: {.navheader}
Chapter 4. How to Use SMOKE
:::

[Prev](ch03s03.html) 

 

 [Next](ch04s02.html)

------------------------------------------------------------------------

::: {.chapter lang="en"}
::: {.titlepage}
<div>

<div>

[]{#ch_scripts}Chapter 4. How to Use SMOKE {#chapter-4.-how-to-use-smoke .title}
------------------------------------------

</div>

</div>
:::

::: {.toc}
[[4.1. Introduction](ch04.html#sect_scripts_introduction)]{.section}

[[4.2. Test case descriptions](ch04s02.html)]{.section}

[[4.3. Running the SMOKE test case](ch04s03.html)]{.section}

[[4.4. How to use SMOKE](ch04s04.html)]{.section}
:::

::: {.section lang="en"}
::: {.titlepage}
<div>

<div>

[]{#sect_scripts_introduction}4.1. Introduction {#introduction .title style="clear: both"}
-----------------------------------------------

</div>

</div>
:::

In this chapter, we provide information about using the UNIX scripts
that come with SMOKE to run the test cases and adapting the scripts to
run any case. There are several features of these scripts that
specifically support SMOKE v1.5 and later, and using scripts developed
for earlier versions of SMOKE will not work without adaptations. We
provide a section in this document that explains what changes need to be
made to users' existing scripts to allow them to work with SMOKE.
Alternatively, current users can adapt the new example scripts to their
case. New users are advised to create their scripts based on the example
scripts, following the instructions included in [Section 4.4, "How to
use SMOKE"](ch04s04.html "4.4. How to use SMOKE") this chapter.

For all SMOKE users, a critical file to use and know about is the
Assigns file. If you have followed the SMOKE installation instructions,
then your Assigns file will be located in the directory:
`$SMK_HOME`{.filename}/subsys/smoke/assigns where the `SMK_HOME`{.envar}
directory is set in your `.cshrc`{.filename} file in your home
directory, during the SMOKE installation process.

[**When using SMOKE, the first thing that you should do is go to the
Assigns directory and invoke the Assigns file for the case that you will
be working with. This step needs to be taken in every UNIX window from
which you intend to run SMOKE.**]{.bold}

To invoke the Assigns file, use the following commands:

**`cd $SMK_HOME`/subsys/smoke/assigns** [*(this changes to the correct
directory)*]{.emphasis}

**`source ASSIGNS.nctox.cmaq.cb05_soa.us12-nc`** [*(this invokes the
default assigns file)*]{.emphasis}

Doing this will set a large number of environment variables that you
will then have available for navigating the SMOKE directory structure.
[Table 4.1, "Variable in Assigns file for naming files and
directories"](ch04s04.html#tbl_scripts_variables_files "Table 4.1. Variable in Assigns file for naming files and directories")
and [Table 4.2, "Variables in Assigns file for controlling time period
and grid of
processing"](ch04s04.html#tbl_scripts_variables_time "Table 4.2. Variables in Assigns file for controlling time period and grid of processing")
in [Section 4.4.1, "Change Assigns file to set scenario names, grid
names, and other case-specific configuration
information"](ch04s04.html#sect_scripts_change_assigns "4.4.1. Change Assigns file to set scenario names, grid names, and other case-specific configuration information")
list those environment variables. The environment variables used to
build some of the directory names are also set by the user in the
Assigns file and described in that section.
:::
:::

::: {.navfooter}

------------------------------------------------------------------------

  ----------------------------------------------------- -------------------- ------------------------------
  [Prev](ch03s03.html)                                                                 [Next](ch04s02.html)
  3.3. How to change the default directory structure     [Home](index.html)     4.2. Test case descriptions
  ----------------------------------------------------- -------------------- ------------------------------
:::
