::: {.navheader}
4.4.22. Change reports
:::

[Prev](ch04s04s21.html) 

4.4. How to use SMOKE

 [Next](ch04s04s23.html)

------------------------------------------------------------------------

::: {.section lang="en"}
::: {.titlepage}
<div>

<div>

### []{#sect_scripts_change_reports}4.4.22. Change reports {#change-reports .title}

</div>

</div>
:::

SMOKE provides the **Smkreport** tool as a very flexible tool to
generate reports on your inventory and emissions modeling case. This
program is documented in detail in [Chapter 7, *SMOKE Quality
Assurance*](ch07.html "Chapter 7. SMOKE Quality Assurance"). Here, we
provide the information that you need to reconfigure your scripts to use
different reporting. The `QA_TYPE`{.envar} and `QA_LABEL`{.envar}
environment variables introduced in [Section 4.2.4, "Script
settings"](ch04s02s04.html "4.2.4. Script settings") are clarified here.

::: {.orderedlist}
1.  Customize the names of the output report files and **Smkreport** log
    files.

    The example SMOKE run scripts will name the log files and report
    output files with preset names. If you set the `QA_LABEL`{.envar}
    setting, the reports and log file names will then include the value
    of that setting. For example, if the default report name were
    `a.state.nei99.rpt`{.filename} and `QA_LABEL`{.envar} were set to
    "[run1]{.quote}", the new report name would be
    `a.state.nei99.run1.rpt`{.filename}. The "[run1]{.quote}" in
    `QA_LABEL`{.envar} is inserted before the final "[rpt]{.quote}"
    extension.

2.  Select from one of the default settings for `QA_TYPE`{.envar}

    The default `QA_TYPE`{.envar} settings allow users to run
    **Smkreport** with the default `REPCONFIG`{.envar} files. These
    files are located in the `$OTHER`{.filename} directory, documented
    in [Chapter 3, *SMOKE Directory
    Structure*](ch03.html "Chapter 3. SMOKE Directory Structure"). Each
    source category has its own valid `QA_TYPE`{.envar} settings, and
    each of these settings causes certain reports to be created.
    [Table 4.4, "`QA_TYPE`{.envar} settings with associated source
    categories and default `REPCONFIG`{.envar}
    files"](ch04s04s22.html#tbl_scripts_qa_type "Table 4.4. QA_TYPE settings with associated source categories and default REPCONFIG files")
    indicates which `QA_TYPE`{.envar} setting can be used in which case,
    and the `REPCONFIG`{.envar} files that will be used.

    ::: {.table}
    []{#tbl_scripts_qa_type}
    **Table 4.4. `QA_TYPE`{.envar} settings with associated source
    categories and default `REPCONFIG`{.envar} files**

    +-----------------------+-------------------+-----------------------+
    | `QA_TYPE`{.envar}     | Source Categories | `REPCONFIG`{.envar}   |
    |                       |                   | file from             |
    |                       |                   | `$SMKDAT`{.filename}/ |
    |                       |                   | inventory/nctox/other |
    +=======================+===================+=======================+
    | part1                 |   ---------       |   --------------      |
    | (`RUN_PART1`{.envar}  |   area            | --------------------- |
    | must be set to Y)     |   nonroad         |   `repconfig.a        |
    |                       |   mobile          | r.inv.txt`{.filename} |
    |                       |   point           |   `repconfig.n        |
    |                       |   ---------       | r.inv.txt`{.filename} |
    |                       |                   |   `repconfig.m        |
    |                       |                   | b.inv.txt`{.filename} |
    |                       |                   |   `repconfig.p        |
    |                       |                   | t.inv.txt`{.filename} |
    |                       |                   |   --------------      |
    |                       |                   | --------------------- |
    +-----------------------+-------------------+-----------------------+
    | part2                 |   ---------       |   ------------------- |
    | (`RUN_PART2`{.envar}  |   area            | --------------------- |
    | must be set to Y)     |   nonroad         |   `repconfig.ar.tem   |
    |                       |   mobile          | poral.txt`{.filename} |
    |                       |   point           |   `repconfig.nr.tem   |
    |                       |   ---------       | poral.txt`{.filename} |
    |                       |                   |   `repconfig.mb.tem   |
    |                       |                   | poral.txt`{.filename} |
    |                       |                   |   `repconfig.pt.tem   |
    |                       |                   | poral.txt`{.filename} |
    |                       |                   |   ------------------- |
    |                       |                   | --------------------- |
    +-----------------------+-------------------+-----------------------+
    | part3                 | point             | `repconfig.pt         |
    | (`RUN_PART3`{.envar}  |                   | .elev.txt`{.filename} |
    | must be set to Y)     |                   |                       |
    +-----------------------+-------------------+-----------------------+
    | part4                 | point             | `repconfig.pt.        |
    | (`RUN_PART4`{.envar}  |                   | lfrac.txt`{.filename} |
    | must be set to Y)     |                   |                       |
    +-----------------------+-------------------+-----------------------+
    | all                   |   ---------       | All of the above      |
    |                       |   area            | reports will be       |
    |                       |   nonroad         | generated, provided   |
    |                       |   mobile          | that the              |
    |                       |   point           | `R                    |
    |                       |   ---------       | UN_PART(1-4)`{.envar} |
    |                       |                   | settings are set as   |
    |                       |                   | listed in column 1 of |
    |                       |                   | this table.           |
    +-----------------------+-------------------+-----------------------+
    | custom                |   ---------       | See step (3) below.   |
    |                       |   area            |                       |
    |                       |   nonroad         |                       |
    |                       |   mobile          |                       |
    |                       |   point           |                       |
    |                       |   ---------       |                       |
    +-----------------------+-------------------+-----------------------+
    :::

    The helper script `qa_run.csh`{.filename} is responsible for
    selecting the correct `REPCONFIG`{.envar} file based on the
    `QA_TYPE`{.envar} setting, and these settings need not be changed.
    If users wish to implement a different configuration, the
    "[custom]{.quote}" value of `QA_TYPE`{.envar} should be able to meet
    those needs without any changes to `qa_run.csh`{.filename}. Copying
    the `REPCONFIG`{.envar} files from the example files to your case
    and changing them changes the default reports that are generated by
    SMOKE for your case.

    Users can examine these `REPCONFIG`{.envar} files along with the
    documentation in [Chapter 7, *SMOKE Quality
    Assurance*](ch07.html "Chapter 7. SMOKE Quality Assurance") to
    determine the reports that will be generated by each. These reports
    are also generated during the SMOKE installation and test case run,
    and can provide examples for understanding which reports will be
    written.

3.  Using the "[custom]{.quote}" setting

    If `QA_TYPE`{.envar} is set to "[custom]{.quote}", then the
    `qa_run.csh`{.filename} script expects that users will set the
    correct `REPORT*`{.envar} environment variables in the main body of
    their run script. The `REPORT*`{.envar} environment variables are
    typically used as the logical file names for **Smkreport**, those
    environment variables used are themselves configurable in the
    `REPCONFIG`{.envar} file. The physical file names can also be set in
    the `REPCONFIG`{.envar} file directly, instead of relying on the
    scripts to contain environment variable settings. These options are
    explained in greater detail in [Chapter 7, *SMOKE Quality
    Assurance*](ch07.html "Chapter 7. SMOKE Quality Assurance").
:::
:::

::: {.navfooter}

------------------------------------------------------------------------

  --------------------------------------------------------------- -------------------- ----------------------------------------------------------------------
  [Prev](ch04s04s21.html)                                          [Up](ch04s04.html)                                                 [Next](ch04s04s23.html)
  4.4.21. Determine if a run worked correctly and troubleshoot     [Home](index.html)     4.4.23. Generating CMAQ-ready Source Apportionment Input Data Files
  --------------------------------------------------------------- -------------------- ----------------------------------------------------------------------
:::
