::: {.navheader}
5.2.3. Run MOVES Model
:::

[Prev](ch05s02s02.html) 

5.2. MOVES Utility Scripts

 [Next](ch05s02s04.html)

------------------------------------------------------------------------

::: {.section lang="en"}
::: {.titlepage}
<div>

<div>

### []{#section_moves_runs}5.2.3. Run MOVES Model {#run-moves-model .title}

</div>

</div>
:::

::: {.toc}
[[5.2.3.1. Overview](ch05s02s03.html#d0e17782)]{.section}

[[5.2.3.2. MOVES importer
script](ch05s02s03.html#section_moves_importer)]{.section}

[[5.2.3.3. MOVES Runspec batch
script](ch05s02s03.html#section_moves_runspec_batch)]{.section}
:::

::: {.section lang="en"}
::: {.titlepage}
<div>

<div>

#### []{#d0e17782}5.2.3.1. Overview {#overview .title}

</div>

</div>
:::

Automatically execute multiple MOVES runs based on automatically
generated county-specific data importer script and the MOVES run script
file by **Runspec\_generator.pl**, which specifies the characteristic of
the particular scenario to be modeled.
:::

::: {.section lang="en"}
::: {.titlepage}
<div>

<div>

#### []{#section_moves_importer}5.2.3.2. MOVES importer script {#moves-importer-script .title}

</div>

</div>
:::

::: {.toc}
[[5.2.3.2.1. Description](ch05s02s03.html#d0e17793)]{.section}

[[5.2.3.2.2. Processing Order](ch05s02s03.html#d0e17810)]{.section}

[[5.2.3.2.3. Files, Environment Variables, and Run
Syntax](ch05s02s03.html#d0e17827)]{.section}
:::

::: {.section lang="en"}
::: {.titlepage}
<div>

<div>

##### []{#d0e17793}5.2.3.2.1. Description {#description .title}

</div>

</div>
:::

The MOVES importer script "[importer.\[bat\|csh\]]{.quote}" can be
written in Linux C-shell or Windows Batch script format depending on
which option is chosen by the user in the **Runspec\_generator.pl**. The
importer script loads the county-specific data in the file and creates
the MySQL input database containing local data for the representative
county.

The output of the MOVES batch importer script includes:

::: {.itemizedlist}
-   MySQL databases (\*\_in).
:::
:::

::: {.section lang="en"}
::: {.titlepage}
<div>

<div>

##### []{#d0e17810}5.2.3.2.2. Processing Order {#processing-order .title}

</div>

</div>
:::

importer.csh should be run before runspec.csh. The importer.csh is
written in Linux c-shell script format.

The importer.csh uses following steps:

::: {.orderedlist}
1.  The importer.csh contains all of the user selections needed to
    import data from the files into a MySQL MOVES database

2.  Imports the data for each of the three different emissions
    processes: RPD, RPV, RPP.

3.  Review log file of the MOVES, called importlog\_\*.txt.
:::
:::

::: {.section lang="en"}
::: {.titlepage}
<div>

<div>

##### []{#d0e17827}5.2.3.2.3. Files, Environment Variables, and Run Syntax {#files-environment-variables-and-run-syntax .title}

</div>

</div>
:::

::: {.toc}
[[5.2.3.2.3.1. Input Files](ch05s02s03.html#d0e17830)]{.section}

[[5.2.3.2.3.2. Output Files](ch05s02s03.html#d0e17868)]{.section}
:::

::: {.section lang="en"}
::: {.titlepage}
<div>

<div>

###### []{#d0e17830}5.2.3.2.3.1. Input Files {#input-files .title}

</div>

</div>
:::

::: {.informaltable}
  File Name                                                            Format   Description
  -------------------------------------------------------------------- -------- ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
  RV\_\[CountyRep\]\_\[yearID\]\_\[monthID\]\_\[TempBin\]\_imp.xml     XML      file specifies the zonemonthhour (\*zmh.csv) files and other files that will be imported to MOVES for the Rate Per Vehicle Mode, note: TempBin varies, in 5 degree increments to cover the Temperature Range ie. \[TempBin\] = T10, T15,.. T105 for the temperature range \[TempRange\]= T10\_105
  RP\_\[CountyRep\]\_\[yearID\]\_\[monthID\]\_\[MetProfID\]\_imp.xml   XML      file specifies the zonemonthhour (\*zmh.csv) files that will be imported to MOVES for the Rate Per Process Mode
  RD\_\[CountyRep\]\_\[yearID\]\_\[monthID\]\_\[TempRange\]\_imp.xml   XML      importer file specifies the zonemonthhour (\*zmh.csv) files that will be imported to MOVES for Rate Per Distance Mode
:::
:::

::: {.section lang="en"}
::: {.titlepage}
<div>

<div>

###### []{#d0e17868}5.2.3.2.3.2. Output Files {#output-files .title}

</div>

</div>
:::

::: {.informaltable}
  File Name                                                       Format   Description
  --------------------------------------------------------------- -------- ------------------------------------------------------
  RD\_\[CountyRep\]\_\[yearID\]\_\[monthID\]\_\[TempRange\]\_in   MySQL    MOVES MySQL Database RPD Table (\*\_in)
  RP\_\[CountyRep\]\_\[yearID\]\_\[monthID\]\_\[MetProfID\]\_in   MySQL    MOVES MySQL Database RPP SMOKE format Table (\*\_in)
  RV\_\[CountyRep\]\_\[yearID\]\_\[monthID\]\_\[TempBin\]\_in     MySQL    MOVES MySQL Database RPV Table(\*\_in)
:::
:::
:::
:::

::: {.section lang="en"}
::: {.titlepage}
<div>

<div>

#### []{#section_moves_runspec_batch}5.2.3.3. MOVES Runspec batch script {#moves-runspec-batch-script .title}

</div>

</div>
:::

::: {.toc}
[[5.2.3.3.1. Description](ch05s02s03.html#d0e17909)]{.section}

[[5.2.3.3.2. Processing Order](ch05s02s03.html#d0e17931)]{.section}

[[5.2.3.3.3. Files, Environment Variables, and Run
Syntax](ch05s02s03.html#d0e17954)]{.section}
:::

::: {.section lang="en"}
::: {.titlepage}
<div>

<div>

##### []{#d0e17909}5.2.3.3.1. Description {#description-1 .title}

</div>

</div>
:::

The MOVES Runspec batch script file "[runspec.csh]{.quote}" is used to
execute the MOVES runs for the representative county and reference fuel
month.

The output directories are named according to the following naming
convention: \[CountyRep\]\_\[monthID\]\_\[YearID\]\_\[PollutantID\], ie.
13121\_Apr\_2009\_ozone

The output files include:

::: {.itemizedlist}
-   rateperdistance.\[frm\|MYD\|MYI\]

-   ratepervehicle.\[frm\|MYD\|MYI\]

-   rateperprofile.\[frm\|MYD\|MYI\]
:::
:::

::: {.section lang="en"}
::: {.titlepage}
<div>

<div>

##### []{#d0e17931}5.2.3.3.2. Processing Order {#processing-order-1 .title}

</div>

</div>
:::

runspec.csh is created by **Runspec\_generator.pl** and should be run
after importer.csh and before **moves2smkEF.pl**. The runspec.csh is
written in Linux c-shell script format depending on which platform is
being used (this option is specified by the user in the
Runspec\_generator.pl) the script is used to run MOVES for the
appropriate temperature bins, source types, and poluutants.

The runspec.csh uses following steps:

::: {.orderedlist}
1.  The runspec.csh contains all of the user selections needed to run
    MOVES using the imported MySQL MOVES databases that were created by
    importer.csh

2.  Creates the MOVES output in ASCII format and also provides the
    associated XML files for the three different emissions processes:
    RPD, RPV, RPP.

3.  Review log file of the MOVES, called runlog\_\*.txt.
:::
:::

::: {.section lang="en"}
::: {.titlepage}
<div>

<div>

##### []{#d0e17954}5.2.3.3.3. Files, Environment Variables, and Run Syntax {#files-environment-variables-and-run-syntax-1 .title}

</div>

</div>
:::

::: {.toc}
[[5.2.3.3.3.1. Input Files](ch05s02s03.html#d0e17957)]{.section}

[[5.2.3.3.3.2. Output Files](ch05s02s03.html#d0e18003)]{.section}
:::

::: {.section lang="en"}
::: {.titlepage}
<div>

<div>

###### []{#d0e17957}5.2.3.3.3.1. Input Files {#input-files-1 .title}

</div>

</div>
:::

::: {.informaltable}
  File Name                                                                                          Format   Description
  -------------------------------------------------------------------------------------------------- -------- -------------------------------------------------------------------------------------------------------------------------
  [runspec.csh](ch05s02s03.html#section_moves_runspec_batch "5.2.3.3. MOVES Runspec batch script")   ASCII    runspec script to use the MySQL MOVES databases created by importer.csh and run MOVES
  RV\_\[SCC\]\_\[YR\]\_\[M\]\_\[TempBin\]\_mrs.xml                                                   XML      importer file specifies the zonemonthhour (\*zmh.csv files that will be imported to MOVES for the Rate Per Vehicle Mode
  RP\_\[SCC\]\_\[YR\]\_\[M\]\_\[ProfMYEAR???\]\_mrs.xml                                              XML      importer file specifies the \*.csv files that will be imported to MOVES for the Rate Per Process Mode
  RD\_\[SCC\]\_\[YR\]\_\[M\]\_\[TempBin\]\_\[85 or 90?\]\_mrs.xml                                    XML      importer file specifies the \*.csv files that will be imported to MOVES for Rate Per Distance Mode
:::
:::

::: {.section lang="en"}
::: {.titlepage}
<div>

<div>

###### []{#d0e18003}5.2.3.3.3.2. Output Files {#output-files-1 .title}

</div>

</div>
:::

Note: these output files are placed in separate directories for each
representative county, fuel month and pollutant. Example:
\.../outputs/mysql/13121\_Jan\_2009\_ozone

::: {.informaltable}
  File Name                                          Format   Description
  -------------------------------------------------- -------- -------------------------------------------------------------------------------------------------
  rateperdistance.\[frm\|MYD\|MYI\]                  MySQL    MOVES MySQL Database RPD Table (\*.frm,\*.MYD,\*.MYI)
  ratepervehicle.\[frm\|MYD\|MYI\]                   MySQL    MOVES MySQL Database RPV Table(\*.frm,\*.MYD,\*.MYI)
  ratepervehicle\_smoke.\[frm\|MYD\|MYI\]            MySQL    MOVES MySQL Database RPV SMOKE format Table(\*.frm,\*.MYD,\*.MYI)
  rateperprofile.\[frm\|MYD\|MYI\]                   MySQL    MOVES MySQL Database RPP Table (\*.frm,\*.MYD,\*.MYI)
  rateperprofile\_smoke.\[frm\|MYD\|MYI\]            MySQL    MOVES MySQL Database RPP SMOKE format Table (\*.frm,\*.MYD,\*.MYI)
  activitytype.\[frm\|MYD\|MYI\]                     MySQL    MOVES MySQL Database activity type Table (\*.frm,\*.MYD,\*.MYI)
  agefractotals.\[frm\|MYD\|MYI\]                    MySQL    MOVES age fraction totals Table(\*.frm,\*.MYD,\*.MYI)
  movesactivityoutput.\[frm\|MYD\|MYI\]              MySQL    MOVES MySQL Database activity output Table (\*.frm,\*.MYD,\*.MYI)
  moveserror.\[frm\|MYD\|MYI\]                       MySQL    MOVES MySQL Database error Table (\*.frm,\*.MYD,\*.MYI)
  moveseventlog.\[frm\|MYD\|MYI\]                    MySQL    MOVES MySQL Database event log Table(\*.frm,\*.MYD,\*.MYI)
  movesoutput.\[frm\|MYD\|MYI\]                      MySQL    MOVES MySQL Database output Table (\*.frm,\*.MYD,\*.MYI)
  movesrun.\[frm\|MYD\|MYI\]                         MySQL    MOVES MySQL Database run Table (\*.frm,\*.MYD,\*.MYI)
  movestablesused.\[frm\|MYD\|MYI\]                  MySQL    MOVES MySQL Database tables used Table (\*.frm,\*.MYD,\*.MYI)
  movesworkersused.\[frm\|MYD\|MYI\]                 MySQL    MOVES MySQL Database workers used Table(\*.frm,\*.MYD,\*.MYI)
  moves.\[frm\|MYD\|MYI\]                            MySQL    MOVES MySQL Database output Table (\*.frm,\*.MYD,\*.MYI)
  rdprex.\[frm\|MYD\|MYI\]                           MySQL    MOVES MySQL Database RDPREX Table(\*.frm,\*.MYD,\*.MYI)
  rpprex.\[frm\|MYD\|MYI\]                           MySQL    MOVES MySQL Database RPPREX output Table (\*.frm,\*.MYD,\*.MYI)
  rvprex.\[frm\|MYD\|MYI\]                           MySQL    MOVES MySQL Database RVPREX Table(\*.frm,\*.MYD,\*.MYI)
  sccvtypeagedistribution.\[frm\|MYD\|MYI\]          MySQL    MOVES MySQL Database SCCV Type Age Distribution output Table (\*.frm,\*.MYD,\*.MYI)
  sccvtypeagedistribution\_final.\[frm\|MYD\|MYI\]   MySQL    MOVES MySQL Database SCCV Type Age Distribution Final output Table (\*.frm,\*.MYD,\*.MYI)
  tmprdscc.\[frm\|MYD\|MYI\]                         MySQL    MOVES MySQL Database temporary RD SCC output Table (\*.frm,\*.MYD,\*.MYI)
  tmprpscc.\[frm\|MYD\|MYI\]                         MySQL    MOVES MySQL Database temporary RP SCC output Table (\*.frm,\*.MYD,\*.MYI)
  tmprvscc.\[frm\|MYD\|MYI\]                         MySQL    MOVES MySQL Database temporary RV SCC output Table (\*.frm,\*.MYD,\*.MYI)
  tmp\_sccroadtypedistribution.\[frm\|MYD\|MYI\]     MySQL    MOVES MySQL Database temporary scc road type distribution output Table (\*.frm,\*.MYD,\*.MYI)
  tmp\_srcfuelagedistribution.\[frm\|MYD\|MYI\]      MySQL    MOVES MySQL Database temporary source fuel age distribution output Table (\*.frm,\*.MYD,\*.MYI)
  travelfrac\_denominator.\[frm\|MYD\|MYI\]          MySQL    MOVES MySQL Database travel fraction denominator Table (\*.frm,\*.MYD,\*.MYI)
  travelfrac\_numerator.\[frm\|MYD\|MYI\]            MySQL    MOVES MySQL Database travel fraction numerator Table (\*.frm,\*.MYD,\*.MYI)
  travelfractions.\[frm\|MYD\|MYI\]                  MySQL    MOVES MySQL Database travel fractions Table (\*.frm,\*.MYD,\*.MYI)
:::
:::
:::
:::
:::

::: {.navfooter}

------------------------------------------------------------------------

  ------------------------------ -------------------- ---------------------------------------
  [Prev](ch05s02s02.html)         [Up](ch05s02.html)                  [Next](ch05s02s04.html)
  5.2.2. MOVES Driver Scripts     [Home](index.html)     5.2.4. MOVES Post-processing scripts
  ------------------------------ -------------------- ---------------------------------------
:::
