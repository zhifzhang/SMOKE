::: {.navheader}
2.11.5. Creating speciation intermediate files
:::

[Prev](ch02s11s04.html) 

2.11. Chemical speciation processing

 [Next](ch02s12.html)

------------------------------------------------------------------------

::: {.section lang="en"}
::: {.titlepage}
<div>

<div>

### []{#d0e5746}2.11.5. Creating speciation intermediate files {#creating-speciation-intermediate-files .title}

</div>

</div>
:::

The last task for the chemical speciation processing is creating the
speciation intermediate files. The **Spcmat** program creates a
mole-based speciation matrix (`ASMAT_L`{.envar}, `MSMAT_L`{.envar}, or
`PSMAT_L`{.envar}) and a mass-based speciation matrix
(`ASMAT_S`{.envar}, `MSMAT_S`{.envar}, or `PSMAT_S`{.envar}), as
previously mentioned. These matrices can have any number of
pollutant-to-species conversions; the **Spcmat** program will open
multiple speciation matrix output files if the number of
pollutant-to-species conversions is greater than 120 (the limit for the
number of variables in an I/O API file). **Spcmat** opens and writes as
many files with 120 variables (using the FileSetAPI wrapper) as are
needed to store the data. In addition, the **Spcmat** program writes a
supplementary speciation file (`ASSUP`{.envar}, `MSSUP`{.envar}, or
`PSSUP`{.envar}) that contains the speciation profile assignments for
each source. The structures of the SMOKE intermediate files output by
**Spcmat** are provided in [Section 9.13,
"**Spcmat**"](ch09s13.html "9.13. Spcmat").
:::

::: {.navfooter}

------------------------------------------------------------------------

  -------------------------------------------------- -------------------- ---------------------------
  [Prev](ch02s11s04.html)                             [Up](ch02s11.html)         [Next](ch02s12.html)
  2.11.4. Setting the order of the output species     [Home](index.html)     2.12. Spatial processing
  -------------------------------------------------- -------------------- ---------------------------
:::
