::: {.navheader}
6.6.3. Files and Environment Variables
:::

[Prev](ch06s06s02.html) 

6.6. **Laypoint**

 [Next](ch06s07.html)

------------------------------------------------------------------------

::: {.section lang="en"}
::: {.titlepage}
<div>

<div>

### []{#d0e24700}6.6.3. Files and Environment Variables {#files-and-environment-variables .title}

</div>

</div>
:::

::: {.toc}
[[6.6.3.1. Input Files](ch06s06s03.html#d0e24783)]{.section}

[[6.6.3.2. Input Environment
Variables](ch06s06s03.html#sect_programs_laypoint_envar)]{.section}

[[6.6.3.3. Output Files](ch06s06s03.html#d0e25102)]{.section}
:::

::: {.figure}
[]{#fig_programs_laypoint}

**Figure 6.6. Laypoint input and output files**

::: {.mediaobject}
![Laypoint input and output files](images\programs\laypoint_html.jpg)
:::
:::

[Figure 6.6, "Laypoint input and output
files"](ch06s06s03.html#fig_programs_laypoint "Figure 6.6. Laypoint input and output files")
shows the input and output files for the **Laypoint** program. The input
files include the grid description file (`GRIDDESC`{.envar}) and
meteorology files created by the meteorology preprocessor
(`GRID_CRO_3D`{.envar}, `MET_CRO_2D`{.envar}, `MET_CRO_3D`{.envar}, and
`MET_DOT_3D`{.envar}). If elevated sources have been selected,
**Laypoint** uses the the elevated point source identification file
output from **Elevpoint** (`PELV`{.envar}). Hourly plume data can be
read from the `PHOUR`{.envar} hourly inventory file and annual inventory
data is read from the `PNTS`{.envar} file, both output from
**Smkinven**. When processing fire sources, the `PDAY`{.envar} file
created by **Smkinven** and the `PTMP`{.envar} file created by
**Temporal** may be used.

**Laypoint** outputs a log file (`LOGFILE`{.envar}), hourly plume rise
layer fractions for all sources (`PLAY`{.envar}) or optionally only for
explicit sources (`PLAY_EX`{.envar}), and a report file
`REPRTLAY`{.envar} if reporting is turned on using the
`REP_LAYER_MAX`{.envar} setting.

::: {.section lang="en"}
::: {.titlepage}
<div>

<div>

#### []{#d0e24783}6.6.3.1. Input Files {#input-files .title}

</div>

</div>
:::

::: {.informaltable}
  File Name                          Format           Description
  ---------------------------------- ---------------- ----------------------------------------------------------------------------------------------------------
  `GRIDDESC`{.envar}                 ASCII            Description of the modeling grid
  `GRID_CRO_3D`{.envar} (optional)   I/O API NetCDF   Meteorology file produced by the meteorology preprocessor; only needed if using static layer information
  `MET_CRO_2D`{.envar}               I/O API NetCDF   Meteorology file produced by the meteorology preprocessor
  `MET_CRO_3D`{.envar}               I/O API NetCDF   Meteorology file produced by the meteorology preprocessor
  `MET_DOT_3D`{.envar}               I/O API NetCDF   Meteorology file produced by the meteorology preprocessor
  `PDAY`{.envar} (optional)          I/O API NetCDF   Daily point-source inventory file produced by **Smkinven**
  `PELV`{.envar} (optional)          ASCII            Elevated point source identification file produced by **Elevpoint**
  `PHOUR`{.envar} (optional)         I/O API NetCDF   Hourly point-source inventory file produced by **Smkinven**
  `PNTS`{.envar}                     SMOKE map        Intermediate inventory file produced by **Smkinven**
  `PTMP`{.envar}                     I/O API NetCDF   Hourly emissions file produced by **Temporal**
:::
:::

::: {.section lang="en"}
::: {.titlepage}
<div>

<div>

#### []{#sect_programs_laypoint_envar}6.6.3.2. Input Environment Variables {#input-environment-variables .title}

</div>

</div>
:::

::: {.itemizedlist}
-   `EXPLICIT_PLUMES_YN`{.envar}: \[default: N\]

    Indicates whether only explicit plume rise sources should be
    calculated.

    ::: {.itemizedlist}
    -   Y: Process only explicit plume rise sources; automatically sets
        `HOUR_PLUMEDATA_YN`{.envar} to Y

    -   N: Process all sources
    :::

-   `FIRE_AREA`{.envar}: \[default: 0.0\]

    Sets daily area burned in acres/day; only used when
    `FIRE_PLUME_YN`{.envar} is set to Y and `HOURLY_FIRE_YN`{.envar} is
    set to N.

-   `FIRE_HFLUX`{.envar}: \[default: 0.0\]

    Sets hourly heat flux value in BTU/hr; only used when
    `FIRE_PLUME_YN`{.envar} is set to Y and `HOURLY_FIRE_YN`{.envar} is
    set to N.

-   `FIRE_PLUME_YN`{.envar}: \[default: N\]

    Indicates if fire-specific plume rise calculations should be used.

    ::: {.itemizedlist}
    -   Y: Use fire-specific plume rise calculations for all sources

    -   N: Use traditional plume rise calculations based on stack
        parameters for all sources
    :::

-   `HOUR_PLUMEDATA_YN`{.envar}: \[default: N\]

    Indicates whether hourly plume rise data should be used.

    ::: {.itemizedlist}
    -   Y: Use hourly data; requires `PHOUR`{.envar} file

    -   N: Do not use hourly data
    :::

-   `HOURLY_FIRE_YN`{.envar}: \[default: N\]

    Indicates if hourly fire data should be used; only checked when
    `FIRE_PLUME_YN`{.envar} is set to Y.

    ::: {.itemizedlist}
    -   Y: Read hourly heat flux from `PTMP`{.envar} file and daily area
        burned from `PDAY`{.envar} file

    -   N: Get heat flux and area burned from environment variables
        `FIRE_AREA`{.envar} and `FIRE_HFLUX`{.envar}
    :::

-   `IOAPI_ISPH`{.envar}: See description in [Section 6.3.3.2, "Input
    Environment
    Variables"](ch06s03s03.html#sect_programs_elevpoint_envar "6.3.3.2. Input Environment Variables")

-   `PLUME_GTEMP_NAME`{.envar}: \[default: TEMP2\]

    Sets ground temperature variable name from meteorology file for
    plume rise calcuation.

-   `REP_LAYER_MAX`{.envar}: \[default: -1\]

    Layer number for reporting high plume rise; reporting is turned off
    if set to less than 1.

-   `SMK_EMLAYS`{.envar}: \[default: -1\]

    Number of emissions layers; must be at least 4 otherwise program
    will not run.

-   `SMK_SOURCE`{.envar}: See description in [Section 6.2.3.2, "Input
    Environment
    Variables"](ch06s02s03.html#sect_programs_cntlmat_envar "6.2.3.2. Input Environment Variables").

-   `SMK_SPECELEV_YN`{.envar}: \[default: N\]

    Defines whether the **Elevpoint** output file `PELV`{.envar} will be
    used to set elevated sources.

    ::: {.itemizedlist}
    -   Y: Use the `PELV`{.envar} file to set elevated sources during
        run

    -   N: Let **Laypoint** plume rise calculation determine whether or
        not sources are elevated
    :::

-   `USE_EDMS_DATA_YN`{.envar}: \[default: N\]

    Process EDMS aviation source elevation height as its plume rise and
    distributes the emissions into the layer where it belongs to.

    ::: {.itemizedlist}
    -   Y: Skip plume rise calculation and distribute EDMS aviation
        emissions into the layer where it belongs to using its elevation
        height.

    -   N: Do not process EDMS aviation sources
    :::

-   `VELOC_RECALC`{.envar}: \[default: N\]

    Determines whether velocity should be recalculated based on hourly
    flow rates and stack diameter.

    ::: {.itemizedlist}
    -   Y: Recalculate velocity for hourly data

    -   N: Use velocity values from hourly inventory file
    :::

-   `VERTICAL_SPREAD`{.envar}: \[default: 0\]

    Sets the vertical spread method for determining the bottom and top
    heights of each plume.

    ::: {.itemizedlist}
    -   0: Use the default Turner approach where plume thickness equals
        the amount of plume rise

    -   1: Compute vertical spread using ambient temperature data
    :::
:::
:::

::: {.section lang="en"}
::: {.titlepage}
<div>

<div>

#### []{#d0e25102}6.6.3.3. Output Files {#output-files .title}

</div>

</div>
:::

::: {.informaltable}
  File Name            Format           Description
  -------------------- ---------------- --------------------------------------------------------
  `LOGFILE`{.envar}    ASCII            Log generated from executing **Laypoint**
  `PLAY`{.envar}       I/O API NetCDF   Hourly plume rise layer fractions by source
  `PLAY_EX`{.envar}    I/O API NetCDF   Hourly plume rise layer fractions for explicit sources
  `REPRTLAY`{.envar}   ASCII            Report file for plumes exceeding specified layer
:::
:::
:::

::: {.navfooter}

------------------------------------------------------------------------

  -------------------------- -------------------- -----------------------
  [Prev](ch06s06s02.html)     [Up](ch06s06.html)     [Next](ch06s07.html)
  6.6.2. Processing Order     [Home](index.html)       6.7. **Met4moves**
  -------------------------- -------------------- -----------------------
:::
