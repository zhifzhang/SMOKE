::: {.navheader}
6.17.3. Files and Environment Variables
:::

[Prev](ch06s17s02.html) 

6.17. **Tmpbeis3**

 [Next](ch07.html)

------------------------------------------------------------------------

::: {.section lang="en"}
::: {.titlepage}
<div>

<div>

### []{#d0e32345}6.17.3. Files and Environment Variables {#files-and-environment-variables .title}

</div>

</div>
:::

::: {.toc}
[[6.17.3.1. Input Files](ch06s17s03.html#d0e32410)]{.section}

[[6.17.3.2. Input Environment
Variables](ch06s17s03.html#d0e32513)]{.section}

[[6.17.3.3. Output Files](ch06s17s03.html#d0e32804)]{.section}

[[6.17.3.4. Processing Multiple Days with
BEIS3](ch06s17s03.html#d0e32855)]{.section}
:::

::: {.figure}
[]{#fig_programs_tmpbeis3}

**Figure 6.26. Tmpbeis3 input and output files**

::: {.mediaobject}
![Tmpbeis3 input and output files](images\programs\tmpbeis3_html.jpg)
:::
:::

[Figure 6.26, "Tmpbeis3 input and output
files"](ch06s17s03.html#fig_programs_tmpbeis3 "Figure 6.26. Tmpbeis3 input and output files")
shows the input and output files for the **Tmpbeis3** program. The input
files include the gridded, normalized biogenic emissions from
**Normbeis3** (`B3GRD`{.envar}) and, if `BIOSW_YN`{.envar} = Y, then a
gridded, seasonal switch file output from **Metscan** is required
(`BIOSEASON`{.envar}). The biogenic speciation profiles are read from
the `GSPRO`{.envar} file and the `GRID_CRO_2D`{.envar} contains the
latitude and longitute for each grid cell. **Tmpbeis3** reads surface
pressure and radiation/cloud data from `MET_FILE1`{.envar} and
optionally from `MET_FILE2`{.envar} if `BIOMET_SAME`{.envar} = N.

**Tmpbeis3** outputs gridded, speciated, hourly biogenic emissions files
in moles/hour (`B3GTS_L`{.envar}) and tons/hour (`B3GTS_S`{.envar}). The
program also outputs an execution log file (`LOGFILE`{.envar}).

::: {.section lang="en"}
::: {.titlepage}
<div>

<div>

#### []{#d0e32410}6.17.3.1. Input Files {#input-files .title}

</div>

</div>
:::

::: {.informaltable}
  File Name                        Format           Description
  -------------------------------- ---------------- -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
  `B3GRD`{.envar}                  I/O API NetCDF   Gridded, normalized biogenic emissions, output from **Normbeis3**
  `BIOSEASON`{.envar} (optional)   I/O API NetCDF   Gridded seasonal switch file containing daily data, with "[0]{.quote}" meaning use winter normalized emissions and "[1]{.quote}" meaning use the summer normalized emissions, produced by **Metscan**
  `GSPRO`{.envar}                  ASCII            Speciation profiles file ([**use "[BV309]{.quote}" for CB04 speciation profile or "[B10C5]{.quote}" for CB05 speciation profile.**]{.bold})
  `GRID_CRO_2D`{.envar}            I/O API NetCDF   Meteorology file containing latitude and longitude coordinates for each grid cell
  `MET_FILE1`{.envar}              I/O API NetCDF   Meteorology file containing temperature and surface pressure data and possibly radiation/cloud data as well (see `BIOMET_SAME`{.envar} environment variable)
  `MET_FILE2`{.envar} (optional)   I/O API NetCDF   Meteorology file containing radiation/cloud data if not in `MET_FILE1`{.envar}
  `SOILINP`{.envar} (optional)     I/O API NetCDF   Gridded soil restart file ( use if `INITIAL_RUN = N`{.envar})
:::
:::

::: {.section lang="en"}
::: {.titlepage}
<div>

<div>

#### []{#d0e32513}6.17.3.2. Input Environment Variables {#input-environment-variables .title}

</div>

</div>
:::

::: {.itemizedlist}
-   `BEIS_VERSION`{.envar}: \[default: 3.60\]

    Specifies which version of BEIS3 to use.

    ::: {.itemizedlist}
    -   3.60: Use BEIS version 3.60.

    -   3.14: Use BEIS version 3.14.
    :::

-   `BG_CLOUD_TYPE`{.envar}: \[default: 1\]

    Specifies which meteorological data to use.

    ::: {.itemizedlist}
    -   1: Use RGND or RSD (solar radiation reaching the ground) from
        MM5 to calculate PAR. No other options are supported at this
        time.
    :::

-   `BIOG_SPRO`{.envar}: \[default: BV310\]

    Specifies the speciation profile for biogenic emissions from GSPRO.

    ::: {.itemizedlist}
    -   B3V10: Use BEIS version 3.60.

    -   BV313: Use BEIS version 3.14.
    :::

-   `BIOMET_SAME`{.envar}: \[default: N\]

    Defines whether the radiation/cloud data are in the same file as the
    temperature data (`MET_FILE1`{.envar}) or in a different file
    (`MET_FILE2`{.envar}).

-   `BIOSW_YN`{.envar}: \[default: Y\]

    Indicates whether to use a gridded seasonal switch file.

    ::: {.itemizedlist}
    -   Y: Use gridded seasonal switch file `BIOSEASON`{.envar}

    -   N: Use environment variable `SUMMER_YN`{.envar} to determine
        season
    :::

-   `INITIAL_RUN`{.envar}: \[default: N\]

    Indicates whether a particular day is the first day in a sequence of
    simulations.

    ::: {.itemizedlist}
    -   Y: Use for the first day in a sequence of simulations. Use if
        the `SOILINP`{.envar} file does not yet exist (i.e., the soil NO
        calculations will not depend on the previous day's rainfall).

    -   N: Use for subsequent days in a sequence of simulations. Use if
        the `SOILINP`{.envar} file exists.
    :::

    Note that BEIS3 will create a `SOILINP`{.envar} file for days
    subsequent to the first day in a sequence of simulations.

-   `ISLTYP_VAR`{.envar}: \[default: SLTYP\]

    Specifies the soil type variable name used if
    `PX_VERSION = Y.`{.envar}

-   `LAI_VAR`{.envar}: \[default: LAI\]

    Specifies the variable name for the leaf area index from the me
    model (e.g. WRF) used for the leaf temperature algorithm (Only for
    BEIS version 3.60)

-   `OUTZONE`{.envar}: See description in [Section 6.16.3.2, "Input
    Environment
    Variables"](ch06s16s03.html#sect_programs_temporal_envar "6.16.3.2. Input Environment Variables")

-   `OUT_UNITS`{.envar}: \[default: 1\]

    Specifies units for the output variables.

    ::: {.itemizedlist}
    -   1: moles per hour.

    -   2: moles per second.
    :::

-   `PRES_VAR`{.envar}: \[default: PRSFC\]

    Specifies the variable name for surface pressure data to extract
    from `MET_FILE1`{.envar}.

-   `PX_VERSION`{.envar}: \[default: N\]

    Indicates whether the Pleim-Xiu land surface model was used in the
    MM5 simulations.

    ::: {.itemizedlist}
    -   Y: Use if the Pleim-Xiu land surface model was used in the MM5
        simulations. Indicates that `MET_FILE1`{.envar} contains soil
        temperature, soil moisture and soil type fields that can be
        used, along with rainfall data, for NO soil emission
        calculations in **Tmpbeis3**.

    -   N: Use if the Pleim-Xiu land surface model was not used in the
        MM5 simulations. Indicates that **Tmpbeis3** will calculate NO
        soil emissions using only rainfall data.
    :::

-   `Q2_VAR`{.envar}: \[default: Q2\]

    Specifies the variable name for the two meter water vapor mixing
    ratio (kg/kg) used for the leaf temperature algorithm (Only for BEIS
    version 3.60).

-   `RAD_VAR`{.envar}: \[default: RGRND\]

    Specifies the variable name for radiation/cloud data to extract from
    either `MET_FILE1`{.envar} or optional `MET_FILE2`{.envar}.

-   `RADYNI_VAR`{.envar}: \[default: RADYNI\]

    Specifies the variable name for the aerodynamic resistance variable
    (s/m) used for the leaf temperature algorithm (Only for BEIS version
    3.60).

-   `RGRND_VAR`{.envar}: \[default: RGRND\]

    Specifies the variable name for the solar radiation reaching the
    ground used for the leaf temperature algorithm (Only for BEIS
    version 3.60).

-   `RSTOMI_VAR`{.envar}: \[default: RSTOMI\]

    Specifies the variable name for the inverse of the stomatal
    resistance variable (m/s) used for the leaf temperature algorithm
    (Only for BEIS version 3.60).

-   `RC_VAR`{.envar}: \[default: RC\]

    Specifies the convective rainfall variable name used in
    `MET_FILE1`{.envar}.

-   `RN_VAR`{.envar}: \[default: RN\]

    Specifies the non-convective rainfall variable name used in
    `MET_FILE1`{.envar}.

-   `SOILM_VAR`{.envar}: \[default: SOIM1\]

    Specifies the soil moisture variable name used if
    `PX_VERSION = Y`{.envar}.

-   `SOILT_VAR`{.envar}: \[default: SOIT1\]

    Specifies the soil temperature variable name used if
    `PX_VERSION = Y`{.envar}.

-   `SUMMER_YN`{.envar}: \[default: Y\]

    Indicates whether summer or winter normalized emissions should be
    used; only used when `BIOSW_YN`{.envar} is N.

    ::: {.itemizedlist}
    -   Y: Use summer normalized emissions

    -   N: Use winter normalized emissions
    :::

-   `TEMPG_VAR`{.envar}: \[default: TEMPG\]

    Specifies the skin temperature at the ground level (K) used for the
    leaf temperature algorithm (Only for BEIS version 3.60).

-   `TMPR_VAR`{.envar}: \[default: TA\]

    Specifies the variable name for temperature to extract from
    `MET_FILE1`{.envar}.

-   `USTAR_VAR`{.envar}: \[default: USTAR\]

    Specifies the variable name for the surface friction velocity (m/s)
    used for the leaf temperature algorithm (Only for BEIS version
    3.60).
:::
:::

::: {.section lang="en"}
::: {.titlepage}
<div>

<div>

#### []{#d0e32804}6.17.3.3. Output Files {#output-files .title}

</div>

</div>
:::

::: {.informaltable}
  File Name           Format           Description
  ------------------- ---------------- --------------------------------------------------------------
  `B3GTS_L`{.envar}   I/O API NetCDF   Gridded, speciated, hourly biogenic emissions, in moles/hour
  `B3GTS_S`{.envar}   I/O API NetCDF   Gridded, speciated, hourly biogenic emissions, in tons/hour
  `SOILOUT`{.envar}   I/O API NetCDF   Gridded soil restart file
  `LOGFILE`{.envar}   ASCII            Log generated from executing **Tmpbeis3**
:::
:::

::: {.section lang="en"}
::: {.titlepage}
<div>

<div>

#### []{#d0e32855}6.17.3.4. Processing Multiple Days with BEIS3 {#processing-multiple-days-with-beis3 .title}

</div>

</div>
:::

The user must point to the `SOILOUT`{.envar} file from one day's
simulation as the `SOILINP`{.envar} file for the next day. The user must
also decide whether to write over `SOILOUT`{.envar} files from previous
days or create a uniquely named `SOILOUT`{.envar} file for each day. The
latter approach is recommended if the user wishes to retain the
capability to restart simulations in the middle of a sequence of
simulations.
:::
:::

::: {.navfooter}

------------------------------------------------------------------------

  --------------------------- -------------------- -------------------------------------
  [Prev](ch06s17s02.html)      [Up](ch06s17.html)                      [Next](ch07.html)
  6.17.2. Processing Order     [Home](index.html)     Chapter 7. SMOKE Quality Assurance
  --------------------------- -------------------- -------------------------------------
:::
