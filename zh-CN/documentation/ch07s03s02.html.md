::: {.navheader}
7.3.2. Define-group section
:::

[Prev](ch07s03.html) 

7.3. `REPCONFIG`{.envar} Input File

 [Next](ch07s03s03.html)

------------------------------------------------------------------------

::: {.section lang="en"}
::: {.titlepage}
<div>

<div>

### []{#sect_qa_repconfig_define_group}7.3.2. Define-group section {#define-group-section .title}

</div>

</div>
:::

::: {.toc}
[[7.3.2.1. /DEFINE GROUP REGION/
packet](ch07s03s02.html#d0e33714)]{.section}

[[7.3.2.2. /DEFINE SUBGRID/ packet](ch07s03s02.html#d0e33735)]{.section}

[[7.3.2.3. Group labels](ch07s03s02.html#d0e33774)]{.section}

[[7.3.2.4. INCLUDE and EXCLUDE
instructions](ch07s03s02.html#d0e33779)]{.section}

[[7.3.2.5. Future grouping options](ch07s03s02.html#d0e33827)]{.section}
:::

The second section of the `REPCONFIG`{.envar} file is the Define-group
section. This optional section is used for defining groups of source
characteristics for use later in the Create-reports section. The
Define-group section uses packets for defining groups. There are
currently two types of groupings, and therefore two packet types for
this section: regions and subgrids.

::: {.section lang="en"}
::: {.titlepage}
<div>

<div>

#### []{#d0e33714}7.3.2.1. /DEFINE GROUP REGION/ packet {#define-group-region-packet .title}

</div>

</div>
:::

The /DEFINE GROUP REGION/ packet is used for defining groups by the
country, state, and county codes in the inventory. The packet contains
the following entries.

::: {.itemizedlist}
-   /DEFINE GROUP REGION/ \<Label\>

    Must appear to start the packet. A label (see below) is required for
    naming the group.

-   INCLUDE and/or EXCLUDE instruction(s) (see below). These are
    optional.

    Country, state, and county codes in format NSSCCC, where N is the
    country number, SS is the state code, and CCC is the county code.
    Zeros can be used in place of CCC to select all counties in a state,
    or in place of SSCCC to select all counties and states in a country.

-   /END/

    Must appear to end the packet.
:::
:::

::: {.section lang="en"}
::: {.titlepage}
<div>

<div>

#### []{#d0e33735}7.3.2.2. /DEFINE SUBGRID/ packet {#define-subgrid-packet .title}

</div>

</div>
:::

The /DEFINE SUBGRID/ packet is used for defining subdomains based on
cell numbers from the full grid being applied using the gridding
matrices. The packet contains the following entries.

::: {.itemizedlist}
-   /DEFINE SUBGRID/ \<Label\>

    Must appear to start the packet. A label (see below) is required for
    naming the subgrid.

-   INCLUDE and/or EXCLUDE instruction(s) (see below) These are
    optional.

    (X cell, Y cell):

    Cell numbers should appear for all cells in the subgrid. The count
    (i.e. the x-cell count and the y-cell count) of the cells depends on
    the grid defined by the gridding matrix being used by **Smkreport**.
    A range can be given with the following syntax:

    (X cell, Y cell) TO (X cell, Y cell)

    If only one cell is to be specified, the range must still appear,
    with both entries indicating the same cell.

    **Smkreport** is not very sensitive to the spacing of this
    instruction, and additional spaces or no spaces may be placed
    between the parentheses, the cell numbers, and the commas. Spaces
    around the "[TO]{.quote}" are recommended.

    The maximum width of these lines is 100 characters. Multiple entries
    of this type may appear in the packet, allowing for the grouping of
    spatially unconnected cells/regions or non-rectangular regions.

-   /END/

    Must appear to end the packet.
:::
:::

::: {.section lang="en"}
::: {.titlepage}
<div>

<div>

#### []{#d0e33774}7.3.2.3. Group labels {#group-labels .title}

</div>

</div>
:::

Group labels, denoted above by \<Label\>, are used to name a group for
identification when creating a report in the Create-report section. The
text appearing in the placeholder \<Label\> can be any alphanumeric
combination of characters up to 200 characters, including intervening
blanks. The text string (less trailing blanks) that occurs after /DEFINE
\.../ and before a comment (indicated with \#\#), is treated as the
group label. References to the group label in the Create-report section
do not have to be consistent in the case of the text; SMOKE will ignore
the case of the text, treating lower- and uppercase characters as if
they were the same.
:::

::: {.section lang="en"}
::: {.titlepage}
<div>

<div>

#### []{#d0e33779}7.3.2.4. INCLUDE and EXCLUDE instructions {#include-and-exclude-instructions .title}

</div>

</div>
:::

The INCLUDE and EXCLUDE instructions are used for defining the meaning
of the entries in the packet. If the INCLUDE instruction appears, then
**Smkreport** interprets the subsequent entries in the packet as
identifying records to [*include*]{.emphasis} in the output report(s).
On the other hand, if the EXCLUDE instruction appears, then
**Smkreport** interprets the subsequent entries in the packet as
identifying records to [*exclude*]{.emphasis} from the output report(s).
The INCLUDE and EXCLUDE instructions may appear in both the /DEFINE
GROUP REGION/ and /DEFINE SUBGRID/ packets. These instructions act as
toggle switches, and **Smkreport** will give a warning if a county
previously included is later excluded. All packet entries after an
instruction will be interpreted according to the instruction, until
another instruction is given, or until the packet ends. The INCLUDE
instruction is the default, so if neither instruction is given, SMOKE
will assume that the records in the packet are those to be only in the
report.

The ordering of INCLUDE or EXCLUDE instructions in a group definition
can change the meaning of the group definition. If INCLUDE is given
first, **Smkreport** will initialize the group to exclude all grid cells
and then proceed with interpreting the instructions. On the other hand,
if EXCLUDE is given first, **Smkreport** will initialize the group to
include all grid cells. Here is an example for a small 6-cell by 6-cell
grid, which shows how the order of the INCLUDE and EXCLUDE statements
changes the meaning of a group definition.

If the instructions are

``` {.programlisting}
/DEFINE SUBGRID/ Example subgrid
    INCLUDE
      (2,2) TO (6,6)
    EXCLUDE 
      (3,3) TO (5,5)
    INCLUDE 
      (4,4) TO (4,4)
/END/
```

then the following cells (shown in gray) will be selected:

::: {.informalfigure}
::: {.mediaobject}
![](images\qa\group_1_html.jpg)
:::
:::

If the instructions were rearranged to have the EXCLUDE statement first,
then the initialized status for all cells would be INCLUDE. The
additional INCLUDE statements are therefore unneeded, and the definition
of the group changes to the following:

::: {.informalfigure}
::: {.mediaobject}
![](images\qa\group_2_html.jpg)
:::
:::
:::

::: {.section lang="en"}
::: {.titlepage}
<div>

<div>

#### []{#d0e33827}7.3.2.5. Future grouping options {#future-grouping-options .title}

</div>

</div>
:::

As noted above, the `REPCONFIG`{.envar} file currently can have only two
possible groups in the Define-group section (regions and subgrids) In
the future, other types of groups could be permitted if a need for them
is identified:

::: {.itemizedlist}
-   /DEFINE GROUP SCC/: Permits user-defined SCC groups

-   /DEFINE GROUP PLANT/ Permits user-defined groups by
    country/state/county code and plant ID

-   /DEFINE GROUP STACK/ Permits user-define groups by
    country/state/county code, plant ID, and stack ID

-   /DEFINE GROUP POINT/ / Permits user-define groups by
    country/state/county code, plant ID, stack ID, and point ID

-   /DEFINE GROUP SOURCE/: Permits user-defined source groups by SMOKE
    source ID

-   /DEFINE GROUP HOURS/: Permits user-defined hour groupings
:::
:::
:::

::: {.navfooter}

------------------------------------------------------------------------

  -------------------------------------- -------------------- -------------------------------
  [Prev](ch07s03.html)                    [Up](ch07s03.html)          [Next](ch07s03s03.html)
  7.3. `REPCONFIG`{.envar} Input File     [Home](index.html)     7.3.3. Create-report Section
  -------------------------------------- -------------------- -------------------------------
:::
