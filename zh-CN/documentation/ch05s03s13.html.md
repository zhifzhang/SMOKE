::: {.navheader}
5.3.13. **Smk2emis**
:::

[Prev](ch05s03s12.html) 

5.3.  SMOKE Utility Programs

 [Next](ch05s03s14.html)

------------------------------------------------------------------------

::: {.section lang="en"}
::: {.titlepage}
<div>

<div>

### []{#sect_utilities_smk2emis}5.3.13. **Smk2emis** {#smk2emis .title}

</div>

</div>
:::

::: {.toc}
[[5.3.13.1. Description](ch05s03s13.html#d0e20929)]{.section}

[[5.3.13.2. Processing Order](ch05s03s13.html#d0e20946)]{.section}

[[5.3.13.3. Files and Environment
Variables](ch05s03s13.html#d0e20974)]{.section}
:::

::: {.section lang="en"}
::: {.titlepage}
<div>

<div>

#### []{#d0e20929}5.3.13.1. Description {#description .title}

</div>

</div>
:::

The **Smk2emis** program converts SMOKE I/O API gridded, mole-speciated,
hourly emissions into the Fortran-binary format used for 2-D emissions
by UAM and CAM~X~. Files of this format use the UAM keyword
"[EMISSIONS]{.quote}". The SMOKE user is responsible for preparing the
I/O API inputs with the appropriate chemical species, grid structures,
time steps, and units for use in whatever model will be using the
results of **Smk2emis**.
:::

::: {.section lang="en"}
::: {.titlepage}
<div>

<div>

#### []{#d0e20946}5.3.13.2. Processing Order {#processing-order .title}

</div>

</div>
:::

**Smk2emis** inputs the I/O API gridded, speciated, hourly emissions
files output from **Smkmerge** (`AGTS_L`{.envar}, `MGTS_L`{.envar},
`PGTS_L`{.envar}, or `EGTS_L`{.envar}) or output from **Tmpbeis3**
(`BGTS_L`{.envar}).
:::

::: {.section lang="en"}
::: {.titlepage}
<div>

<div>

#### []{#d0e20974}5.3.13.3. Files and Environment Variables {#files-and-environment-variables .title}

</div>

</div>
:::

::: {.toc}
[[5.3.13.3.1. Input Files](ch05s03s13.html#d0e20977)]{.section}

[[5.3.13.3.2. Input Environment
Variables](ch05s03s13.html#d0e21013)]{.section}

[[5.3.13.3.3. Other Inputs](ch05s03s13.html#d0e21224)]{.section}

[[5.3.13.3.4. Output Files](ch05s03s13.html#d0e21245)]{.section}
:::

::: {.section lang="en"}
::: {.titlepage}
<div>

<div>

##### []{#d0e20977}5.3.13.3.1. Input Files {#input-files .title}

</div>

</div>
:::

::: {.informaltable}
  File Name                    Format           Description
  ---------------------------- ---------------- -----------------------------------------------------------------------------------------------------------------------------------------------------------------------
  `[A|B|M|P|E]GTS_L`{.envar}   I/O API NetCDF   SMOKE 2-D gridded, mole-speciated, hourly emissions file.
  `VNAMMAP`{.envar}            ASCII            Optional file for renaming variables from those in the I/O API file header to those needed by the AQM. See the `SMK2EMIS_VMAP_YN`{.envar} environment variable below.
:::
:::

::: {.section lang="en"}
::: {.titlepage}
<div>

<div>

##### []{#d0e21013}5.3.13.3.2. Input Environment Variables {#input-environment-variables .title}

</div>

</div>
:::

::: {.itemizedlist}
-   `FLABEL`{.envar}: \[default: EMISSIONS (currently the only working
    option)\]

    Defines what type of UAM/CAM~X~ file to output. This setting cannot
    be adjusted by the user, because the current version of **Smk2emis**
    can generate only the "[EMISSIONS]{.quote}" file.

-   `SMK2EMIS_VMAP_YN`{.envar}: \[default: N\]

    Controls whether the name remapping file will be read in, to cause
    **Smk2emis** to output different variable names than are in the
    input file. This is needed for using UAM-AERO, which requires
    symbols in the variable names (such as "[.]{.quote}", "[+]{.quote}",
    and "[-]{.quote}") that are not permitted in I/O API file variable
    names.

    ::: {.itemizedlist}
    -   Y: Use the `VNAMMAP`{.envar} file

    -   N: Do not use the `VNAMMAP`{.envar} file
    :::

-   `SMK_SOURCE`{.envar}: \[default: none\]

    Defines the type of sources to be processed. Valid values are:

    ::: {.itemizedlist}
    -   A: Area sources

    -   B: Biogenic sources

    -   M: On-road mobile sources

    -   P: Point sources

    -   E: All emissions sources (determined by how **Smkmerge** was
        run)
    :::

    In **Smk2emis**, this variable controls the name of the input NetCDF
    logical file and the name of the output binary logical file. Unlike
    in most other SMOKE programs, for this program `SMK_SOURCE`{.envar}
    can be set to "[E]{.quote}" to indicate that the "[every]{.quote}"
    source category merged file (`EGTS_L`{.envar}) should be converted
    from I/O API to Fortran-binary format.

-   `UTM_ZONE`{.envar}: \[default: -9\]

    Defines UTM zone for the header of the UAM EMISSIONS file.

    ::: {.itemizedlist}
    -   -9: Latitude-longitude projection
    :::

-   `UAM_LAYERS`{.envar}: \[default: NLAYS3D\]

    Defines number of layers in output file

    ::: {.itemizedlist}
    -   NLAYS3D: Value from SMOKE netCDF input file
    :::

-   `UAM4_LAYBELOW`{.envar}: \[default: 0\]

    Defines number of layers below diffusion break

    ::: {.itemizedlist}
    -   0: UAM-V or CAM~X~ style

    -   \>0: UAM-IV style
    :::

-   `UAM4_LAYABOVE`{.envar}: \[default: 0\]

    Defines number of layers above diffusion break

    ::: {.itemizedlist}
    -   0: UAM-V or CAM~X~ style

        \>0: UAM-IV style
    :::

-   `UAM4_HTSFC`{.envar}: \[default: 0.0\]

    Defines height of surface layer

    ::: {.itemizedlist}
    -   0.0: UAM-V or CAM~X~ style

    -   \>0.0: UAM-IV style
    :::

-   `UAM4_HTLOWR`{.envar}: \[default: 0.0\]

    Defines minimum height of cells between surface layer and diffusion
    break (meters)

    ::: {.itemizedlist}
    -   0.0: UAM-V or CAM~X~ style

    -   \>0.0: UAM-IV
    :::

-   `UAM4_HTUPPR`{.envar}: \[default: 0.0\]

    Defines minimum height of cells between diffusion break and top of
    region(meters)

    ::: {.itemizedlist}
    -   0.0: UAM-V or CAM~X~ style

    -   \>0.0: UAM-IV
    :::

-   `UAM_NOTE`{.envar}: \[default: UAM gridded emissions from SMK2EMIS\]

    Defines the note to be written to the header of the UAM or CAM~X~
    output file
:::
:::

::: {.section lang="en"}
::: {.titlepage}
<div>

<div>

##### []{#d0e21224}5.3.13.3.3. Other Inputs {#other-inputs .title}

</div>

</div>
:::

If you are running **Smk2emis** interactively, the following inputs will
be requested. The default values for these are set by the time variables
found in the input I/O API file header. If you are not running
**Smk2emis** interactively, the values of these settings will be taken
from the input file being converted to Fortran-binary format, so no
action from you is required.

::: {.itemizedlist}
-   Start date: Starting date of simulation in Julian (DDDYYYY) or
    Gregorian (MMDDYYYY) formats

-   Start Time: Starting time of simulation in HHMMSS.

-   Duration: Simulation duration in hours.
:::
:::

::: {.section lang="en"}
::: {.titlepage}
<div>

<div>

##### []{#d0e21245}5.3.13.3.4. Output Files {#output-files .title}

</div>

</div>
:::

::: {.informaltable}
  File Name                      Format           Description
  ------------------------------ ---------------- ----------------------------------------------------------
  `UAM_[A|B|M|P|E]GTS`{.envar}   Fortran binary   UAM-IV-, UAM-V- or CAMx-ready gridded, hourly emissions.
  `LOGFILE`{.envar}              ASCII            Log generated from executing **Smk2emis**.
:::
:::
:::
:::

::: {.navfooter}

------------------------------------------------------------------------

  -------------------------- -------------------- --------------------------
  [Prev](ch05s03s12.html)     [Up](ch05s03.html)     [Next](ch05s03s14.html)
  5.3.12. **Pktreduc**        [Home](index.html)        5.3.14. **Surgtool**
  -------------------------- -------------------- --------------------------
:::
