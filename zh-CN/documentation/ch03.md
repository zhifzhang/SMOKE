::: {.navheader}
Chapter 3. SMOKE Directory Structure
:::

[Prev](ch02s20.html) 

 

 [Next](ch03s02.html)

------------------------------------------------------------------------

::: {.chapter lang="en"}
::: {.titlepage}
<div>

<div>

[]{#ch_dirs_files}Chapter 3. SMOKE Directory Structure {#chapter-3.-smoke-directory-structure .title}
------------------------------------------------------

</div>

</div>
:::

::: {.toc}
[[3.1. Introduction](ch03.html#d0e7820)]{.section}

[[3.2. Directory structure](ch03s02.html)]{.section}

[[3.3. How to change the default directory
structure](ch03s03.html)]{.section}
:::

::: {.section lang="en"}
::: {.titlepage}
<div>

<div>

[]{#d0e7820}3.1. Introduction {#introduction .title style="clear: both"}
-----------------------------

</div>

</div>
:::

The primary user interface for SMOKE is a series of UNIX scripts.
Because the basic SMOKE installation and instructions use these scripts,
a key factor in using SMOKE is understanding the directory structure
used for reading input files and writing output files. Additionally, it
is critical that users know where to find the run scripts and other
files that must be configured for a specific application of SMOKE.
[Section 3.2, "Directory
structure"](ch03s02.html "3.2. Directory structure") of this chapter
describes the default directory structure.

Because SMOKE is based on UNIX scripts, it can also be reconfigured to
use a different directory structure. This is useful if SMOKE is to be
used from the MIMS interface, incorporated into another modeling system,
or modified to suit the needs of a particular user. In [Section 3.3,
"How to change the default directory
structure"](ch03s03.html "3.3. How to change the default directory structure"),
we describe what must be done to reconfigure the default directory
structure to meet such needs.

In this chapter, we describe the default directory structures set
automatically by the Assigns file provided with the default installation
of SMOKE. We discuss a basic directory structure and an advanced
structure that follow the same approach and can easily be adjusted using
the Assigns file. For example, you can change a scenario name in the
Assigns file, and this will automatically change all of your
intermediate and output directory names. However, these two directory
structures are only examples; as noted above, SMOKE is flexible enough
to use any structure one wants to create. You could rework the Assigns
file (or even completely remove it) if so desired, although this would
be a much more complex process than changing a few environment
variables. We have developed the SMOKE default directory structure based
upon experience gained from many years of emissions modeling; we hope
that SMOKE users will find it useful.

In addition to a default directory structure, SMOKE comes with a test
case including example data files. [Section 4.2, "Test case
descriptions"](ch04s02.html "4.2. Test case descriptions") provides
descriptions about these files including where the files were obtained.
These descriptions are intended to provide you with some background on
the data files and a starting point for developing your own modeling
files.
:::
:::

::: {.navfooter}

------------------------------------------------------------------------

  -------------------------- -------------------- ---------------------------
  [Prev](ch02s20.html)                                   [Next](ch03s02.html)
  2.20. Quality assurance     [Home](index.html)     3.2. Directory structure
  -------------------------- -------------------- ---------------------------
:::
::: {.navheader}
3.2. Directory structure
:::

[Prev](ch03.html) 

Chapter 3. SMOKE Directory Structure

 [Next](ch03s02s02.html)

------------------------------------------------------------------------

::: {.section lang="en"}
::: {.titlepage}
<div>

<div>

[]{#sect_dirs_directory_structure}3.2. Directory structure {#directory-structure .title style="clear: both"}
----------------------------------------------------------

</div>

</div>
:::

::: {.toc}
[[3.2.1. Example Assigns
file](ch03s02.html#sect_dirs_example_assigns)]{.section}

[[3.2.2. The basic SMOKE directories](ch03s02s02.html)]{.section}

[[3.2.3. Locations of input files](ch03s02s03.html)]{.section}

[[3.2.4. Locations of intermediate files for base and growth/control
cases](ch03s02s04.html)]{.section}

[[3.2.5. Locations of model-ready output files for base and
growth/control cases](ch03s02s05.html)]{.section}

[[3.2.6. Locations of reports](ch03s02s06.html)]{.section}
:::

The SMOKE directory structure is the organization of UNIX directories
and subdirectories (essentially the same as "[folders]{.quote}" on
Windows computers). These directories are defined and created using the
SMOKE Assigns file. By "[defined]{.quote}", we mean that environment
variables are set to the actual path name for each of the directories,
and their relationships to one another are implicit in these
definitions. As will be described in more detail in [Chapter 4, *How to
Use SMOKE*](ch04.html "Chapter 4. How to Use SMOKE"), you should create
an Assigns file for each modeling case to organize your modeling runs.
If created properly, the different Assigns files will cause the
intermediate and output directories to be different for each case; this
prevents overwriting files from one case with files from another. Some
parts of the directory structure are shared by all modeling cases
because they are usually the same (e.g., SMOKE support files), but the
intermediate and output files are not assumed to be the same because
they often differ between cases.

::: {.section lang="en"}
::: {.titlepage}
<div>

<div>

### []{#sect_dirs_example_assigns}3.2.1. Example Assigns file {#example-assigns-file .title}

</div>

</div>
:::

Before we can proceed with describing the scripts, we need to introduce
the Assigns file. Detailed documentation on this file is provided in
[Section 4.2.2.2, "Assigns
files"](ch04s02s02.html#sect_scripts_assigns_files "4.2.2.2. Assigns files").
For the purposes of the discussion here, we provide an example Assigns
file to help clarify what it is. Because this file is quite lengthy, we
have only included excerpts. In this subsection, the Assigns file is
simply a set of **setenv** UNIX commands and calls to helper scripts.

The arrangement within the default Assigns file provided with SMOKE is:

::: {.itemizedlist}
-   Shell command (e.g., **\#!/bin/csh -fx** for C shell)

-   Descriptive global comments

-   Settings for the naming roots

-   Settings for the episode dates and times

-   Settings for the directory structure and use of the
    `set_dirs.scr`{.filename} helper script

-   Settings for SMOKE input and output files and calls to other helper
    scripts
:::

The first settings section is used for naming roots. These settings
allow users to set the inventory input and output identifiers, the
base-case scenario names, and the grid and chemical mechanism names (see
[Chapter 4, *How to Use SMOKE*](ch04.html "Chapter 4. How to Use SMOKE")
for more details). The following lines provide the naming roots used in
the default Assigns file provided with SMOKE,
`ASSIGNS.nctox.cmaq.cb4pm25_wtox.us12-nc`{.filename}. This file and the
helper scripts can be found in the `$ASSIGNS`{.envar} directory, which
we will define in [Section 3.2.2, "The basic SMOKE
directories"](ch03s02s02.html "3.2.2. The basic SMOKE directories").

``` {.programlisting}
#
## I/O Naming roots
#
   setenv INVID     nctox        # Inventory input identifier
   setenv INVOP     nctox        # Base year inventory output name
   setenv INVEN     nctox        # Base year inventory name with version

   setenv ABASE     nctox        # Area base case output name
   setenv BBASE     nctox        # Biogenics base case output name
   setenv MBASE     nctox        # Mobile base case output name
   setenv PBASE     nctox        # Point base case output name

   setenv EBASE     nctox        # Output merged base case name

   setenv METSCEN      12km             # Met scenario name
   setenv GRID         us12-nc          # Gridding root for naming
   setenv IOAPI_GRIDNAME_1 US12NC_66X52 # Grid selected from GRIDDESC file
   setenv IOAPI_ISPH   19               # Specifies spheroid type associated with grid
   setenv SPC          cmaq.cb4p25_wtox # Speciation type
```

The next section of the file includes the settings for the episode:

``` {.programlisting}
## Mobile episode variables
   setenv EPI_STDATE 2001191     # Julian start date
   setenv EPI_STTIME  000000     # start time (HHMMSS)
   setenv EPI_RUNLEN 0480000     # run length (HHHMMSS)
   setenv EPI_NDAY   2           # number of full run days

## Per-period environment variables
   setenv G_STDATE  2001191      # Julian start date
   setenv G_STTIME   000000      # start time (HHMMSS)
   setenv G_TSTEP     10000      # time step  (HHMMSS)
   setenv G_RUNLEN   250000      # run length (HHMMSS)
   setenv ESDATE   20010710      # Start date of emis time-based files/dirs
   setenv MSDATE   20010710      # Start date of met time-based files
   setenv NDAYS           1      # Duration in days of each emissions file
   setenv MDAYS           1      # Duration in days of met time-based files
   setenv YEAR         2001      # Base year for year-specific files
```

As described in [Chapter 4, *How to Use
SMOKE*](ch04.html "Chapter 4. How to Use SMOKE"), these settings control
both the way SMOKE runs (e.g., SMOKE uses `EPI_STDATE`{.envar}, the
start date of the episode, to decide what day to start the simulation)
and the way SMOKE names files (e.g., `ESDATE`{.envar} is used to help
name time-dependent files).

The next section of the Assigns file is used to set the user-defined
input and output directory paths. It uses a helper script called
`set_dirs.scr`{.filename} that applies the initial settings made by the
Assigns file to set environment variables for the directories, as
described in [Section 3.2.2, "The basic SMOKE
directories"](ch03s02s02.html "3.2.2. The basic SMOKE directories"). The
`set_dirs.scr`{.filename} script also verifies that all of the
directories are there and that the permissions of the directories are
group readable and writable.

``` {.programlisting}
## User-defined I/O directory settings
   setenv SMK_SUBSYS  $SMK_HOME/subsys              # SMOKE subsystem dir
   setenv SMKROOT     $SMK_SUBSYS/smoke             # System root dir
   setenv SMKDAT      $SMK_HOME/data                # Data root dir
   setenv ASSIGNS     $SMKROOT/assigns              # SMOKE assigns files

<omitted section>

## Set dependent directory names
#
source $ASSIGNS/set_dirs.scr
```

Now that we have provided a little background on Assigns files, we will
spend the rest of this chapter describing the SMOKE directory structure.
We will return to discussion of the Assigns file and scripts in
[Chapter 4, *How to Use
SMOKE*](ch04.html "Chapter 4. How to Use SMOKE"). It is important to
understand the directory structure information in the rest of this
chapter before moving on to [Chapter 4, *How to Use
SMOKE*](ch04.html "Chapter 4. How to Use SMOKE").
:::
:::

::: {.navfooter}

------------------------------------------------------------------------

  --------------------------------------- -------------------- -------------------------------------
  [Prev](ch03.html)                         [Up](ch03.html)                  [Next](ch03s02s02.html)
  Chapter 3. SMOKE Directory Structure     [Home](index.html)     3.2.2. The basic SMOKE directories
  --------------------------------------- -------------------- -------------------------------------
:::
::: {.navheader}
3.2.2. The basic SMOKE directories
:::

[Prev](ch03s02.html) 

3.2. Directory structure

 [Next](ch03s02s03.html)

------------------------------------------------------------------------

::: {.section lang="en"}
::: {.titlepage}
<div>

<div>

### []{#sect_dirs_basic_smoke_dirs}3.2.2. The basic SMOKE directories {#the-basic-smoke-directories .title}

</div>

</div>
:::

By default, SMOKE is installed in a directory called `SMK_HOME`{.envar}
(the complete process for installing SMOKE is described in [Chapter 12,
*Downloading, Installing, and Compiling
SMOKE*](ch12.html "Chapter 12. Downloading, Installing, and Compiling SMOKE")).
As shown in the previous section, `SMK_HOME`{.envar} is an environment
variable on which other SMOKE directories depend; it is the root
directory of all other SMOKE directories. When you install SMOKE, you
must define and create your own `SMK_HOME`{.envar} directory as part of
the installation process. Since `SMK_HOME`{.envar} is an environment
variable, you can choose whatever name you like; we cannot prescribe a
name for you because each UNIX user has a different computer and disk
names. One recommendation that we can make is that `SMK_HOME`{.envar} be
set close to the bottom of a directory structure, such as a short
directory name like `/models`{.filename}. Using a short directory name
will limit the overall directory lengths for some of the subdirectories
deep within the SMOKE directory structure. The `SMK_HOME`{.envar}
directory used for SMOKE can be the same directory used to install
[VERDI](http://www.verdi-tool.org) or the [I/O
API](http://www.baronams.com/products/ioapi/).

[Figure 3.1, "Basic SMOKE directories: the first three levels of the
directory
structure"](ch03s02s02.html#fig_dirs_basic_dirs "Figure 3.1. Basic SMOKE directories: the first three levels of the directory structure")
shows the first three layers of the SMOKE directory structure. All of
the directories in the figure are created during the SMOKE installation
process. From the `SMK_HOME`{.envar} directory stems the
`data`{.filename} directory, the `scripts`{.filename} directory, and the
`subsys`{.filename} directory. The `data`{.filename} directory
corresponds to the environment variable `SMKDAT`{.envar}, while the
`subsys`{.filename} directory corresponds to `SMK_SUBSYS`{.envar}; the
environment variables are shown in parentheses underneath the actual
directory names in the figure. The `scripts`{.filename} directory does
not have an associated environment variable since we did not feel that
one was necessary. The `subsys`{.filename} directory is discussed in
more detail within this subsection. The `data`{.filename} directory will
be described more fully in [Section 3.2.3, "Locations of input
files"](ch03s02s03.html "3.2.3. Locations of input files"),
[Section 3.2.4, "Locations of intermediate files for base and
growth/control
cases"](ch03s02s04.html "3.2.4. Locations of intermediate files for base and growth/control cases"),
[Section 3.2.5, "Locations of model-ready output files for base and
growth/control
cases"](ch03s02s05.html "3.2.5. Locations of model-ready output files for base and growth/control cases"),
and [Section 3.2.6, "Locations of
reports"](ch03s02s06.html "3.2.6. Locations of reports"), when we
describe the locations of input, intermediate, output, and report files.
We will not discuss the `scripts`{.filename} directory since it only
contains two general setup scripts that should not need to be modified
under normal SMOKE use.

::: {.figure}
[]{#fig_dirs_basic_dirs}

**Figure 3.1. Basic SMOKE directories: the first three levels of the
directory structure**

::: {.mediaobject}
![Basic SMOKE directories: the first three levels of the directory
structure](images\dirs\basic_directories_html.jpg)
:::
:::

The environment variables shown in parentheses are available to you once
you invoke the Assigns file from the command line. The run scripts that
come with SMOKE invoke the Assigns file to set up the environment
variables automatically. To manually invoke the Assigns file, you must
go to the `$SMKROOT`{.filename}/assigns directory and type

**`source <Assigns file name>`**

where *`<Assigns file name>`* is replaced with your specific Assigns
file name. Note that SMOKE only works with variants of the C-shell
including **csh** and **tcsh**. If you are running a different shell
(such as **bash**), you will need to switch into a C-shell before
sourcing the Assigns file or running any SMOKE scripts.

Once this command has been used in a UNIX window (e.g., **xterm**,
**terminal**, **console**), then the environment variables are available
at the command line or to a script that uses the Assigns file. What this
means is that the UNIX environment "[remembers]{.quote}" the setting of
the environment variable. To access the contents of the variable - in
this case, a path name - the dollar sign (\$) must be used in front of
the variable from a UNIX prompt or script. From the prompt, this is most
useful for changing directories. For example, after the Assigns file has
been invoked, the command

**`cd $SMKDAT`**

will take you to the `$SMK_HOME`{.filename}/data directory, no matter
where else in the directory structure you were located when the command
was issued. Similarly, the Assigns file can use these environment
variables for setting the paths for the input and output files.

As shown in [Figure 3.1, "Basic SMOKE directories: the first three
levels of the directory
structure"](ch03s02s02.html#fig_dirs_basic_dirs "Figure 3.1. Basic SMOKE directories: the first three levels of the directory structure"),
the `subsys`{.filename} directory (creating during installation of
SMOKE) contains six subdirectories, each with the following purposes:

::: {.itemizedlist}
-   `edss_tools`{.filename}: Contains the source code, makefiles, and
    library object files for the EDSS Tools library, necessary for
    compiling SMOKE programs.

-   `filesetapi`{.filename}: Contains the source code, makefiles, and
    library object files for the FileSetAPI library, necessary for
    compiling SMOKE programs.

-   `ioapi`{.filename}: A placeholder location for the I/O API library
    object files. When compiling SMOKE, the makefiles look here for the
    I/O API library and the SMOKE scripts look here for the I/O API
    utility programs. The files can be linked to the main I/O API
    installation which can be located elsewhere. Please see [Chapter 12,
    *Downloading, Installing, and Compiling
    SMOKE*](ch12.html "Chapter 12. Downloading, Installing, and Compiling SMOKE")
    for more information.

-   `ioapi_includes`{.filename}: Location for the I/O API include files,
    needed for compiling the FileSetAPI library, EDSS Tools library, and
    SMOKE libraries and programs. All makefiles that come with SMOKE
    look here for the I/O API include files.

-   `netcdf`{.filename}: A placeholder location for the NetCDF library
    object files. When compiling SMOKE, the makefiles look here for the
    NetCDF library, but the actual library can be linked to the main
    NetCDF installation, which can be elsewhere on your computer. Please
    see [Chapter 12, *Downloading, Installing, and Compiling
    SMOKE*](ch12.html "Chapter 12. Downloading, Installing, and Compiling SMOKE")
    for more information.

-   `smoke`{.filename}: This is the main SMOKE directory. It contains
    the Assigns files (one per modeling case), SMOKE source code,
    makefiles, scripts, and executables.
:::

[Figure 3.2, "Subdirectories of the main SMOKE
directory"](ch03s02s02.html#fig_dirs_subdirs_main "Figure 3.2. Subdirectories of the main SMOKE directory")
shows the subdirectories inside the main SMOKE directory,
`smoke`{.filename}; these are all created during the installation of
SMOKE. These subdirectories contain the Assigns files, source code and
makefiles, scripts, and executables.

::: {.figure}
[]{#fig_dirs_subdirs_main}

**Figure 3.2. Subdirectories of the main SMOKE directory**

::: {.mediaobject}
![Subdirectories of the main SMOKE
directory](images\dirs\subdirs_main_html.jpg)
:::
:::

These five subdirectories have the following purposes:

::: {.itemizedlist}
-   `assigns`{.filename}: Contains the Assigns files and all helper
    scripts for the Assigns files.

-   `doc`{.filename}: Contains the files that the SMOKE installation
    processes use to check that the installation and testing of SMOKE
    have worked properly.

-   `$SMOKE_EXE`{.filename}: This directory contains the executables for
    your particular system. Different directory names apply to different
    platforms (e.g., `Linux2_x86_64pg`{.filename},
    `IRIXn32f90`{.filename}, `SunOS5f90`{.filename}). For more
    information about the various platforms for which SMOKE is
    available, see [Chapter 12, *Downloading, Installing, and Compiling
    SMOKE*](ch12.html "Chapter 12. Downloading, Installing, and Compiling SMOKE").

-   `scripts`{.filename}: Contains run scripts and other scripts

    ::: {.itemizedlist}
    -   `scripts/install`{.filename}: Scripts to install SMOKE and check
        the installation

    -   `scripts/make`{.filename}: Scripts for compiling SMOKE

    -   `scripts/run`{.filename}: Default run scripts and associated
        helper scripts
    :::

-   `src`{.filename}: Contains subdirectories that store the source code
    and makefiles for each SMOKE program:

    ::: {.itemizedlist}
    -   `src/biog`{.filename}: **Normbeis3**, **Tmpbeis3**

    -   `src/cntlmat`{.filename}: **Cntlmat**

    -   `src/emmod`{.filename}: Fortran 90 modules used by multiple
        SMOKE programs

    -   `src/emqa`{.filename}: **Smkreport**

    -   `src/emutil`{.filename}: **Aggwndw**, **Beld3to2**,
        **BlueSky2Inv**, **CEMScan**, **Geofac**, **Invsplit**,
        **Layalloc**, **Metcombine**, **Metscan**, **Pktreduc**,
        **Smk2emis**, **Surgtool**, **Uam2ncf**

    -   `src/grdmat`{.filename}: **Grdmat**

    -   `src/inc`{.filename}: Include files shared by multiple SMOKE
        programs

    -   `src/lib`{.filename}: SMOKE library

    -   `src/movesmrg`{.filename}: **Movesmrg**, **Met4moves**

    -   `src/point`{.filename}: **Elevpoint**, **Laypoint**

    -   `src/smkinven`{.filename}: **Grwinven**, **Smkinven**

    -   `src/smkmerge`{.filename}: **Mrgelev**, **Mrggrid**,
        **Smkmerge**

    -   `src/spcmat`{.filename}: **Spcmat**

    -   `src/temporal`{.filename}: **Temporal**
    :::
:::
:::

::: {.navfooter}

------------------------------------------------------------------------

  --------------------------- -------------------- ----------------------------------
  [Prev](ch03s02.html)         [Up](ch03s02.html)             [Next](ch03s02s03.html)
  3.2. Directory structure     [Home](index.html)     3.2.3. Locations of input files
  --------------------------- -------------------- ----------------------------------
:::
::: {.navheader}
3.2.3. Locations of input files
:::

[Prev](ch03s02s02.html) 

3.2. Directory structure

 [Next](ch03s02s04.html)

------------------------------------------------------------------------

::: {.section lang="en"}
::: {.titlepage}
<div>

<div>

### []{#sect_dirs_location_input_files}3.2.3. Locations of input files {#locations-of-input-files .title}

</div>

</div>
:::

Input directories, which contain SMOKE input files, are one of the
subdirectory types that make up the `$SMKDAT`{.envar} directory shown in
[Figure 3.1, "Basic SMOKE directories: the first three levels of the
directory
structure"](ch03s02s02.html#fig_dirs_basic_dirs "Figure 3.1. Basic SMOKE directories: the first three levels of the directory structure")
as `$SMK_HOME`{.filename}/data. In this section, we provide the
structure of these input directories.

[Figure 3.3, "SMOKE input files directory
structure"](ch03s02s03.html#fig_dirs_input_dirs "Figure 3.3. SMOKE input files directory structure")
shows all of the input directories that stem from `$SMKDAT`{.envar}. In
the diagram, note how some paths depend on environment variables set in
the Assigns file. For example, the `INVID`{.envar} environment variable
listed in [Section 3.2.1, "Example Assigns
file"](ch03s02.html#sect_dirs_example_assigns "3.2.1. Example Assigns file")
is defined by the user (as we will describe in [Chapter 4, *How to Use
SMOKE*](ch04.html "Chapter 4. How to Use SMOKE")) to label the inventory
name. This variable is used to build the name of the `INVDIR`{.envar}
directory as follows:

`INVDIR`{.envar} = `$SMKDAT`{.filename}/inventory/`$INVID`{.envar}

So, if a user decided to label the inventory "[nei99]{.quote}", then the
Assigns file would have `INVID`{.envar} = nei99 and the `INVDIR`{.envar}
directory would be `$SMKDAT`{.filename}/inventory/nei99. Another example
of this in the figure is the `SMK_M6PATH`{.envar} directory. The full
path depends upon the setting of the `MSCEN`{.envar} variable; if
`MSCEN`{.envar} is set to "[case1]{.quote}", then `SMK_M6PATH`{.envar}
would be `$SMKDAT`{.filename}/run\_case1/static/m6.

In some cases, we do not have environment variables associated with a
directory name. One example is the `$SMKDAT`{.filename}/inventory
directory. In these cases, we did not assign variables simply because
they were not very useful and we have to limit the number of SMOKE
environment variables. Most operating systems have a limit on the number
of environment variables (usually 256), so when the variables were not
really useful we did not assign them. If desired, you can add
environment variables to the Assigns file and/or the
`set_dirs.scr`{.filename} helper script.

::: {.figure}
[]{#fig_dirs_input_dirs}

**Figure 3.3. SMOKE input files directory structure**

::: {.mediaobject}
![SMOKE input files directory
structure](images\dirs\input_dirs_html.jpg)
:::
:::

In the list below, we describe the purpose of each of these directories,
along with the file names and in some cases file descriptions for those
files that you may need to change. You can refer to [Chapter 8, *SMOKE
Input Files*](ch08.html "Chapter 8. SMOKE Input Files") for more
information about each of these files (look under the logical file
names). [Chapter 4, *How to Use
SMOKE*](ch04.html "Chapter 4. How to Use SMOKE") provides step-by-step
instructions on how to create and install each of the files listed.

::: {.itemizedlist}
-   `ge_dat`{.filename}: This directory contains the cross-reference
    files, profile files, spatial surrogates, and other files that are
    likely to be shared among multiple cases of processing inventories
    with SMOKE. The logical file names for files included in this
    directory are listed here; many physical files could be available in
    the `ge_dat`{.filename} directory for each file type. For example,
    you may have dozens of surrogate files for different modeling grids
    and several speciation profiles for different model-mechanism
    combinations. More detailed descriptions of these files are in
    [Chapter 8, *SMOKE Input
    Files*](ch08.html "Chapter 8. SMOKE Input Files"); descriptions of
    the example files provide with SMOKE are in [Section 4.2, "Test case
    descriptions"](ch04s02.html "4.2. Test case descriptions").

    ::: {.itemizedlist}
    -   `BGPRO`{.envar}: The spatial surrogates file biogenics (for
        computing county-total emissions with **Smkmerge**).

    -   `SRGPRO_PATH`{.envar}: The location of the spatial surrogates
        file for nonpoint (stationary area)/nonroad and on-road mobile
        sources.

    -   `AGREF`{.envar}, `MGREF`{.envar}: The spatial cross-reference
        files for nonpoint (stationary area)/nonroad and on-road mobile
        sources. These two logical file names can all reference the same
        physical file.

    -   `ATPRO`{.envar}, `MTPRO`{.envar}, `PTPRO`{.envar}: The temporal
        profiles files for nonpoint (stationary area)/nonroad, on-road
        mobile, and point sources. These three logical file names can
        all reference the same physical file.

    -   `ATREF`{.envar}, `MTREF`{.envar}, `PTREF`{.envar}: The temporal
        cross-reference files for nonpoint (stationary area)/nonroad,
        on-road mobile, and point sources. These three logical file
        names can all reference the same physical file.

    -   `B3FAC`{.envar}: The BEIS3.14 normalized emission factors.

    -   `B360FAC`{.envar}: The BEIS3.60 normalized emission factors.

    -   `BIOSEASON`{.envar}: I/O API file indicating which grid cells in
        a domain are winter and which are summer for biogenics modeling
        purposes, for each day of the year or episode.

    -   `COSTCY`{.envar}: The country, state, and county information
        file.

    -   `GRIDDESC`{.envar}: The grid definitions file.

    -   `SRGDESC`{.envar}: The surrogate definitions/description file.

    -   `GSREF`{.envar}, `GSPRO`{.envar}, `GSCNV`{.envar}: The chemical
        speciation cross-reference file, speciation profiles file, and
        pollutant-to-pollutant conversion file (e.g., VOC-to-TOG
        factors), respectively.

    -   `HOLIDAYS`{.envar}: The dates that SMOKE should process as
        holidays and the day of the week to use for each date instead of
        its actual day of the week (the substitute is usually a Saturday
        or Sunday).

    -   `PROCDATES`{.envar}: The sequential/non-sequential
        user-specified dates that SMOKE should process.

    -   `PSTK`{.envar}: The point-source replacement stack parameters.

    -   `SCCDESC`{.envar}, `SRGDESC`{.envar}, `ORISDESC`{.envar},
        `SICDESC`{.envar}, `MACTDESC`{.envar}, `NAICSDESC`{.envar}: The
        descriptions of each known SCC, surrogate code, ORIS ID, SIC
        code, MACT code, and NAICS code.
    :::

-   `inventory`{.filename}: The location of all inventory files for each
    inventory case (as defined by the `$INVID`{.envar} environment
    variable in an Assigns file), land use data, and other data.

    ::: {.itemizedlist}
    -   `$INVID`{.filename}: This directory name depends on the name
        given to the inventory in the Assigns file. (This is the case
        for any directory name in the figure that is preceded with
        "[\$]{.quote}" to indicate that it is an environment variable.)
        The files in the subdirectories are specific to your inventory
        files and modeling case. This directory contains subdirectories
        for each of the major source categories by default:

        ::: {.itemizedlist}
        -   `area`{.filename}: Contains the nonpoint or stationary area
            inventories. Optionally, it may contain nonroad mobile
            inventories. Can include [*any*]{.emphasis} inventory that
            will be processed as a SMOKE area source (e.g. criteria,
            particulates, and/or toxics inventories). Files should
            include:

            ::: {.itemizedlist}
            -   `ARINV`{.envar} (raw area-source inventory file). If
                this is a list file, the files listed within it should
                also be included in this directory.

            -   `ARDAY`{.envar} (raw day-specific area-source inventory
                file). If this optional file is a list file, the files
                listed within it should also be included in this
                directory.

            -   `ARHOUR`{.envar} (raw hour-specific area-source
                inventory file). If this optional file is a list file,
                the files listed within it should also be included in
                this directory.

            -   `GCNTL`{.envar} (control packet file). The growth and
                control packet files for each growth or control
                scenario. The default naming scheme for these files is
                described in the default SMOKE scripts.
            :::

        -   `biog`{.filename}: Contains the gridded BELD3 and/or BELD4
            land use data. These files are listed in the Assigns files
            as `BELD3_A`{.envar}, `BELD3_B`{.envar}, and
            `BELD3_TOT`{.envar} for BEIS3.14. This directory could
            optionally contain the gridded BELD4 land use data if
            proceessing using BEIS3.60); this file is listed in the
            Assigns file as `BELD4`{.envar}.

        -   `mobile (MOVES)`{.filename}: Contains the on-road mobile
            inventory and other on-road mobile-specific input files.
            Files should include:

            ::: {.itemizedlist}
            -   `GCNTL`{.envar} (control packet file). The growth and
                control packet files for each growth or control
                scenario. The default naming scheme for these files is
                described in the default SMOKE scripts.

            -   `MBINV`{.envar} (raw on-road mobile-source inventory
                file). This is a FF10 activity inventory format for VMT,
                SPEED and VPOP inventory data. EAA - put in a link to
                input file description.. If this is a list file, the
                files listed within it should also be included in this
                directory.

            -   `MCXREF`{.envar} (mobile-source county cross-reference).
                For MOVES modeling only, contains the representative
                county assignments (see [Section 2.8.4.6,
                "Representative
                Counties"](ch02s08s04.html#sect_concepts_reference_counties_moves "2.8.4.6. Representative Counties")
                for an explanation of representative counties).

            -   `MEPROC`{.envar} (mobile-source processing file). For
                MOVES modeling only, contains the pollutants to be
                modeled by MOVES by the emission processes (e.g.,
                exhaust, evaporative, break and tire wear).

            -   `SPDPRO`{.envar} (speed profiles file). For MOVES
                modeling only, contains the optional weekday/weekend
                hour-specific speed profiles for use of MOVES on-roadway
                emission rates.
            :::

        -   `point`{.filename}: Contains the point-source inventory and
            other point-specific input files. Files should include:

            ::: {.itemizedlist}
            -   `CEMSUM`{.envar} (CEM summary file). When processing CEM
                data, this file contains a summary of a year's worth of
                CEM data and is produced by **CEMScan**.

            -   `GCNTL`{.envar} (control packet file). The growth and
                control packet files for each growth or control
                scenario. The default naming scheme for these files is
                described in the default SMOKE scripts.

            -   `PELVCONFIG`{.envar} (elevated-source selection
                configuration file). When using the **Elevpoint**
                program to select elevated and PinG sources, this file
                is required to specify the selection criteria.

            -   `PTDAY`{.envar} (raw day-specific point-source inventory
                file). If this optional file is a list file, which is
                typically the case, the files listed within it should
                also be included in this directory.

            -   `PTHOUR`{.envar} (raw hour-specific point-source
                inventory file). If this optional file is a list file,
                which is typically the case, the files listed within it
                should also be included in this directory.

            -   `PTINV`{.envar} (raw point-source inventory file). If
                this is a list file, the files listed within it should
                also be included in this directory.
            :::
        :::

    -   `other`{.filename}: Contains files that are associated with the
        various inventories, but which may be shared by more than one
        source category. These files are:

        ::: {.itemizedlist}
        -   `ARTOPNT`{.envar} (area-to-point file). Contains the
            area-to-point assignments by SCC with the point locations
            for each county in which a SMOKE area source will be
            assigned to point locations.

        -   `INVTABLE`{.envar} (inventory table file). Contains a list
            of the valid inventory pollutants and whether or not
            emissions associated with each pollutant should be kept when
            reading the inventory files, among other purposes.

        -   `NHAPEXCLUDE`{.envar} (non-HAP exclusions file). Contains
            the SCCs that will be excluded from a NONHAPVOC or NONHAPTOG
            calculation when integrating toxics and criteria
            inventories.

        -   `REPCONFIG`{.envar} (report configuration file). Contains
            instructions used by **Smkreport** to configure reports. The
            SMOKE installation includes only the `REPCONFIG`{.envar}
            files for the default reports included with the SMOKE
            default scripts.
        :::
    :::

-   `met/run_$METSCEN`{.filename}: This directory contains the
    meteorology files that are needed for running (1) biogenic
    emissions; (2) on-roadway and off-network mobile sources with MOVES
    using gridded, hourly meteorology data; or (3) point sources for the
    CMAQ model. Meteorology data are required in all of these cases.
    SMOKE can use output files from CMAQ's MCIP and MCIP2 meteorology
    processors or from the Meteorology Coupler (MCPL) processor. SMOKE
    automatically checks for the different variable names that may be
    used for the same meteorology data in the different file formats.
    See [Section 8.8, "Meteorology
    Files"](ch08s08.html "8.8. Meteorology Files") for more information
    about the meteorology data needed by SMOKE.
:::
:::

::: {.navfooter}

------------------------------------------------------------------------

  ------------------------------------- -------------------- ---------------------------------------------------------------------------
  [Prev](ch03s02s02.html)                [Up](ch03s02.html)                                                      [Next](ch03s02s04.html)
  3.2.2. The basic SMOKE directories     [Home](index.html)     3.2.4. Locations of intermediate files for base and growth/control cases
  ------------------------------------- -------------------- ---------------------------------------------------------------------------
:::
::: {.navheader}
3.2.4. Locations of intermediate files for base and growth/control cases
:::

[Prev](ch03s02s03.html) 

3.2. Directory structure

 [Next](ch03s02s05.html)

------------------------------------------------------------------------

::: {.section lang="en"}
::: {.titlepage}
<div>

<div>

### []{#sect_dirs_location_intmed_files}3.2.4. Locations of intermediate files for base and growth/control cases {#locations-of-intermediate-files-for-base-and-growthcontrol-cases .title}

</div>

</div>
:::

::: {.toc}
[[3.2.4.1. Basic configuration for base
case](ch03s02s04.html#sect_dirs_location_intmed_base)]{.section}

[[3.2.4.2. Advanced configuration for base
case](ch03s02s04.html#sect_dirs_location_intmed_advanced)]{.section}

[[3.2.4.3. Configuration for growth and/or control
case](ch03s02s04.html#sect_dirs_location_intmed_growth)]{.section}
:::

The intermediate files for SMOKE are located in three primary
directories for each case: the inventory output directory
(`$INVOPD`{.envar}), the scenario directory (`$SCENARIO`{.envar}), and
the static files directory (`$STATIC`{.envar}). All intermediate file
locations are subdirectories of the `$SMKDAT`{.envar} directory shown in
[Figure 3.1, "Basic SMOKE directories: the first three levels of the
directory
structure"](ch03s02s02.html#fig_dirs_basic_dirs "Figure 3.1. Basic SMOKE directories: the first three levels of the directory structure")
as `$SMK_HOME/data`{.filename}. Note that [Figure 3.4, "Locations of
intermediate and output files for SMOKE base case, basic
configuration"](ch03s02s04.html#fig_dirs_files_base "Figure 3.4. Locations of intermediate and output files for SMOKE base case, basic configuration"),
[Figure 3.5, "Locations of intermediate and output files for SMOKE base
case, advanced
configuration"](ch03s02s04.html#fig_dirs_files_advanced "Figure 3.5. Locations of intermediate and output files for SMOKE base case, advanced configuration"),
and [Figure 3.6, "Locations of intermediate and output files for SMOKE
future-/past-year
case"](ch03s02s04.html#fig_dirs_files_growth "Figure 3.6. Locations of intermediate and output files for SMOKE future-/past-year case")
show both intermediate and output directories. Here we focus only on the
intermediate directories; the output directories are discussed in
[Section 3.2.5, "Locations of model-ready output files for base and
growth/control
cases"](ch03s02s05.html "3.2.5. Locations of model-ready output files for base and growth/control cases").

::: {.section lang="en"}
::: {.titlepage}
<div>

<div>

#### []{#sect_dirs_location_intmed_base}3.2.4.1. Basic configuration for base case {#basic-configuration-for-base-case .title}

</div>

</div>
:::

[Figure 3.4, "Locations of intermediate and output files for SMOKE base
case, basic
configuration"](ch03s02s04.html#fig_dirs_files_base "Figure 3.4. Locations of intermediate and output files for SMOKE base case, basic configuration")
shows the SMOKE intermediate directories for a basic configuration of a
base case. In this configuration, the Assigns file variables
`ASCEN`{.envar}, `BSCEN`{.envar}, `MSCEN`{.envar}, `PSCEN`{.envar}, and
`ESCEN`{.envar} are all set to the same value. These variables are the
scenario names for the four processing categories (area, biogenic,
mobile, and point) and the combined category (used when combining
emissions from multiple source categories). Having these variables set
to the same value allows a simpler structure in which the
`run_$ESCEN`{.filename} directory is the same as the
`run_$ASCEN`{.filename}, `run_$BSCEN`{.filename},
`run_$MSCEN`{.filename}, and `run_$PSCEN`{.filename} directories. In the
figure, this single directory is shown simply as
`run_$ESCEN`{.filename}.

The `$BSCEN`{.envar} setting for biogenic sources is often set to a
different scenario name, usually simply "[beld2]{.quote}" or
"[beld3]{.quote}". This is because there are not very many scenarios to
choose from for biogenic emissions, since users almost always want to
use one of the standard approaches and there are usually no control
strategies considered for biogenic emissions. In this case, the
`run_$BSCEN`{.filename} directory is a separate branch in the directory
structure that stores just the biogenic files for use by both base case
and future-year control scenarios. For the nctox test case, we have not
used this approach since the biogenic data is specific to the nctox
modeling domain.

::: {.figure}
[]{#fig_dirs_files_base}

**Figure 3.4. Locations of intermediate and output files for SMOKE base
case, basic configuration**

::: {.mediaobject}
![Locations of intermediate and output files for SMOKE base case, basic
configuration](images\dirs\files_base_html.jpg)
:::
:::

The following list describes the intermediate files that are associated
with each of the intermediate directories `$INVOPD`{.envar},
`$SCENARIO`{.envar}, and `$STATIC`{.envar}. You can refer to [Chapter 9,
*SMOKE Intermediate
Files*](ch09.html "Chapter 9. SMOKE Intermediate Files") for more
information about each of the intermediate files (look under the logical
file names).

::: {.itemizedlist}
-   `inventory/$INVEN`{.filename}: This directory contains the SMOKE
    intermediate inventory files, including the directories associated
    with them. These files are the outputs from **Smkinven**, and
    **Tmpbeis3**. The outputs from **Smkinven** are map-formatted (see
    below for more information) while the biogenic outputs are I/O API
    NetCDF format. The subdirectories `area_dat`{.filename},
    `mobl_dat`{.filename}, `nroad_dat`{.filename}, and
    `pnts_dat`{.filename} contain the files that store the emissions
    values for each pollutant in the inventory. The intermediate files
    in this directory include:

    ::: {.itemizedlist}
    -   `AREA`{.envar}: Map-formatted SMOKE intermediate files for
        nonpoint/stationary area sources (from the `ARINV`{.envar} input
        file) and/or nonroad mobile sources (from either the
        `ARINV`{.envar} input file or from the `NRINV`{.envar} input
        file if nonroad mobile sources are being run separately from
        other SMOKE area sources). Example file names include
        `area.map.$INVOP`{.filename}.txt and
        `nroad.map.$INVOP`{.filename}.txt.

        The data from the inventories is stored in several different
        files, both ASCII and I/O API format. The map-formatted
        intermediate files are used to organize and keep track of these
        separate files. See [Chapter 9, *SMOKE Intermediate
        Files*](ch09.html "Chapter 9. SMOKE Intermediate Files") for an
        example and further discussion of the intermediate inventory
        files. For the `AREA`{.envar} file, the additional inventory
        files `area.ncf`{.filename} and `asrc.txt`{.filename} are stored
        in the `$INVOPD`{.envar} directory. The pollutant-specific files
        are stored in the `area_dat`{.filename} directory. For the
        `NROAD`{.envar} file, the files are named `nroad.ncf`{.filename}
        and `nsrc.txt`{.filename} and the pollutant-specific files are
        placed in the `nroad_dat`{.filename} directory.

    -   `ARDAY`{.envar}: The day-specific SMOKE area-source intermediate
        inventory.

    -   `ARHOUR`{.envar}:The hour-specific SMOKE area-source
        intermediate inventory.

    -   `ASCC`{.envar}: List of area-source SCCs in the inventory. Can
        include `ASCC.$INVOP`{.filename}.txt and
        `NSCC.$INVOP`{.filename}.txt (e.g., `ASCC.nei99.txt`{.filename}
        and `NSCC.nei99.txt`{.filename}).

    -   `B3GRD`{.envar}: Normalized gridded biogenic emissions.

    -   `MOBL`{.envar}: Map-formatted SMOKE intermediate file for
        on-road mobile sources. Example file name is
        `mobl.map.$INVOP`{.filename}.txt. The additional inventory files
        are named `mobl.ncf`{.filename} and `msrc.txt`{.filename}, and
        the pollutant-specific files are placed in the
        `mobl_dat`{.filename} directory.

    -   `MSCC`{.envar}: List of on-road mobile-source SCCs in the
        inventory; e.g., `MSCC.$INVOP`{.filename}.txt.

    -   `PDAY`{.envar}: The day-specific SMOKE intermediate inventory.

    -   `PHOUR`{.envar}: The hour-specific SMOKE intermediate inventory.

    -   `PNTS`{.envar}: Map-formatted SMOKE intermediate file for point
        sources. Example file name is `pnts.map.$INVOP`{.filename}.txt.
        The additional inventory files are named `pnts.ncf`{.filename}
        and `psrc.txt`{.filename}, and the pollutant-specific files are
        placed in the `pnts_dat`{.filename} directory.

    -   `PSCC`{.envar}: List of point-source SCCs in the inventory;
        e.g., `PSCC.$INVOP`{.filename}.txt.
    :::

-   `reports`{.filename}: Discussed in [Section 3.2.6, "Locations of
    reports"](ch03s02s06.html "3.2.6. Locations of reports")

-   `run_$BSCEN`{.filename}/output/`$SPC`{.envar}: Contains the hourly,
    gridded, speciated biogenic emissions files. These are listed in
    this subsection for intermediate files because in some cases these
    are not ready for the AQM, because the units need to be converted.
    **Tmpbeis3** can output emissions in either moles/hr or moles/s. The
    CMAQ model needs data in units of moles/s.

-   `run_$ESCEN`{.filename}/output: Discussed in [Section 3.2.5,
    "Locations of model-ready output files for base and growth/control
    cases"](ch03s02s05.html "3.2.5. Locations of model-ready output files for base and growth/control cases")

-   `run_$ESCEN`{.filename}/scenario: Contains the intermediate hourly
    emissions files and other time-dependent files. The intermediate
    files in this directory include:

    ::: {.itemizedlist}
    -   `ATMP`{.envar}, `MTMP`{.envar}, `PTMP`{.envar}: The
        area/nonroad, mobile, and point hourly emissions created by the
        **Temporal** program.

    -   `ATSUP`{.envar}, `MTSUP`{.envar}, `PTSUP`{.envar}: The
        area/nonroad, mobile, and point temporal allocation
        supplementary files.

    -   `PLAY`{.envar}: The point-source hourly layer fraction for each
        source.

    -   `PLAY_EX`{.envar}: The point-source hourly layer fractions for
        [*explicit*]{.emphasis} plume rise sources when processing for
        UAM or CAM~X~.
    :::

-   `run_$ESCEN`{.filename}/static: Contains the matrices and other
    time-independent files. The intermediate files in this directory
    include:

    ::: {.itemizedlist}
    -   `ACMAT`{.envar}, `MCMAT`{.envar}, `PCMAT`{.envar}: The
        area/nonroad, mobile, and point multiplicative control matrices.

    -   `AGMAT`{.envar}, `MGMAT`{.envar}, `PGMAT`{.envar}: The
        area/nonroad, mobile, and point gridding matrices.

    -   `AGSUP`{.envar}, `MGSUP`{.envar}: The area/nonroad and mobile
        supplementary gridding files.

    -   `APMAT`{.envar}, `MPMAT`{.envar}, `PPMAT`{.envar}: The
        area/nonroad, mobile, and point growth matrices.

    -   `ARMAT`{.envar}, `MRMAT`{.envar}, `PRMAT`{.envar}: The
        area/nonroad, mobile, and point reactivity control matrices.

    -   `ARSUP`{.envar}, `MRSUP`{.envar}, `MRSUP`{.envar}: The
        area/nonroad, mobile, and point reactivity supplementary files.

    -   `ASMAT_L`{.envar}, `MSMAT_L`{.envar}, `PSMAT_L`{.envar}: The
        area/nonroad, mobile, and point mole-based speciation matrices.

    -   `ASMAT_S`{.envar}, `MSMAT_S`{.envar}, `PSMAT_S`{.envar}: The
        area/nonroad, mobile, and point mass-based speciation matrices.

    -   `ASSUP`{.envar}, `MSSUP`{.envar}, `PSSUP`{.envar}: The
        area/nonroad, mobile, and point supplementary speciation files.

    -   `PELV`{.envar}: The point-source elevated- and PinG-source
        selection file

    -   `$LOGS`{.filename}: Contains the log files created when the
        SMOKE programs are run
    :::
:::
:::

::: {.section lang="en"}
::: {.titlepage}
<div>

<div>

#### []{#sect_dirs_location_intmed_advanced}3.2.4.2. Advanced configuration for base case {#advanced-configuration-for-base-case .title}

</div>

</div>
:::

Instead of using the basic configuration technique of setting the
scenario name variables (`ASCEN`{.envar}, `BSCEN`{.envar},
`MSCEN`{.envar}, `PSCEN`{.envar}, and `ESCEN`{.envar}) all to the same
value ([Section 3.2.4.1, "Basic configuration for base
case"](ch03s02s04.html#sect_dirs_location_intmed_base "3.2.4.1. Basic configuration for base case")),
you can set up an Assigns file to use different values for one or more
of these variable. In this more advanced configuration, separate
directories are created and used for intermediate and output files for
each source category (examples of when this would be useful are given in
the bullets below). [Figure 3.5, "Locations of intermediate and output
files for SMOKE base case, advanced
configuration"](ch03s02s04.html#fig_dirs_files_advanced "Figure 3.5. Locations of intermediate and output files for SMOKE base case, advanced configuration")
illustrates the directory structure resulting from this approach;
however, for simplicity's sake, we have not included all of the files in
this structure. The files are the same as in [Figure 3.4, "Locations of
intermediate and output files for SMOKE base case, basic
configuration"](ch03s02s04.html#fig_dirs_files_base "Figure 3.4. Locations of intermediate and output files for SMOKE base case, basic configuration"),
with the exception that files specific to a source category go to their
category-specific directories, based on the values given to
`ASCEN`{.envar}, `BSCEN`{.envar}, `MSCEN`{.envar}, and/or
`PSCEN`{.envar}. Note that the nonpoint (stationary area) and nonroad
mobile sources would need to use the same scenario name, even if they
are processed separately, because the nonroad mobile `static`{.filename}
and `scenario`{.filename} directories are set using the same
`ASCEN`{.envar} variable as for other area sources in the default
Assigns files. Having separate source-category-specific directories does
not change the number of intermediate or output files, it just
rearranges the files and results into fewer intermediate, output, and/or
report files in each directory.

This approach is particularly useful in the following cases:

::: {.itemizedlist}
-   [**Using toxic inventories for some source categories but not
    others:**]{.bold} In this case, different scenario names
    (`ASCEN`{.envar}, `MSCEN`{.envar}, `PSCEN`{.envar}, and
    `ESCEN`{.envar}) can be used to distinguish each case and the
    final-merged files (though it is not required to do this). For
    example, if you were running toxics for on-road mobile sources only,
    `MSCEN`{.envar} could be set to "[case1\_tox]{.quote}", while
    `ASCEN`{.envar} and `PSCEN`{.envar} could be set to just
    "[case1]{.quote}" and `ESCEN`{.envar} could be
    "[case1\_all]{.quote}". If you would prefer instead to name all of
    these "[case1]{.quote}" and simply remember that on-road mobile
    sources include toxics, then that would be fine as well.

-   [**Using the **Mrggrid** program to combine model-ready files from
    several previously run scenarios:**]{.bold} For example, you might
    want to combine the future-year base case for all source categories
    except nonroad with a future-year control case for nonroad, as part
    of an evaluation of the impact of the nonroad control case. If three
    previous Assigns files were set up using the basic structure for
    three different control cases (case1, case2, and case3), and a new
    case is needed that uses area sources from case1, on-road mobile
    sources from case2, and point sources from case3, you could set up a
    new Assigns file that sets `ASCEN`{.envar} to case1, `MSCEN`{.envar}
    to case2, and `PSCEN`{.envar} to case3. When you invoke that new
    Assigns file, all of the environment variables needed by **Mrggrid**
    for combining the model-ready files from the three different cases
    would be set: `AGTS_L`{.envar} would be based on case1,
    `MGTS_L`{.envar} would be based on case2, and `PGTS3D_L`{.envar}
    would be based on case3. See [Section 3.2.5, "Locations of
    model-ready output files for base and growth/control
    cases"](ch03s02s05.html "3.2.5. Locations of model-ready output files for base and growth/control cases")
    for more information on the model-ready files.
:::

::: {.figure}
[]{#fig_dirs_files_advanced}

**Figure 3.5. Locations of intermediate and output files for SMOKE base
case, advanced configuration**

::: {.mediaobject}
![Locations of intermediate and output files for SMOKE base case,
advanced configuration](images\dirs\files_advanced_html.jpg)
:::
:::
:::

::: {.section lang="en"}
::: {.titlepage}
<div>

<div>

#### []{#sect_dirs_location_intmed_growth}3.2.4.3. Configuration for growth and/or control case {#configuration-for-growth-andor-control-case .title}

</div>

</div>
:::

The directory structure changes for growth and control cases. The
default growth and control scripts have additional settings that impact
the intermediate directories when running SMOKE. These settings are
described in more detail in [Chapter 4, *How to Use
SMOKE*](ch04.html "Chapter 4. How to Use SMOKE"), but we introduce them
here because they are closely linked to the directory structures used by
SMOKE. The default configuration of SMOKE uses different directories for
files impacted by growth and control so that they will be separated from
the base-year files; this helps keep users from accidentally confusing
their base and grown and/or controlled files.

The key script environment variables that impact the directory
structures are:

::: {.itemizedlist}
-   `CNTLCASE`{.envar}: Sets the name of the control case that will
    impact the directory names. Also is used by the scripts to set the
    required name of the `GCNTL`{.envar} files containing the packets
    for defining growth and controls for the **Cntlmat** program.

-   `FYEAR`{.envar}: Sets the future year with a four-digit year. The
    last two digits of the year are used to set the internal variable
    `fyr2`{.envar}. For example, if `FYEAR`{.envar} is set to 2018,
    `fyr2`{.envar} will be 18. `FYEAR`{.envar} is also used by the
    scripts to set the required name of the `GCNTL`{.envar} files
    containing the packets for defining growth and controls for the
    **Cntlmat** program.

-   `SMK_FUTURE_YN`{.envar}: When set to Y, this setting causes the
    Assigns file to change the SMOKE intermediate inventory file names
    by inserting `$fyr2`{.envar} into the individual file names. The
    Assigns file also changes the intermediate and output paths by
    appending `$fyr2`{.envar} to `$ASCEN`{.envar}, `$MSCEN`{.envar},
    `$PSCEN`{.envar}, and `$ESCEN`{.envar} (affecting the
    `$STATIC`{.envar} and `$SCENARIO`{.envar} directories and file names
    of intermediate files). This is illustrated in [Figure 3.6,
    "Locations of intermediate and output files for SMOKE
    future-/past-year
    case"](ch03s02s04.html#fig_dirs_files_growth "Figure 3.6. Locations of intermediate and output files for SMOKE future-/past-year case").

-   `SMK_CONTROL_YN`{.envar}: When set to Y, this setting causes the
    Assigns file to change the SMOKE intermediate inventory file names
    by inserting `$CNTLCASE`{.envar} into the individual file names. The
    Assigns file also changes the intermediate and output paths by
    appending `$CNTLCASE`{.envar} to `$ASCEN`{.envar}, `$MSCEN`{.envar},
    `$PSCEN`{.envar}, and `$ESCEN`{.envar} (affecting the
    `$STATIC`{.envar} and `$SCENARIO`{.envar} directories and file names
    of intermediate files).
:::

::: {.figure}
[]{#fig_dirs_files_growth}

**Figure 3.6. Locations of intermediate and output files for SMOKE
future-/past-year case**

::: {.mediaobject}
![Locations of intermediate and output files for SMOKE future-/past-year
case](images\dirs\files_growth_html.jpg)
:::
:::

The `$SCENARIO`{.envar} directory for the future case is now a
subdirectory of `data/run_$ESCEN`{.filename}\_`$fyr2`{.envar}. The
`ATMP`{.envar}, `MTMP`{.envar}, and `PTMP`{.envar} files are stored in
this directory, because these depend on the future-year emissions
inventory. Although the temporal profile assignments stored in the
`ATSUP`{.envar}, `MTSUP`{.envar}, and `PTSUP`{.envar} files may not have
changed from the base case, these files are written out for the
future-/past-year case to be consistent with the output files created by
**Temporal** for the base case.

The `$STATIC`{.envar} directory for the future case is now a
subdirectory of `data/run_$ESCEN`{.filename}\_`$fyr2`{.envar}. However,
unlike [Figure 3.4, "Locations of intermediate and output files for
SMOKE base case, basic
configuration"](ch03s02s04.html#fig_dirs_files_base "Figure 3.4. Locations of intermediate and output files for SMOKE base case, basic configuration"),
[Figure 3.6, "Locations of intermediate and output files for SMOKE
future-/past-year
case"](ch03s02s04.html#fig_dirs_files_growth "Figure 3.6. Locations of intermediate and output files for SMOKE future-/past-year case")
indicates that only the `PELV`{.envar} file is stored in this directory.
This is because SMOKE permits reusing the base-year gridding matrices
and speciation matrices for growth and control cases. The growth and
control matrices will also be stored in the base-year `$STATIC`{.envar}
directory. Therefore, the only file that is stored in the future-year
`$STATIC`{.envar} directory is the `PELV`{.envar} file, which can depend
on the emissions values in the future year. For example, if the
elevated-source selection criteria were based on the future-year daily
maximum emissions, then this `PELV`{.envar} file would be different than
the base-year file. It is therefore most safely stored in a directory
that is named with the future-year (or control case) information.

When using controls only (no growth), `$SCENARIO`{.envar} and
`$STATIC`{.envar} will be subdirectories of
`data/run_$ESCEN`{.filename}\_`$CNTLCASE`{.envar}. For the case of
growth and controls, the directory will be named
`data/run_$ESCEN`{.filename}\_`$fyr2`{.envar}\_`$CNTLCASE`{.envar}.
:::
:::

::: {.navfooter}

------------------------------------------------------------------------

  ---------------------------------- -------------------- ---------------------------------------------------------------------------------
  [Prev](ch03s02s03.html)             [Up](ch03s02.html)                                                            [Next](ch03s02s05.html)
  3.2.3. Locations of input files     [Home](index.html)     3.2.5. Locations of model-ready output files for base and growth/control cases
  ---------------------------------- -------------------- ---------------------------------------------------------------------------------
:::
::: {.navheader}
3.2.5. Locations of model-ready output files for base and growth/control
cases
:::

[Prev](ch03s02s04.html) 

3.2. Directory structure

 [Next](ch03s02s06.html)

------------------------------------------------------------------------

::: {.section lang="en"}
::: {.titlepage}
<div>

<div>

### []{#sect_dirs_location_output_files}3.2.5. Locations of model-ready output files for base and growth/control cases {#locations-of-model-ready-output-files-for-base-and-growthcontrol-cases .title}

</div>

</div>
:::

::: {.toc}
[[3.2.5.1. Configuration for base
case](ch03s02s05.html#sect_dirs_location_output_base)]{.section}

[[3.2.5.2. Configuration for growth and/or control
case](ch03s02s05.html#d0e9814)]{.section}
:::

::: {.section lang="en"}
::: {.titlepage}
<div>

<div>

#### []{#sect_dirs_location_output_base}3.2.5.1. Configuration for base case {#configuration-for-base-case .title}

</div>

</div>
:::

[Figure 3.4, "Locations of intermediate and output files for SMOKE base
case, basic
configuration"](ch03s02s04.html#fig_dirs_files_base "Figure 3.4. Locations of intermediate and output files for SMOKE base case, basic configuration"),
[Figure 3.5, "Locations of intermediate and output files for SMOKE base
case, advanced
configuration"](ch03s02s04.html#fig_dirs_files_advanced "Figure 3.5. Locations of intermediate and output files for SMOKE base case, advanced configuration"),
and [Figure 3.6, "Locations of intermediate and output files for SMOKE
future-/past-year
case"](ch03s02s04.html#fig_dirs_files_growth "Figure 3.6. Locations of intermediate and output files for SMOKE future-/past-year case")
show the locations of the output files as well as the intermediate
files. The output files go to the subdirectory of the
`data/run_$ESCEN`{.filename} directory called `output`{.filename}. This
output directory has two subdirectories: the first is set by the
`$SPC`{.envar} environment variable from the Assigns file that sets the
model and chemical mechanism being used for a SMOKE run; the second is
named `merge`{.filename}. There can be just one set of these
subdirectories (as in the basic configuration shown in [Figure 3.4,
"Locations of intermediate and output files for SMOKE base case, basic
configuration"](ch03s02s04.html#fig_dirs_files_base "Figure 3.4. Locations of intermediate and output files for SMOKE base case, basic configuration"))
or multiple sets (as in the advanced configuration shown in [Figure 3.5,
"Locations of intermediate and output files for SMOKE base case,
advanced
configuration"](ch03s02s04.html#fig_dirs_files_advanced "Figure 3.5. Locations of intermediate and output files for SMOKE base case, advanced configuration")).

The `$SPC`{.envar} subdirectory contains the category-specific model
ready files, such as the model-ready files for nonpoint (stationary
area) only, nonroad mobile only, etc. The `merge`{.filename}
subdirectory contains the final model-ready files. The following list
provides the logical names and descriptions of each of the files in the
basic configuration case.

::: {.itemizedlist}
-   `run_$ESCEN`{.filename}/output/merge:

    ::: {.itemizedlist}
    -   [**For CMAQ:**]{.bold}

        `EGTS3D_L`{.envar}: CMAQ 3-D hourly, gridded, speciated
        emissions file, excluding PinG emissions (from the **Smkmerge**
        program).

    -   [**For CMAQ only:**]{.bold}

        `PINGTS_L`{.envar}: Optional file that includes the hourly
        emissions for PinG stacks (or grouped stacks) for each hour
        (from **Smkmerge**).

        `STACK_GROUPS`{.envar}: Optional file that identifies PinG
        stacks (or grouped stacks), their locations, and stack
        parameters (from the **Elevpoint** program).

    -   [**For UAM or CAM~X~:**]{.bold}

        `EGTS_L`{.envar}: I/O API version of the 2-D merged low-level,
        hourly, gridded, speciated emissions file (from **Smkmerge**).

        `EGTS_UAM`{.envar}: Fortran binary 2-D merged low-level hourly,
        gridded, speciated emissions file (from the **Smk2emis**
        program).

        `ELEVTS_L`{.envar}: ASCII elevated-point-source stack parameters
        and hourly, speciated emissions (from **Smkmerge**).
    :::

-   `run_$ESCEN`{.filename}/output/`$SPC`{.envar}:

    ::: {.itemizedlist}
    -   `AGTS_L`{.envar} and `AGTS_S`{.envar}: Nonpoint (stationary
        area) and optionally nonroad mobile-source hourly, gridded,
        speciated emissions (from the **Smkmerge** program).

    -   `B3GTS_L`{.envar} and `B3GTS_S`{.envar}: Biogenic hourly,
        gridded, speciated emissions in moles/hour and tons/hour (from
        the **Tmpbeis3** program).

    -   `B3GTS_L_O`{.envar} and `B3GTS_S_O`{.envar}: **Tmpbeis3** output
        with the correct units needed by the AQM (from the **Smkmerge**
        program).

    -   `MGTS_L`{.envar} and `MGTS_S`{.envar}: On-road mobile-source
        hourly, gridded, speciated emissions (from **Smkmerge**).

    -   `NGTS_L`{.envar} and `NGTS_S`{.envar}: Nonroad mobile-source
        hourly, gridded, speciated emissions in moles/hour and
        grams/hour (these files are written by **Smkmerge** as an
        `AGTS_L`{.envar} or `AGTS_S`{.envar} file, with the scripts
        changing the files to the `NGTS`{.envar} name).

    -   `PGTS_L`{.envar} and `PGTS_S`{.envar}: Point-surce hourly,
        gridded, speciated emissions (from **Smkmerge**). This file
        would be created when modeling for UAM or CAM~X~, which need the
        low-level point sources but not the 3-D point sources. This file
        would not include the elevated-point-source emissions if it were
        created using the `SMK_ASCIIELEV_YN`{.envar} = Y setting.

    -   `PGTS3D_L`{.envar} and `PGTS3D_S`{.envar}: Point-source 3-D,
        hourly, gridded, speciated emissions (from **Smkmerge**). This
        file would be created for CMAQ only, using the elevated layer
        fraction, which requires the option `MRG_LAYERS_YN`{.envar} = Y.
    :::
:::
:::

::: {.section lang="en"}
::: {.titlepage}
<div>

<div>

#### []{#d0e9814}3.2.5.2. Configuration for growth and/or control case {#configuration-for-growth-andor-control-case .title}

</div>

</div>
:::

The output file locations for the growth and control cases follow the
same paradigm described in [Section 3.2.4.3, "Configuration for growth
and/or control
case"](ch03s02s04.html#sect_dirs_location_intmed_growth "3.2.4.3. Configuration for growth and/or control case")
for the intermediate files. The `$fyr2`{.envar} and/or
`$CNTLCASE`{.envar} environment variable values are inserted into the
directory structure, as shown in [Figure 3.6, "Locations of intermediate
and output files for SMOKE future-/past-year
case"](ch03s02s04.html#fig_dirs_files_growth "Figure 3.6. Locations of intermediate and output files for SMOKE future-/past-year case").
The output directories are then reset as follows:

Future/past-year case (no controls):

::: {.itemizedlist}
-   `run_$ESCEN`{.filename}\_`$fyr2`{.envar}/output/merge: Final
    model-ready output files. The files are the same as those in the
    base case, but with future-year emissions; see [Section 3.2.5.1,
    "Configuration for base
    case"](ch03s02s05.html#sect_dirs_location_output_base "3.2.5.1. Configuration for base case")
    for more information.

-   `run_$ESCEN`{.filename}\_`$fyr2`{.envar}/output/`$SPC`{.envar}:
    Source-category hourly, gridded, speciated files. In the advanced
    configuration, the `$ASCEN`{.envar}, `$MSCEN`{.envar}, or
    `$PSCEN`{.envar} values could be different from the `$ESCEN`{.envar}
    value, resulting in separate directories (as shown in [Figure 3.5,
    "Locations of intermediate and output files for SMOKE base case,
    advanced
    configuration"](ch03s02s04.html#fig_dirs_files_advanced "Figure 3.5. Locations of intermediate and output files for SMOKE base case, advanced configuration"),
    but with the `$fyr2`{.envar} field included in the path name. The
    files are the same as those in the base case, but with future-year
    emissions; see [Section 3.2.5.1, "Configuration for base
    case"](ch03s02s05.html#sect_dirs_location_output_base "3.2.5.1. Configuration for base case")
    for more information.
:::

Control case (no growth):

::: {.itemizedlist}
-   `run_$ESCEN`{.filename}\_`$CNTLCASE`{.envar}/output/merge: Final
    model-ready output files. The files are the same as those in the
    base case, but with controlled emissions; see [Section 3.2.5.1,
    "Configuration for base
    case"](ch03s02s05.html#sect_dirs_location_output_base "3.2.5.1. Configuration for base case")
    for more information.

-   `run_$ESCEN`{.filename}\_`$CNTLCASE`{.envar}/output/`$SPC`{.envar}:
    Source-category hourly, gridded, speciated files. In the advanced
    configuration, the `$ASCEN`{.envar}, `$MSCEN`{.envar}, or
    `$PSCEN`{.envar} values could be different from the `$ESCEN`{.envar}
    value, resulting in separate directories (as shown in [Figure 3.5,
    "Locations of intermediate and output files for SMOKE base case,
    advanced
    configuration"](ch03s02s04.html#fig_dirs_files_advanced "Figure 3.5. Locations of intermediate and output files for SMOKE base case, advanced configuration"),
    but with the `$CNTLCASE`{.envar} field included in the path name.
    The files are the same as those in the base case, but with
    controlled emissions; see [Section 3.2.5.1, "Configuration for base
    case"](ch03s02s05.html#sect_dirs_location_output_base "3.2.5.1. Configuration for base case")
    for more information.
:::

Future/past-year and control case:

::: {.itemizedlist}
-   `run_$ESCEN`{.filename}\_`$fyr2`{.envar}\_`$CNTLCASE`{.envar}/output/merge:
    Final model-ready output files. The files are the same as those in
    the base case, but with future-year, controlled emissions; see
    [Section 3.2.5.1, "Configuration for base
    case"](ch03s02s05.html#sect_dirs_location_output_base "3.2.5.1. Configuration for base case")
    for more information.

-   `run_$ESCEN`{.filename}\_`$fyr2`{.envar}\_`$CNTLCASE`{.envar}/output/`$SPC`{.envar}:
    Source-category hourly, gridded, speciated files. In the advanced
    configuration, the `$ASCEN`{.envar}, `$MSCEN`{.envar}, or
    `$PSCEN`{.envar} values could be different from the `$ESCEN`{.envar}
    value, resulting in separate directories (as shown in [Figure 3.5,
    "Locations of intermediate and output files for SMOKE base case,
    advanced
    configuration"](ch03s02s04.html#fig_dirs_files_advanced "Figure 3.5. Locations of intermediate and output files for SMOKE base case, advanced configuration"),
    but with the `$fyr2`{.envar} and `$CNTLCASE`{.envar} fields included
    in the path name. The files are the same as those in the base case,
    but with future-year, controlled emissions; see [Section 3.2.5.1,
    "Configuration for base
    case"](ch03s02s05.html#sect_dirs_location_output_base "3.2.5.1. Configuration for base case")
    for more information.
:::
:::
:::

::: {.navfooter}

------------------------------------------------------------------------

  --------------------------------------------------------------------------- -------------------- ------------------------------
  [Prev](ch03s02s04.html)                                                      [Up](ch03s02.html)         [Next](ch03s02s06.html)
  3.2.4. Locations of intermediate files for base and growth/control cases     [Home](index.html)     3.2.6. Locations of reports
  --------------------------------------------------------------------------- -------------------- ------------------------------
:::
::: {.navheader}
3.2.6. Locations of reports
:::

[Prev](ch03s02s05.html) 

3.2. Directory structure

 [Next](ch03s03.html)

------------------------------------------------------------------------

::: {.section lang="en"}
::: {.titlepage}
<div>

<div>

### []{#sect_dirs_location_report_files}3.2.6. Locations of reports {#locations-of-reports .title}

</div>

</div>
:::

The report output directory names follow the same paradigm as the
intermediate and model-ready output directory names. "[Reports]{.quote}"
as defined for this directory structure are the report files output from
the **Cntlmat**, **Smkinven**, **Smkmerge**, and **Smkreport** programs.
More information on these programs can be found in [Section 6.2,
"**Cntlmat**"](ch06s02.html "6.2. Cntlmat"), [Section 6.13,
"**Smkinven**"](ch06s13.html "6.13. Smkinven"), [Section 6.14,
"**Smkmerge**"](ch06s14.html "6.14. Smkmerge"), and [Section 7.2,
"**Smkreport** Program"](ch07s02.html "7.2. Smkreport Program").

As shown in [Figure 3.4, "Locations of intermediate and output files for
SMOKE base case, basic
configuration"](ch03s02s04.html#fig_dirs_files_base "Figure 3.4. Locations of intermediate and output files for SMOKE base case, basic configuration"),
the two main report directories for the basic configuration are the
`data/reports/$ESCEN`{.filename}/scenario and
`data/reports/$ESCEN`{.filename}/static directories. The former
directory is for time-dependent reports, and the latter is for
time-independent reports. Because the `BSCEN`{.envar} variable is often
different from the `ESCEN`{.envar} variable, a different report
directory is available for the biogenic emissions:
`data/reports/$BSCEN`{.filename}/scenario, which contains the only
biogenic reports available (created by the **Smkmerge** program).

[Figure 3.5, "Locations of intermediate and output files for SMOKE base
case, advanced
configuration"](ch03s02s04.html#fig_dirs_files_advanced "Figure 3.5. Locations of intermediate and output files for SMOKE base case, advanced configuration")
shows the report directories for the advanced configuration. The
source-category-specific variables `ASCEN`{.envar}, `BSCEN`{.envar},
`MSCEN`{.envar}, and `PSCEN`{.envar} appear here, in addition to the
`ESCEN`{.envar} variable. In the default setup of SMOKE, **Smkmerge**
uses separate source-category-specific directories for the reports, as
defined in the `$ASSIGNS`{.filename}/setmerge\_files.scr script. For
**Smkreport**, the `$SCRIPTS`{.filename}/run/qa\_run.csh script sends
the default reports to the `$REPSTAT`{.envar} and `$REPSCEN`{.envar}
directories (which use the `ESCEN`{.envar} variable in their path
names). Both of these scripts are straightforward to change to
accommodate user preferences.

[Figure 3.6, "Locations of intermediate and output files for SMOKE
future-/past-year
case"](ch03s02s04.html#fig_dirs_files_growth "Figure 3.6. Locations of intermediate and output files for SMOKE future-/past-year case")
shows the report directories for the basic configuration of
future/past-year and/or control case reports. The `$REPSTAT`{.envar} and
`$REPSCEN`{.envar} directories use the year and/or control case name
(from `$fyr2`{.envar} and `$CNTLCASE`{.envar}) to reset the report
directory names, in the same way as for the intermediate and model-ready
output files.

The **Smkmerge** program has numerous logical file names that can be
used as output files (too many to list here). The reports include state
and/or county totals for each day run by **Smkmerge**. The form of the
output logical file names is `REP[A|B|M|P|E]G[T][S][C][_S|_L]`{.envar}.
The A, B, M, P, or E in the file represents area, biogenic, mobile,
point, or "[every]{.quote}" emissions, respectively. **Smkmerge** can
optionally report temporalized emissions (T), speciated emissions (S),
and/or controlled emissions (C). The \_S or \_L suffix represents
mass-based or mole-based reports, respectively (e.g., tons/day or
moles/day).

The **Smkreport** program uses logical file names in the
`REPCONFIG`{.envar} file to determine report names. The /NEWFILE/ packet
controls the logical file names, and the SMOKE script
`qa_run.csh`{.filename} (for default reporting) or the main run scripts
control the values of these logical file names and hence the file paths.
There are too many types of reports that **Smkreport** can create for us
to list them all here with their appropriate files. In general, the
time-independent reports go to the `$REPSTAT`{.envar} directory and the
time-dependent reports go to the `$REPSCEN`{.envar} directory.
:::

::: {.navfooter}

------------------------------------------------------------------------

  --------------------------------------------------------------------------------- -------------------- -----------------------------------------------------
  [Prev](ch03s02s05.html)                                                            [Up](ch03s02.html)                                   [Next](ch03s03.html)
  3.2.5. Locations of model-ready output files for base and growth/control cases     [Home](index.html)     3.3. How to change the default directory structure
  --------------------------------------------------------------------------------- -------------------- -----------------------------------------------------
:::
::: {.navheader}
3.3. How to change the default directory structure
:::

[Prev](ch03s02s06.html) 

Chapter 3. SMOKE Directory Structure

 [Next](ch04.html)

------------------------------------------------------------------------

::: {.section lang="en"}
::: {.titlepage}
<div>

<div>

[]{#sect_dirs_change_directory}3.3. How to change the default directory structure {#how-to-change-the-default-directory-structure .title style="clear: both"}
---------------------------------------------------------------------------------

</div>

</div>
:::

The default Assigns files and scripts contain settings that allow users
to modify the directories that will be used when running SMOKE. The
basic structure has been developed to suit the needs of a variety of
applications, from short, single-grid, base case modeling needs to
annual, multigrid needs for many control strategies. The details of
working within the default structure by changing Assigns file and script
settings are provided in [Chapter 4, *How to Use
SMOKE*](ch04.html "Chapter 4. How to Use SMOKE"). The default structures
that we have described represent our recommended way of running SMOKE.
Although this structure has been quite useful for many people, it could
be a burden to others. In this section, we describe ways in which users
can change the default structure to meet their specific needs.

The SMOKE programs themselves do not require any specific directory
structure because all input and output files depend only on environment
variables, which can be set in any pattern. We have created a default
directory structure so that other users can benefit from our experience
in emissions modeling and using SMOKE, and to provide an initial
structure that is useful. With a few exceptions for intermediate files,
the SMOKE programs also do not require specific file names, only
specific environment variables; but again, we have configured SMOKE to
have a default structure for these names.

In principle, you can change the location of every single input file
that SMOKE uses. The Assigns files and scripts have been implemented
using one structure, but changing that structure is only a matter of
finding some other method of providing the file names to the programs.
This can include changing the Assigns files and scripts, or removing the
Assigns files altogether and creating a script that sets all of the
input and output file names and directories and calls the programs.
These modifications can be as extensive or minimal as needed to handle a
specific limitation or problem with the default structure.

If slight modifications to the structures are all that is needed, then
the best approach is to modify a copy of the default the Assigns file.
For example, if you wish to have the nonroad mobile sources'
intermediate and output files written to a different directory than the
stationary area sources' files, you would add an `NSCEN`{.envar}
environment variable to parallel the area-source variable
`ASCEN`{.envar}, and change the input, intermediate, and output file
locations and names to use this setting.
:::

::: {.navfooter}

------------------------------------------------------------------------

  ------------------------------ -------------------- ------------------------------
  [Prev](ch03s02s06.html)          [Up](ch03.html)                 [Next](ch04.html)
  3.2.6. Locations of reports     [Home](index.html)     Chapter 4. How to Use SMOKE
  ------------------------------ -------------------- ------------------------------
:::
