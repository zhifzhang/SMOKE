::: {.navheader}
6.16.3. Files and Environment Variables
:::

[Prev](ch06s16s02.html) 

6.16. **Temporal**

 [Next](ch06s17.html)

------------------------------------------------------------------------

::: {.section lang="en"}
::: {.titlepage}
<div>

<div>

### []{#d0e31649}6.16.3. Files and Environment Variables {#files-and-environment-variables .title}

</div>

</div>
:::

::: {.toc}
[[6.16.3.1. Input Files](ch06s16s03.html#d0e31856)]{.section}

[[6.16.3.2. Input Environment
Variables](ch06s16s03.html#sect_programs_temporal_envar)]{.section}

[[6.16.3.3. Output Files](ch06s16s03.html#d0e32207)]{.section}
:::

::: {.figure}
[]{#fig_programs_temporal_area}

**Figure 6.23. Temporal input and output files for area sources**

::: {.mediaobject}
![Temporal input and output files for area
sources](images\programs\temporal_area_html.jpg)
:::
:::

[Figure 6.23, "Temporal input and output files for area
sources"](ch06s16s03.html#fig_programs_temporal_area "Figure 6.23. Temporal input and output files for area sources")
shows the input and output files for the **Temporal** program for area
sources. The input files include the inventory file output from
**Smkinven** (`AREA`{.envar}), the temporal profiles file
(`ATPRO`{.envar}), the temporal cross-reference file (`ATREF`{.envar}),
the country, state, and county codes file (`COSTCY`{.envar}), the
holidays file `HOLIDAYS`{.envar}), and optional process date file
(`PROCDATES`{.envar}).

**Temporal** outputs an hourly emissions file (`ATMP`{.envar}), a
temporal allocation supplemental file (`ATSUP`{.envar}), and a log file
(`LOGFILE`{.envar}).

::: {.figure}
[]{#fig_programs_temporal_mobile}

**Figure 6.24. Temporal input and output files for mobile sources**

::: {.mediaobject}
![Temporal input and output files for mobile
sources](images\programs\temporal_mobile_html.jpg)
:::
:::

[Figure 6.24, "Temporal input and output files for mobile
sources"](ch06s16s03.html#fig_programs_temporal_mobile "Figure 6.24. Temporal input and output files for mobile sources")
shows the input and output files for the **Temporal** program for mobile
sources. The input files include the country, state, and county codes
file (`COSTCY`{.envar}), the holidays file (`HOLIDAYS`{.envar}), the
optional process date file (`PROCDATES`{.envar}) and, if activity data
are used, the inventory data table (`INVTABLE`{.envar}). **Temporal**
also uses the inventory file output from **Smkinven** (`MOBL`{.envar}),
the temporal profiles file (`MTPRO`{.envar}), and the temporal
cross-reference file (`MTREF`{.envar}).

**Temporal** outputs a log file (`LOGFILE`{.envar}), an hourly emissions
file (`MTMP`{.envar}), and a temporal allocation supplemental file
(`MTSUP`{.envar}).

::: {.figure}
[]{#fig_programs_temporal_point}

**Figure 6.25. Temporal input and output files for point sources**

::: {.mediaobject}
![Temporal input and output files for point
sources](images\programs\temporal_point_html.jpg)
:::
:::

[Figure 6.25, "Temporal input and output files for point
sources"](ch06s16s03.html#fig_programs_temporal_point "Figure 6.25. Temporal input and output files for point sources")
shows the input and output files for the **Temporal** program for point
sources. The input files include the country, state, and county codes
file (`COSTCY`{.envar}), the holidays file (`HOLIDAYS`{.envar}) and the
optional process date file (`PROCDATES`{.envar}). If using day-specific
data, the `PDAY`{.envar} file is read, and the `PHOUR`{.envar} file is
read when using hour-specific data. **Temporal** also uses the inventory
file output from **Smkinven** (`PNTS`{.envar}), the temporal profiles
file (`PTPRO`{.envar}), and the temporal cross-reference file
(`PTREF`{.envar}).

**Temporal** outputs a log file (`LOGFILE`{.envar}), an hourly emissions
file (`PTMP`{.envar}), and a temporal allocation supplemental file
(`PTSUP`{.envar}).

Optionally, **Temporal** may be run using `PROCDATES`{.envar}. This
enables the processing of sequential or non-sequential user specified
days. If `PROCDATES`{.envar} is not assigned, the defaults apply. When
running **Temporal** interactively, the following inputs will be
requested. The default values for these are set by the
`G_STDATE`{.envar}, `G_STTIME`{.envar}, and `G_RUNLEN`{.envar}
environment variables.

::: {.itemizedlist}
-   Start date: Starting date of simulation in Julian (YYYYDDD) or
    Gregorian (YYYYMMDD) formats

-   Start Time: Starting time of simulation in HHMMSS

-   Duration: Simulation duration in hours
:::

`PROCDATES`{.envar}: See description in [Section 8.3.4,
"`PROCDATES`{.envar}: Procdates date
list"](ch08s03s04.html "8.3.4. PROCDATES: Procdates date list").

::: {.section lang="en"}
::: {.titlepage}
<div>

<div>

#### []{#d0e31856}6.16.3.1. Input Files {#input-files .title}

</div>

</div>
:::

::: {.informaltable}
  File Name                                                                                                Format           Description
  -------------------------------------------------------------------------------------------------------- ---------------- ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
  `[AREA|MOBL|PNTS]`{.envar}                                                                               SMOKE map        Intermediate inventory file produced by **Smkinven**
  `[A|M|P]TPRO_MONTHLY`{.envar}                                                                            ASCII            Monthly Temporal profiles
  `[A|M|P]TPRO_DAILY`{.envar}                                                                              ASCII            Month-to-day Temporal profiles
  `[A|M|P]TPRO_WEEKLY`{.envar}                                                                             ASCII            Weekly Temporal profiles
  `[A|M|P]TPRO_HOURLY`{.envar}                                                                             ASCII            Day-to-hour Temporal profiles
  `[A|M|P]TPRO_HOURLY_NCF`{.envar}                                                                         ASCII            Meteorological-based hourly Temporal profiles
  `[A|M|P]TREF`{.envar}                                                                                    ASCII            Temporal cross-reference file
  `COSTCY`{.envar}                                                                                         ASCII            Country/state/county codes file, used to determine counties that do not use Daylight Saving time.
  [`GEOCODE_LEVEL[1-4]`{.envar}](ch08s10s03.html "8.10.3. GEOCODE_LEVEL[1-4]: Geographical Input Files")   ASCII            Geographical level codes and descriptions for gridded inventories, only when USE\_EXP\_GEO\_CODES is set to Y, (COSTCY is ignored when [`GEOCODE_LEVEL[1-4]`{.envar}](ch08s10s03.html "8.10.3. GEOCODE_LEVEL[1-4]: Geographical Input Files") files are used)
  `HOLIDAYS`{.envar}                                                                                       ASCII            Holidays file by Gregorian date, for applying holiday temporal profiles.
  `PROCDATES`{.envar} (optional)                                                                           ASCII            Processes user specified Gregorian dates
  `INVTABLE`{.envar} (optional)                                                                            ASCII            Inventory data table listing pollutant and activity names; required only if activity data are used
  `PDAY`{.envar} (optional)                                                                                I/O API NetCDF   Day-specific intermediate inventory file created by **Smkinven** (required if `DAY_SPECIFIC_YN`{.envar} is set to Y)
  `PHOUR`{.envar} (optional)                                                                               I/O API NetCDF   Hour-specific intermediate inventory file created by **Smkinven** (required if `HOUR_SPECIFIC_YN`{.envar} is set to Y)
:::
:::

::: {.section lang="en"}
::: {.titlepage}
<div>

<div>

#### []{#sect_programs_temporal_envar}6.16.3.2. Input Environment Variables {#input-environment-variables .title}

</div>

</div>
:::

::: {.itemizedlist}
-   `DAY_SPECIFIC_YN`{.envar}: See description in [Section 6.13.3.2,
    "Input Environment
    Variables"](ch06s13s03.html#sect_programs_smkinven_envar "6.13.3.2. Input Environment Variables")

-   `FULLSCC_ONLY`{.envar}: See description in [Section 6.2.3.2, "Input
    Environment
    Variables"](ch06s02s03.html#sect_programs_cntlmat_envar "6.2.3.2. Input Environment Variables").
    In this context, this option affects cross-referencing for the
    temporal cross-reference files by preventing left-7 SCC assignments.

-   `USE_EXP_GEO_CODES`{.envar}: \[default: N\]

    If set to Y then use GEOCODE\_LEVEL\[1-4\] files instead of the
    COSTCY file to define expanded geographical detail such as
    country-level(GEOCODE\_LEVEL1), country/state-level
    (GEOCODE\_LEVEL2), country/state/county-level (GEOCODE\_LEVEL3) or
    country/state/county/tribal-level (GEOCODE\_LEVEL4).

-   `HOUR_SPECIFIC_YN`{.envar}: See description in [Section 6.13.3.2,
    "Input Environment
    Variables"](ch06s13s03.html#sect_programs_smkinven_envar "6.13.3.2. Input Environment Variables")

-   `HOURLY_TPROF_BASE`{.envar}: \[default: blank\]

    Defines the base of hourly temporal profiles. This flag is only
    applicable when hourly temporal profiles generated by **Gentpro** is
    available for **Temporal** to use. For a proper processing of hourly
    temporal profiles from **Gentpro**, user must let **Temporal** know
    the basis of hourly temporal profiles (i.e., hour of day, hour of
    month or hour of year). **Gentpro** outputs hourly temporal profiles
    IDs into temporal cross-reference input file
    (`[A|M|P]TREF`{.envar}). See detail information at [Section 8.3.2,
    "`[A|M|P]TREF`{.envar}: Temporal cross-reference
    file"](ch08s03s02.html "8.3.2. [A|M|P]TREF: Temporal cross-reference file").
    If `HOUR_PROFID`{.envar} column is filled by **Gentpro**, user must
    define the base of hourly profiles to correctly convert
    annual/monthly/daily inventories. If processing monthly inventory,
    user must set it to \'MONTH\'.

    ::: {.itemizedlist}
    -   YEAR: Convert raw annual inventory to hourly inventory values.

    -   MONTH: Convert calculated monthly inventory to hourly inventory
        values.
    :::

-   `OUTPUT_LOCAL_TIME`{.envar}: \[default: N\]

    Defines whether the program processes daily/hourly inventories in
    local time or not.

    ::: {.itemizedlist}
    -   Y: Process daily/hourly inventories in local time. No time zone
        shift.

    -   N: Apply time zone shift.
    :::

-   `OUTZONE`{.envar}: : \[default: 0\]

    Indicates offset from Greenwich Mean Time (GMT) for episode start
    date and time. `OUTZONE`{.envar} should be set to the standard time
    for the time zone of interest; SMOKE will adjust to Daylight Saving
    time for episodes that are during periods and in regions where
    Daylight Saving time applies.

    [Table 2.9, "Example `OUTZONE`{.envar} settings and their associated
    time
    zones"](ch02s10s04.html#tbl_concepts_outzone "Table 2.9. Example OUTZONE settings and their associated time zones")
    provides allowed values for `OUTZONE`{.envar}. The CMAQ model
    expects `OUTZONE`{.envar} to be 0, while other models such as
    UAM-IV, UAM-V and CAM~X~ often use time zone 5. All models expect
    that the emissions and the meteorology data provided to the model
    will have a consistent time zone. SMOKE expects that the meteorology
    data will be in GMT.

    Note that SMOKE expects `OUTZONE`{.envar} to be set as a positive
    number for time zones in the Western Hemisphere, although standard
    notation would list these as negative values. For example, Eastern
    Standard Time is -5:00 hours from GMT, but `OUTZONE`{.envar} for EST
    in SMOKE is 5.

-   `RENORM_TPROF`{.envar}: \[default: Y\]

    Defines whether **Temporal** normalizes the temporal profiles or
    uses them as they exist in the data file. If the profiles are
    specified as decimal values and sum to 1, then specify N. Otherwise,
    specify Y and the program will sum the values associated with each
    profile and then divide each value by the sum, thereby creating a
    normalized profile.

    ::: {.itemizedlist}
    -   Y: Normalize the temporal profiles

    -   N: Use the temporal profile values as they exist in the data
        file
    :::

-   `REPORT_DEFAULTS`{.envar}: See description in [Section 6.2.3.2,
    "Input Environment
    Variables"](ch06s02s03.html#sect_programs_cntlmat_envar "6.2.3.2. Input Environment Variables")

-   `SMK_AVEDAY_YN`{.envar}: See description in [Section 6.2.3.2, "Input
    Environment
    Variables"](ch06s02s03.html#sect_programs_cntlmat_envar "6.2.3.2. Input Environment Variables")

-   `SMK_EF_MODEL`{.envar}: \[default:blank\]

    Name of the emission factor model to use. NOTE: User must set it to
    MOVES when processing activity inventory data (i.e., VMT, VPOP and
    SPEED).

-   `SMK_MAXERROR`{.envar}: See description in [Section 6.13.3.2, "Input
    Environment
    Variables"](ch06s13s03.html#sect_programs_smkinven_envar "6.13.3.2. Input Environment Variables")

-   `SMK_MAXWARNING`{.envar}: See description in [Section 6.13.3.2,
    "Input Environment
    Variables"](ch06s13s03.html#sect_programs_smkinven_envar "6.13.3.2. Input Environment Variables")

-   `SMK_SOURCE`{.envar}: See description in [Section 6.2.3.2, "Input
    Environment
    Variables"](ch06s02s03.html#sect_programs_cntlmat_envar "6.2.3.2. Input Environment Variables")

-   `UNIFORM_TPROF_YN`{.envar}: \[default: N\]

    Defines whether to use uniform temporal profiles for all sources.

    ::: {.itemizedlist}
    -   Y: Use uniform temporal profiles

    -   N: Use temporal profiles file and temporal cross-reference file
    :::

-   `ZONE4WM`{.envar}: \[default: Y\]

    Defines whether **Temporal** applies weekly and monthly temporal
    profiles using time zones. If SMOKE does not apply the profiles
    using the sources' time zones, then all sources change from one day
    to the next or one month to the next at the same hour. This is what
    other emission processing systems have typically done, and it is a
    minor distinction in most cases.

    ::: {.itemizedlist}
    -   Y: Use time zones

    -   N: Do not use time zones
    :::
:::
:::

::: {.section lang="en"}
::: {.titlepage}
<div>

<div>

#### []{#d0e32207}6.16.3.3. Output Files {#output-files .title}

</div>

</div>
:::

As of SMOKE version 2.3, two new environmental variables
`[A|M|P]TMPNAME`{.envar} and `[A|M|P]TSUPNAME`{.envar} are required to
set the directory and file prefix used to dynamically name the output
files `[A|M|P]TMP`{.envar} and `[A|M|P]TSUP`{.envar}.

::: {.informaltable}
  File Name               Format           Description
  ----------------------- ---------------- -----------------------------------------------------------------------------------------------------------------------------------------------
  `[A|M|P]TMP`{.envar}    I/O API NetCDF   Hourly emissions by source; if using elevated point sources as part of point-source processing, this file contains only the layer-1 emissions
  `[A|M|P]TSUP`{.envar}   ASCII            Temporal allocation supplemental file
  `LOGFILE`{.envar}       ASCII            Log generated from executing **Temporal**
:::
:::
:::

::: {.navfooter}

------------------------------------------------------------------------

  --------------------------- -------------------- -----------------------
  [Prev](ch06s16s02.html)      [Up](ch06s16.html)     [Next](ch06s17.html)
  6.16.2. Processing Order     [Home](index.html)       6.17. **Tmpbeis3**
  --------------------------- -------------------- -----------------------
:::
