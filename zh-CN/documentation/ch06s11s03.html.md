::: {.navheader}
6.11.3. Files and Environment Variables
:::

[Prev](ch06s11s02.html) 

6.11. **Mrgpt**

 [Next](ch06s12.html)

------------------------------------------------------------------------

::: {.section lang="en"}
::: {.titlepage}
<div>

<div>

### []{#d0e27079}6.11.3. Files and Environment Variables {#files-and-environment-variables .title}

</div>

</div>
:::

::: {.toc}
[[6.11.3.1. Input Files](ch06s11s03.html#d0e27122)]{.section}

[[6.11.3.2. Input Environment
Variables](ch06s11s03.html#d0e27190)]{.section}

[[6.11.3.3. Output Files](ch06s11s03.html#d0e27249)]{.section}
:::

::: {.figure}
[]{#fig_programs_mrgpt}

**Figure 6.11. Mrgpt input and output files**

::: {.mediaobject}
![Mrgpt input and output files](images\programs\mrgpt_html.jpg)
:::
:::

[Figure 6.11, "Mrgpt input and output
files"](ch06s11s03.html#fig_programs_mrgpt "Figure 6.11. Mrgpt input and output files")
shows the input and output files for the **Mrgpt** program. The input
files are a list of the logical file names for the speciated hourly
emissions files from **Smkmerge** to be merged (`FILELIST_INLN`{.envar})
and a list of the logical file names for the ASCII elevated output files
from **Elevpoint** to be merged (`FILELIST_STACK`{.envar}). The program
outputs a log file (`LOGFILE`{.envar}), a merged specated hourly
emissions file (`OUTFILE_INLN`{.envar}), a merged ASCII elevated output
file (`OUTFILE_STACK`{.envar}), and if merging different days, a report
file (`REPMRGGRID`{.envar}).

::: {.section lang="en"}
::: {.titlepage}
<div>

<div>

#### []{#d0e27122}6.11.3.1. Input Files {#input-files .title}

</div>

</div>
:::

::: {.informaltable}
+--------------------------+--------+-----------------------------+
| File Name                | Format | Description                 |
+==========================+========+=============================+
| `FILELIST_INLN`{.envar}  | ASCII  | List of                     |
|                          |        | [*logical*]{.emphasis} file |
|                          |        | name for hourly speciated   |
|                          |        | I/O API NetCDF files; this  |
|                          |        | file cannot contain the     |
|                          |        | full paths and file names.  |
|                          |        | Users should make sure that |
|                          |        | the logical file names that |
|                          |        | appear in                   |
|                          |        | `FILELIST_INLN`{.envar} are |
|                          |        | defined prior to running    |
|                          |        | **Mrgpt**.                  |
+--------------------------+--------+-----------------------------+
| `FILELIST_STACK`{.envar} | ASCII  | List of                     |
|                          |        | [*logical*]{.emphasis} file |
|                          |        | name for ASCII elevated     |
|                          |        | output files; this file     |
|                          |        | cannot contain the full     |
|                          |        | paths and file names. Users |
|                          |        | should make sure that the   |
|                          |        | logical file names that     |
|                          |        | appear in                   |
|                          |        | `FILELIST_STACK`{.envar}    |
|                          |        | are defined prior to        |
|                          |        | running **Mrgpt**.          |
+--------------------------+--------+-----------------------------+
| `ADJ_FACS`{.envar}       | ASCII  | File that lists the species |
|                          |        | name, the logical file      |
| (optional)               |        | name, and the factor to be  |
|                          |        | applied to all grid cells.  |
|                          |        | The species name must be in |
|                          |        | columns A, the logical file |
|                          |        | name in column B, and the   |
|                          |        | factor in columns C. SMOKE  |
|                          |        | will ignore the case of the |
|                          |        | text, treating lower- and   |
|                          |        | uppercase characters as if  |
|                          |        | they were the same. For     |
|                          |        | example, the following      |
|                          |        | `ADJ_FACS`{.envar} file     |
|                          |        | sample would multiply NO    |
|                          |        | emissions from the          |
|                          |        | PTIPMTS\_L\_INLN file by    |
|                          |        | 1.3 (30% increase) and      |
|                          |        | multiply PAR from the       |
|                          |        | PTNONIPMTS\_L\_INLN file by |
|                          |        | 0.6 (40% decrease).         |
|                          |        |                             |
|                          |        | ``` {.programlisting}       |
|                          |        | NO, PTNONIPMTS_L_INLN, 1.3  |
|                          |        | PAR, PTIPMTS_L_INLN, 0.6    |
|                          |        | ```                         |
+--------------------------+--------+-----------------------------+
:::
:::

::: {.section lang="en"}
::: {.titlepage}
<div>

<div>

#### []{#d0e27190}6.11.3.2. Input Environment Variables {#input-environment-variables .title}

</div>

</div>
:::

::: {.itemizedlist}
-   `MRG_DIFF_DAYS`{.envar}: \[default: N\]

    This environment variable allows **Mrgpt** to merge files with data
    from different days.

    ::: {.itemizedlist}
    -   Y: Allow data from different dates to be merged together

        **Mrgpt** will use the environment variables `G_STDATE`{.envar},
        `G_STTIME`{.envar}, `G_RUNLEN`{.envar}, and `G_TSTEP`{.envar} to
        set the start date, start time, length, and time step of the
        output file. All input files must have the same starting time as
        `G_STTIME`{.envar}, the same time step as `G_TSTEP`{.envar}, and
        must contain more than `G_RUNLEN`{.envar} steps of data. For
        each input file, if it contains data to cover the actual episode
        requested by `G_STDATE`{.envar}, `G_STTIME`{.envar}, and
        `G_RUNLEN`{.envar}, then the data for the actual episode will be
        used; otherwise, data starting at the first time step of the
        file will be used.

    -   N: Require all merged data to be from the same date

        **Mrgpt** will determine the output file time period based on
        the latest starting input file and the earliest ending input
        file.
    :::
:::
:::

::: {.section lang="en"}
::: {.titlepage}
<div>

<div>

#### []{#d0e27249}6.11.3.3. Output Files {#output-files .title}

</div>

</div>
:::

::: {.informaltable}
  File Name                 Format           Description
  ------------------------- ---------------- -----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
  `LOGFILE`{.envar}         ASCII            Log generated from executing **Mrgpt**
  `OUTFILE_INLN`{.envar}    I/O API NetCDF   Merged inline-mode hourly speciated emission file
  `OUTFILE_STACK`{.envar}   ASCII            Merged inline-mode ASCII point elevated file
  `REPMRGGRID`{.envar}      ASCII            Report file generated when `MRG_DIFF_DAYS`{.envar} is set to Y; the report lists the date and time for each output time step along with the actual date and time of the data read from each file
  `REPMERG_ADJ`{.envar}     ASCII            Report file generated when `ADJ_FACS`{.envar} is set; the report lists the date, the logical file name, the species name, the factor applied, a daily total of species before and after applying adjustment factor, and the ratio (after/ratio). The report only lists when the ratio is not equal to 1.0
:::
:::
:::

::: {.navfooter}

------------------------------------------------------------------------

  --------------------------- -------------------- -----------------------
  [Prev](ch06s11s02.html)      [Up](ch06s11.html)     [Next](ch06s12.html)
  6.11.2. Processing Order     [Home](index.html)      6.12. **Normbeis3**
  --------------------------- -------------------- -----------------------
:::
