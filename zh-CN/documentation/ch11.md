::: {.navheader}
Chapter 11. Source Code and Include Files
:::

[Prev](ch10s08.html) 

 

 [Next](ch11s02.html)

------------------------------------------------------------------------

::: {.chapter lang="en"}
::: {.titlepage}
<div>

<div>

[]{#ch_source}Chapter 11. Source Code and Include Files {#chapter-11.-source-code-and-include-files .title}
-------------------------------------------------------

</div>

</div>
:::

::: {.toc}
[[11.1. Source Code](ch11.html#sect_source_source)]{.section}

[[11.2. Include Files](ch11s02.html)]{.section}
:::

The SMOKE modeling system consists of several core programs (described
in [Chapter 6, *SMOKE Core
Programs*](ch06.html "Chapter 6. SMOKE Core Programs")), several utility
programs (described in [Chapter 5, *SMOKE Utility
Tools*](ch05.html "Chapter 5. SMOKE Utility Tools"), and the quality
assurance program **Smkreport** (described in [Chapter 7, *SMOKE Quality
Assurance*](ch07.html "Chapter 7. SMOKE Quality Assurance")). The source
code for all programs is available in the `$SMKROOT`{.filename}/src
directory.

SMOKE also uses several libraries for shared functionality. The I/O API
and NetCDF libraries were discussed in [Chapter 12, *Downloading,
Installing, and Compiling
SMOKE*](ch12.html "Chapter 12. Downloading, Installing, and Compiling SMOKE").
In addition, SMOKE is distributed with the FileSetAPI library
([Section 11.1.1, "FileSetAPI
library"](ch11.html#sect_source_fileset "11.1.1. FileSetAPI library")),
and the EDSS Tools library ([Section 11.1.2, "EDSS Tools
library"](ch11.html#sect_source_edss_tools "11.1.2. EDSS Tools library")).

::: {.section lang="en"}
::: {.titlepage}
<div>

<div>

[]{#sect_source_source}11.1. Source Code {#source-code .title style="clear: both"}
----------------------------------------

</div>

</div>
:::

::: {.toc}
[[11.1.1. FileSetAPI library](ch11.html#sect_source_fileset)]{.section}

[[11.1.2. EDSS Tools
library](ch11.html#sect_source_edss_tools)]{.section}

[[11.1.3. SMOKE programs](ch11.html#sect_source_programs)]{.section}
:::

All source code for SMOKE and its associated libraries can be found in
the `$SMK_SUBSYS`{.filename} directory.

::: {.section lang="en"}
::: {.titlepage}
<div>

<div>

### []{#sect_source_fileset}11.1.1. FileSetAPI library {#filesetapi-library .title}

</div>

</div>
:::

This library is used to open multiple I/O API files to avoid the limit
of 120 variables per I/O API file. The source code in found in the
`$SMKROOT`{.filename}/src/filesetapi directory (also accessible using
the `FS_ROOT`{.envar} environment variable), which contains the
following source codes.

::: {.itemizedlist}
-   `$FS_ROOT`{.filename}/appendname.f
-   `$FS_ROOT`{.filename}/chkfileset.f
-   `$FS_ROOT`{.filename}/chksetdesc.f
-   `$FS_ROOT`{.filename}/cleanup.f
-   `$FS_ROOT`{.filename}/closeset.f
-   `$FS_ROOT`{.filename}/createset.f
-   `$FS_ROOT`{.filename}/descset.f
-   `$FS_ROOT`{.filename}/Makefile
-   `$FS_ROOT`{.filename}/Makeit
-   `$FS_ROOT`{.filename}/modfileset.f
-   `$FS_ROOT`{.filename}/modmake.inc
-   `$FS_ROOT`{.filename}/openset.f
-   `$FS_ROOT`{.filename}/promptset.f
-   `$FS_ROOT`{.filename}/readset.F
-   `$FS_ROOT`{.filename}/SETDECL.EXT
-   `$FS_ROOT`{.filename}/writeset.F
:::
:::

::: {.section lang="en"}
::: {.titlepage}
<div>

<div>

### []{#sect_source_edss_tools}11.1.2. EDSS Tools library {#edss-tools-library .title}

</div>

</div>
:::

The EDSS Tools library is built on the EDSS framework and contains a
variety of routines used for accessing I/O API data and other Models-3
conventions. The main directory for the EDSS Tools library is
`$SMKROOT`{.filename}/src/edss\_tools, which is also accessible with the
`TOOLS_ROOT`{.envar} environment variable.

::: {.itemizedlist}
-   `$ETINC`{.filename}/IOCNST3.EXT
-   `$ETINC`{.filename}/IOPRVT3.EXT
-   `$ETINC`{.filename}/IOSTRG3.EXT
-   `$ETLSRC`{.filename}/checkmem.f
-   `$ETLSRC`{.filename}/chkgrid.f
-   `$ETLSRC`{.filename}/chkint.f
-   `$ETLSRC`{.filename}/chkreal.f
-   `$ETLSRC`{.filename}/dscm3grd.f
-   `$ETLSRC`{.filename}/dscm3lay.f
-   `$ETLSRC`{.filename}/flterr.f
-   `$ETLSRC`{.filename}/fltrneg.f
-   `$ETLSRC`{.filename}/getcfdsc.f
-   `$ETLSRC`{.filename}/getfline.f
-   `$ETLSRC`{.filename}/getifdsc.f
-   `$ETLSRC`{.filename}/getm3epi.f
-   `$ETLSRC`{.filename}/getnlist.f
-   `$ETLSRC`{.filename}/hdrmiss3.f
-   `$ETLSRC`{.filename}/ioapi\_grd\_size.f
-   `$ETLSRC`{.filename}/m3mesg.F
-   `$ETLSRC`{.filename}/Makefile
-   `$ETLSRC`{.filename}/Makeit
-   `$ETLSRC`{.filename}/multunit.f
-   `$ETLSRC`{.filename}/nextime.f
-   `$ETLSRC`{.filename}/openphys.f
-   `$ETLSRC`{.filename}/padnzero.f
-   `$ETLSRC`{.filename}/padzero.f
-   `$ETLSRC`{.filename}/parsline.f
-   `$ETLSRC`{.filename}/polmesg.f
-   `$ETLSRC`{.filename}/rd3mask.f
-   `$ETLSRC`{.filename}/rdsetmask.f
-   `$ETLSRC`{.filename}/unitfac.f
-   `$ETLSRC`{.filename}/unitmatch.f
-   `$ETDSRC`{.filename}/modgrid.f
-   `$ETDSRC`{.filename}/modmake.inc
:::
:::

::: {.section lang="en"}
::: {.titlepage}
<div>

<div>

### []{#sect_source_programs}11.1.3. SMOKE programs {#smoke-programs .title}

</div>

</div>
:::

The source code needed for the SMOKE programs is in the
`$SMKROOT`{.filename}/src directory. [Table 11.1, "SMOKE programs and
source code
directories"](ch11.html#tbl_source_programs "Table 11.1. SMOKE programs and source code directories")
lists each SMOKE program and the corresponding source code directory and
environment variable you can use to access that directory.

::: {.table}
[]{#tbl_source_programs}

**Table 11.1. SMOKE programs and source code directories**

  SMOKE Program                                            Source Code Directory                Environment Variable
  -------------------------------------------------------- ------------------------------------ ----------------------
  [**Cntlmat**](ch06s02.html "6.2. Cntlmat")               `$SMKROOT`{.filename}/src/cntlmat    `CL_SRC`{.envar}
  [**Elevpoint**](ch06s03.html "6.3. Elevpoint")           `$SMKROOT`{.filename}/src/point      `PT_SRC`{.envar}
  [**Geofac**](ch05s03s06.html "5.3.6. Geofac")            `$SMKROOT`{.filename}/src/emutil     `UT_SRC`{.envar}
  [**Grdmat**](ch06s04.html "6.4. Grdmat")                 `$SMKROOT`{.filename}/src/grdmat     `GD_SRC`{.envar}
  [**Grwinven**](ch06s05.html "6.5. Grwinven")             `$SMKROOT`{.filename}/src/smkinven   `IV_SRC`{.envar}
  [**Invsplit**](ch05s03s08.html "5.3.8. Invsplit")        `$SMKROOT`{.filename}/src/emutil     `UT_SRC`{.envar}
  [**Laypoint**](ch06s06.html "6.6. Laypoint")             `$SMKROOT`{.filename}/src/point      `PT_SRC`{.envar}
  [**Metcombine**](ch05s03s10.html "5.3.10. Metcombine")   `$SMKROOT`{.filename}/src/emutil     `UT_SRC`{.envar}
  [**Metscan**](ch05s03s11.html "5.3.11. Metscan")         `$SMKROOT`{.filename}/src/emutil     `UT_SRC`{.envar}
  [**Met4moves**](ch06s07.html "6.7. Met4moves")           `$SMKROOT`{.filename}/src/movesmrg   `MV_SRC`{.envar}
  [**Movesmrg**](ch06s08.html "6.8. Movesmrg")             `$SMKROOT`{.filename}/src/movesmrg   `MV_SRC`{.envar}
  [**Mrggrid**](ch06s10.html "6.10. Mrggrid")              `$SMKROOT`{.filename}/src/smkmerge   `MG_SRC`{.envar}
  [**Normbeis3**](ch06s12.html "6.12. Normbeis3")          `$SMKROOT`{.filename}/src/biog       `BG_SRC`{.envar}
  [**Pktreduc**](ch05s03s12.html "5.3.12. Pktreduc")       `$SMKROOT`{.filename}/src/emutil     `UT_SRC`{.envar}
  [**Smk2emis**](ch05s03s13.html "5.3.13. Smk2emis")       `$SMKROOT`{.filename}/src/emutil     `UT_SRC`{.envar}
  [**Smkinven**](ch06s13.html "6.13. Smkinven")            `$SMKROOT`{.filename}/src/smkinven   `IV_SRC`{.envar}
  [**Smkmerge**](ch06s14.html "6.14. Smkmerge")            `$SMKROOT`{.filename}/src/smkmerge   `MG_SRC`{.envar}
  [**Smkreport**](ch07s02.html "7.2. Smkreport Program")   `$SMKROOT`{.filename}/src/emqa       `QA_SRC`{.envar}
  [**Spcmat**](ch06s15.html "6.15. Spcmat")                `$SMKROOT`{.filename}/src/spcmat     `SP_SRC`{.envar}
  [**Surgtool**](ch05s03s14.html "5.3.14. Surgtool")       `$SMKROOT`{.filename}/src/emutil     `UT_SRC`{.envar}
  [**Temporal**](ch06s16.html "6.16. Temporal")            `$SMKROOT`{.filename}/src/temporal   `TM_SRC`{.envar}
  [**Tmpbeis3**](ch06s17.html "6.17. Tmpbeis3")            `$SMKROOT`{.filename}/src/biog       `BG_SRC`{.envar}
  [**Uam2ncf**](ch05s03s15.html "5.3.15. Uam2ncf")         `$SMKROOT`{.filename}/src/emutil     `UT_SRC`{.envar}
:::

There are three additional directories in the `$SMKROOT`{.filename}/src
that we have not mentioned. They are:

::: {.itemizedlist}
-   `$SMKROOT`{.filename}/src/emmod (`MD_SRC`{.envar}): Contains modules
    for shared program variables

-   `$SMKROOT`{.filename}/src/inc (`INC`{.envar}): Contains include
    files (discussed in [Section 11.2, "Include
    Files"](ch11s02.html "11.2. Include Files"))

-   `$SMKROOT`{.filename}/src/lib (`EL_SRC`{.envar}): Contains source
    code for the main SMOKE library
:::
:::
:::
:::

::: {.navfooter}

------------------------------------------------------------------------

  ----------------------- -------------------- -----------------------
  [Prev](ch10s08.html)                            [Next](ch11s02.html)
  10.8. **Tmpbio**         [Home](index.html)      11.2. Include Files
  ----------------------- -------------------- -----------------------
:::
::: {.navheader}
11.2. Include Files
:::

[Prev](ch11.html) 

Chapter 11. Source Code and Include Files

 [Next](ch11s02s02.html)

------------------------------------------------------------------------

::: {.section lang="en"}
::: {.titlepage}
<div>

<div>

[]{#sect_source_include}11.2. Include Files {#include-files .title style="clear: both"}
-------------------------------------------

</div>

</div>
:::

::: {.toc}
[[11.2.1. I/O API](ch11s02.html#d0e58068)]{.section}

[[11.2.2. FileSetAPI](ch11s02s02.html)]{.section}

[[11.2.3. EDSS Tools](ch11s02s03.html)]{.section}

[[11.2.4. SMOKE](ch11s02s04.html)]{.section}
:::

In this section we list all the include files used to compile the
various libraries and SMOKE programs.

::: {.section lang="en"}
::: {.titlepage}
<div>

<div>

### []{#d0e58068}11.2.1. I/O API {#io-api .title}

</div>

</div>
:::

These include files are part of the I/O API library and are in the
`$SMK_SUBSYS`{.filename}/ioapi\_includes directory, accessible using the
environment variable `IOINC`{.envar}.

::: {.itemizedlist}
-   `$IOINC`{.filename}/ATDSC3.EXT
-   `$IOINC`{.filename}/CONST3.EXT
-   `$IOINC`{.filename}/FDESC3.EXT
-   `$IOINC`{.filename}/IODECL3.EXT
-   `$IOINC`{.filename}/NETCDF.EXT
-   `$IOINC`{.filename}/NOTICE.EXT
-   `$IOINC`{.filename}/PARMS3.EXT
-   `$IOINC`{.filename}/STATE3.EXT
:::
:::
:::

::: {.navfooter}

------------------------------------------------------------------------

  -------------------------------------------- -------------------- --------------------------
  [Prev](ch11.html)                              [Up](ch11.html)       [Next](ch11s02s02.html)
  Chapter 11. Source Code and Include Files     [Home](index.html)          11.2.2. FileSetAPI
  -------------------------------------------- -------------------- --------------------------
:::
::: {.navheader}
11.2.2. FileSetAPI
:::

[Prev](ch11s02.html) 

11.2. Include Files

 [Next](ch11s02s03.html)

------------------------------------------------------------------------

::: {.section lang="en"}
::: {.titlepage}
<div>

<div>

### []{#d0e58122}11.2.2. FileSetAPI {#filesetapi .title}

</div>

</div>
:::

::: {.itemizedlist}
-   `$FS_ROOT`{.filename}/SETDECL.EXT
:::
:::

::: {.navfooter}

------------------------------------------------------------------------

  ----------------------- -------------------- --------------------------
  [Prev](ch11s02.html)     [Up](ch11s02.html)     [Next](ch11s02s03.html)
  11.2. Include Files      [Home](index.html)          11.2.3. EDSS Tools
  ----------------------- -------------------- --------------------------
:::
::: {.navheader}
11.2.3. EDSS Tools
:::

[Prev](ch11s02s02.html) 

11.2. Include Files

 [Next](ch11s02s04.html)

------------------------------------------------------------------------

::: {.section lang="en"}
::: {.titlepage}
<div>

<div>

### []{#d0e58131}11.2.3. EDSS Tools {#edss-tools .title}

</div>

</div>
:::

::: {.itemizedlist}
-   `$ETINC`{.filename}/IOCNST3.EXT
-   `$ETINC`{.filename}/IOPRVT3.EXT
-   `$ETINC`{.filename}/IOSTRG3.EXT
:::
:::

::: {.navfooter}

------------------------------------------------------------------------

  -------------------------- -------------------- --------------------------
  [Prev](ch11s02s02.html)     [Up](ch11s02.html)     [Next](ch11s02s04.html)
  11.2.2. FileSetAPI          [Home](index.html)               11.2.4. SMOKE
  -------------------------- -------------------- --------------------------
:::
::: {.navheader}
11.2.4. SMOKE
:::

[Prev](ch11s02s03.html) 

11.2. Include Files

 [Next](ch12.html)

------------------------------------------------------------------------

::: {.section lang="en"}
::: {.titlepage}
<div>

<div>

### []{#d0e58150}11.2.4. SMOKE {#smoke .title}

</div>

</div>
:::

::: {.itemizedlist}
-   `$CL_SRC`{.filename}/CPKTDAT.EXT
-   `$INC`{.filename}/B3DIMS3.EXT
-   `$INC`{.filename}/B3V12DIMS3.EXT
-   `$INC`{.filename}/BIODIMS3.EXT
-   `$INC`{.filename}/EMCNST3.EXT
-   `$INC`{.filename}/EMPRVT3.EXT
-   `$INC`{.filename}/EMSTRG3.EXT
-   `$INC`{.filename}/FLTERR.EXT
-   `$INC`{.filename}/M6CNST3.EXT
:::
:::

::: {.navfooter}

------------------------------------------------------------------------

  -------------------------- -------------------- -----------------------------------------------------------
  [Prev](ch11s02s03.html)     [Up](ch11s02.html)                                            [Next](ch12.html)
  11.2.3. EDSS Tools          [Home](index.html)     Chapter 12. Downloading, Installing, and Compiling SMOKE
  -------------------------- -------------------- -----------------------------------------------------------
:::
