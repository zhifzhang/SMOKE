::: {.navheader}
12.4. Compiling SMOKE for UNIX
:::

[Prev](ch12s03.html) 

Chapter 12. Downloading, Installing, and Compiling SMOKE

 [Next](go01.html)

------------------------------------------------------------------------

::: {.section lang="en"}
::: {.titlepage}
<div>

<div>

[]{#sect_install_compile}12.4. Compiling SMOKE for UNIX {#compiling-smoke-for-unix .title style="clear: both"}
-------------------------------------------------------

</div>

</div>
:::

Unless you are planning to modify the SMOKE source codes, DO NOT try to
compile the codes; use the precompiled binary Linux executables provided
by the CMAS Center. Also, if the precompiled executables are not
compatible with your OS platform, you will need to compile SMOKE for
your system. The SMOKE compile scripts are configured to use a Linux
C-shell environment, and are not designed for Windows or Mac operating
systems. Using SMOKE on operating systems other than Linux is not
supported by CMAS. The following steps will help get you set up to
compile SMOKE.

::: {.itemizedlist}
-   Install SMOKE as described in [Section 12.3, "Installing
    SMOKE"](ch12s03.html "12.3. Installing SMOKE").

-   Download and compile the I/O API library from the [I/O API home
    page](https://www.cmascenter.org/ioapi/). The I/O API can be
    installed in `$SMK_HOME`{.filename}/subsys/ioapi

    \[1\] Create symbolic link to the IOAPI source code directory
    (ioapi) to the `$SMK_HOME`{.filename}/subsys/ioapi/ioapi/ directory.

    \[2\] Create symbolic link to the IOAPI `libioapi.a`{.filename}
    library file and utility programs
    (`datshift, jul2greg, greg2jul and so on`{.filename}) to the
    `$SMK_HOME`{.filename}/subsys/ioapi/Linux2\_x86\_64ifort/ directory.

-   After the appropriate libraries and compile options have been
    installed, you can source an Assigns file to ensure that your system
    is configured properly.

    **`cd $SMK_HOME`/subsys/smoke/assigns**

    **`source ASSIGNS.nctox.cmaq.cb05_soa.us12-nc`**

-   You should now be ready to compile the SMOKE programs. Change
    directories to `$SMKOOT`{.filename}/src/.

-   At the UNIX prompt, type:

    **`make`**

-   After running the `Makeall`{.filename} script, you should check the
    `$SMK_BIN`{.envar} directory to check the executables.

-   Once you have compiled the SMOKE programs, you can run the SMOKE
    example scripts following the instructions in [Section 4.3, "Running
    the SMOKE test
    case"](ch04s03.html "4.3. Running the SMOKE test case").
:::
:::

::: {.navfooter}

------------------------------------------------------------------------

  ------------------------- -------------------- -----------------------
  [Prev](ch12s03.html)        [Up](ch12.html)          [Next](go01.html)
  12.3. Installing SMOKE     [Home](index.html)     Appendix A. Glossary
  ------------------------- -------------------- -----------------------
:::
