::: {.navheader}
6.14.3. Files and Environment Variables
:::

[Prev](ch06s14s02.html) 

6.14. **Smkmerge**

 [Next](ch06s15.html)

------------------------------------------------------------------------

::: {.section lang="en"}
::: {.titlepage}
<div>

<div>

### []{#d0e29087}6.14.3. Files and Environment Variables {#files-and-environment-variables .title}

</div>

</div>
:::

::: {.toc}
[[6.14.3.1. Input Files](ch06s14s03.html#d0e29532)]{.section}

[[6.14.3.2. Input Environment
Variables](ch06s14s03.html#d0e29821)]{.section}

[[6.14.3.3. Output Files](ch06s14s03.html#d0e30490)]{.section}
:::

::: {.figure}
[]{#fig_programs_smkmerge_area}

**Figure 6.17. Smkmerge input and output files for area sources**

::: {.mediaobject}
![Smkmerge input and output files for area
sources](images\programs\smkmerge_area_html.jpg)
:::
:::

[Figure 6.17, "Smkmerge input and output files for area
sources"](ch06s14s03.html#fig_programs_smkmerge_area "Figure 6.17. Smkmerge input and output files for area sources")
shows the input and output files for the **Smkmerge** program for area
sources. The inputs include the optional multiplicative control matrix
from **Cntlmat** (`ACMAT`{.envar}), the gridding matrix from **Grdmat**
(`AGMAT`{.envar}), the inventory file output from **Smkinven**
(`AREA`{.envar}), the optional reactivity matrix from **Cntlmat**
(`ARMAT`{.envar}), and the optional speciation matrix from **Spcmat**
(`ASMAT`{.envar}). **Smkmerge** can also use hourly emissions from
**Temporal**, either a single file (`PTMP`{.envar}) or hourly emissions
for each day of the week (`ATMP_{day}`{.envar}). The last three input
files are the country, state, and county codes file (`COSTCY`{.envar}),
the inventory data table (`INVTABLE`{.envar}), and the grid description
file (`GRIDDESC`{.envar}).

**Smkmerge** outputs a data file that is determined by the inputs and
can be a model-ready emissions file (`AG[T][S][C]_L`{.envar} or
`AG[T][S][C]_S`{.envar}), a log file (`LOGFILE`{.envar}), and an
optional report file (`REPAG[T][S][C]_L`{.envar} or
`REPAG[T][S][C]_S`{.envar}).

When using source apportionment (see [Section 4.4.23, "Generating
CMAQ-ready Source Apportionment Input Data
Files"](ch04s04s23.html "4.4.23. Generating CMAQ-ready Source Apportionment Input Data Files")),
**Smkmerge** will also read the source grouping file
(`SOURCE_GROUPS`{.envar}) and output the source group information
`SRCGROUPS_OUT`{.envar}, the emissions for each source group
`SGINLNTS_L`{.envar} or `SGINLNTS_S`{.envar}, and a source group report
file `SRCGRP_REPORT`{.envar}.

::: {.figure}
[]{#fig_programs_smkmerge_biogenic}

**Figure 6.18. Smkmerge input and output files for biogenic sources**

::: {.mediaobject}
![Smkmerge input and output files for biogenic
sources](images\programs\smkmerge_biogenic_html.jpg)
:::
:::

[Figure 6.18, "Smkmerge input and output files for biogenic
sources"](ch06s14s03.html#fig_programs_smkmerge_biogenic "Figure 6.18. Smkmerge input and output files for biogenic sources")
shows the input and output files for the **Smkmerge** program for
biogenic sources. The inputs are the optional surrogates file
(`BGPRO`{.envar}), the model-ready emissions file (`BGTS`{.envar}), the
country, state, and county file (`COSTCY`{.envar}), the grid description
file (`GRIDDESC`{.envar}), and the inventory data table
(`INVTABLE`{.envar}).

**Smkmerge** outputs either a mole-based emissions file
(`BGTS_L_O`{.envar}) or a mass-based emissions file
(`BGTS_S_O`{.envar}). Note that \_O is appended to the output file name
to distinguish it from the input file. The program also writes a log
file (`LOGFILE`{.envar}) and an optional report file
(`REPBGTS_L`{.envar} or `REPBGTS_S`{.envar}).

When using source apportionment (see [Section 4.4.23, "Generating
CMAQ-ready Source Apportionment Input Data
Files"](ch04s04s23.html "4.4.23. Generating CMAQ-ready Source Apportionment Input Data Files")),
**Smkmerge** will also read the source grouping file
(`SOURCE_GROUPS`{.envar}) and output the source group information
`SRCGROUPS_OUT`{.envar}, the emissions for each source group
`SGINLNTS_L`{.envar} or `SGINLNTS_S`{.envar}, and a source group report
file `SRCGRP_REPORT`{.envar}.

::: {.figure}
[]{#fig_programs_smkmerge_mobile}

**Figure 6.19. Smkmerge input and output files for mobile sources**

::: {.mediaobject}
![Smkmerge input and output files for mobile
sources](images\programs\smkmerge_mobile_html.jpg)
:::
:::

[Figure 6.19, "Smkmerge input and output files for mobile
sources"](ch06s14s03.html#fig_programs_smkmerge_mobile "Figure 6.19. Smkmerge input and output files for mobile sources")
shows the input and output files for the **Smkmerge** program for mobile
sources. The inputs include the country, state and county codes file
(`COSTCY`{.envar}), the inventory data table (`INVTABLE`{.envar}), and
the grid description file (`GRIDDESC`{.envar}). **Smkmerge** also reads
the optional multiplicative control matrix from **Cntlmat**
(`MCMAT`{.envar}), the gridding matrix from **Grdmat**
(`MGMAT`{.envar}), the inventory file output from **Smkinven**
(`MOBL`{.envar}), the optional reactivity matrix from **Cntlmat**
(`MRMAT`{.envar}), and the optional speciation matrix from **Spcmat**
(`MSMAT_L`{.envar} or `MSMAT_S`{.envar}). Hourly emissions can be input
either as a single file (`MTMP`{.envar}) or as hourly emissions for each
day of the week (`MTMP_{day}`{.envar}).

**Smkmerge** outputs a log file (`LOGFILE`{.envar}), a data file that is
determined by the inputs and can be a model-ready emissions file
(`MG[T][S][C]_L`{.envar} or `MG[T][S][C]_S`{.envar}), and an optional
report file (`REPMG[T][S][C]_L`{.envar} or `REPMG[T][S][C]_S`{.envar}).

When using source apportionment (see [Section 4.4.23, "Generating
CMAQ-ready Source Apportionment Input Data
Files"](ch04s04s23.html "4.4.23. Generating CMAQ-ready Source Apportionment Input Data Files")),
**Smkmerge** will also read the source grouping file
(`SOURCE_GROUPS`{.envar}) and output the source group information
`SRCGROUPS_OUT`{.envar}, the emissions for each source group
`SGINLNTS_L`{.envar} or `SGINLNTS_S`{.envar}, and a source group report
file `SRCGRP_REPORT`{.envar}.

::: {.figure}
[]{#fig_programs_smkmerge_point}

**Figure 6.20. Smkmerge input and output files for point sources**

::: {.mediaobject}
![Smkmerge input and output files for point
sources](images\programs\smkmerge_point_html.jpg)
:::
:::

[Figure 6.20, "Smkmerge input and output files for point
sources"](ch06s14s03.html#fig_programs_smkmerge_point "Figure 6.20. Smkmerge input and output files for point sources")
shows the input and output files for the **Smkmerge** program for point
sources. The inputs include the country, state, and county codes file
(`COSTCY`{.envar}), the inventory data table (`INVTABLE`{.envar}), the
grid description file (`GRIDDESC`{.envar}), and the optional
multiplicative control matrix from **Cntlmat** (`PCMAT`{.envar}). If
using PinG or elevated sources, the `PELV`{.envar} file is used.
**Smkmerge** reads the gridding matrix output from **Grdmat**
(`PGMAT`{.envar}). The `PLAY`{.envar} file is used to merge layer
fractions, while the `PLAY_EX`{.envar} file is used for explicit plumes.
Other **Smkmerge** input files include the inventory file output from
**Smkinven** (`PNTS`{.envar}), the optional reactivity matrix from
**Cntlmat** (`PRMAT`{.envar}), and the optional speciation matrix from
**Spcmat** (`PSMAT`{.envar}). The hourly emissions from **Temporal** are
provided either as the `PTMP`{.envar} file or as hourly emissions for
each day of the week (`PTMP_{day}`{.envar}). Finally, **Smkmerge** can
read the optional elevated stack groups file (`STACK_GROUPS`{.envar}).

**Smkmerge** can output an elevated sources file
(`ELEV[T]S[_S|_L]`{.envar}) if requested. Like all other SMOKE programs,
**Smkmerge** outputs a log file (`LOGFILE`{.envar}) detailing the
program's execution. The main data file is determined by the inputs and
can be include a model-ready emissions file (`PG[T][S][C][3D]_L`{.envar}
or `PG[T][S][C][3D]_S`{.envar}). Other output files can be a PinG file
(`PING[T][S][C][_S][_L]`{.envar} and a report file
(`REPPG[T][S][C]_L`{.envar} or `REPPG[T][S][C]_S`{.envar}).

When using source apportionment (see [Section 4.4.23, "Generating
CMAQ-ready Source Apportionment Input Data
Files"](ch04s04s23.html "4.4.23. Generating CMAQ-ready Source Apportionment Input Data Files")),
**Smkmerge** will also read the source grouping file
(`SOURCE_GROUPS`{.envar}) and the stack groups file
(`STACK_GROUPS`{.envar}), and output the source group information
`SRCGROUPS_OUT`{.envar}, the emissions for each source group
`SGINLNTS_L`{.envar} or `SGINLNTS_S`{.envar}, and a source group report
file `SRCGRP_REPORT`{.envar}.

::: {.figure}
[]{#fig_programs_smkmerge_all}

**Figure 6.21. Smkmerge input and output files for all source
categories**

::: {.mediaobject}
![Smkmerge input and output files for all source
categories](images\programs\smkmerge_all_html.jpg)
:::
:::

[Figure 6.21, "Smkmerge input and output files for all source
categories"](ch06s14s03.html#fig_programs_smkmerge_all "Figure 6.21. Smkmerge input and output files for all source categories")
shows the input and output files for the **Smkmerge** program for all
sources. The input and output files are a combination of those found in
the previous four figures.

::: {.section lang="en"}
::: {.titlepage}
<div>

<div>

#### []{#d0e29532}6.14.3.1. Input Files {#input-files .title}

</div>

</div>
:::

The input files needed depend upon the input environment variables that
are set for this program. For example, if only area sources are being
merged, then only area-source-related inputs are required. Similarly, if
**Smkmerge** is being executed to produce speciated, gridded, temporally
allocated area and point sources, then all area- and point-related
inputs for area and point sources, speciation matrices, gridding
matrices, and temporal matrices are required.

::: {.informaltable}
  File Name                                                                                                     Format           Source Type   Description
  ------------------------------------------------------------------------------------------------------------- ---------------- ------------- ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
  `[A|M|P]CMAT`{.envar} (optional)                                                                              I/O API NetCDF   A, M, P       Multiplicative control matrix, output by **Cntlmat** (used when `MRG_CTLMAT_MULT`{.envar} is set)
  `[A|M|P]GMAT`{.envar}                                                                                         I/O API NetCDF   A, M, P       Gridding matrix from **Grdmat**
  `[A|M|P]RMAT`{.envar} (optional)                                                                              I/O API NetCDF   A, M, P       Mass- or mole-based reactivity matrix, output by **Cntlmat** (used when `MRG_CTLMAT_REAC`{.envar} is set)
  `[A|M|P]SMAT`{.envar} (optional)                                                                              I/O API NetCDF   A, M, P       Mass- or mole-based speciation matrix from **Spcmat** (used when `MRG_SPCMAT_YN`{.envar} = Y)
  `[A|M|P]TMP`{.envar} (optional)                                                                               I/O API NetCDF   A, M, P       Hourly emissions from **Temporal** (used when `MRG_TEMPORAL_YN`{.envar} = Y and `MRG_BYDAY`{.envar} is not set)
  `[A|M|P]TMP_{day}`{.envar} (optional)                                                                         I/O API NetCDF   A, M, P       Hourly emissions from **Temporal** by day, where {day} = MON, TUE, WED, THU, FRI, SAT, SUN (used when `MRG_TEMPORAL_YN`{.envar} = Y and `MRG_BYDAY`{.envar} is set)
  `[AREA|MOBL|PNTS]`{.envar}                                                                                    SMOKE map        A, M, P       Intermediate area-, mobile-, or point-source inventory created by **Smkinven**
  `BGPRO`{.envar} (optional)                                                                                    ASCII            B             Gridding surrogates for computing biogenic state and county totals from gridded biogenic inputs
  `BGTS`{.envar}                                                                                                I/O API NetCDF   B             Biogenic model-ready emissions, to be input only when merging with other source categories, or when computing biogenic state and county totals, produced by **Tmpbio** or **Tmpbeis3**
  `COSTCY`{.envar}                                                                                              ASCII            A, B, M, P    Country, state, and county file with time zones
  [`GEOCODE_LEVEL[1-4]`{.envar}](ch08s10s03.html "8.10.3. GEOCODE_LEVEL[1-4]: Geographical Input Files")        ASCII            A, B, M, P    Geographical level codes and descriptions for gridded inventories, only when USE\_EXP\_GEO\_CODES is set to Y, (COSTCY is ignored when [`GEOCODE_LEVEL[1-4]`{.envar}](ch08s10s03.html "8.10.3. GEOCODE_LEVEL[1-4]: Geographical Input Files") files are used)
  `INVTABLE`{.envar}                                                                                            ASCII            A, B, M, P    Inventory data table containing activity and pollutant names
  `GRIDDESC`{.envar}                                                                                            ASCII            A, B, M, P    Description of the modeling grid
  `PELV`{.envar} (optional)                                                                                     ASCII            P             Elevated point sources identification file, output by **Elevpoint**
  `PLAY`{.envar} (optional)                                                                                     I/O API NetCDF   P             Hourly plume rise layer fractions, output by **Laypoint** (used when `MRG_LAYERS_YN`{.envar} = Y and `EXPLICIT_PLUMES_YN`{.envar} = N)
  `PLAY_EX`{.envar} (optional)                                                                                  I/O API NetCDF   P             Hourly plume rise layer fractions for explicit sources, output by **Laypoint** (used when `MRG_LAYERS_YN`{.envar} = Y and `EXPLICIT_PLUMES_YN`{.envar} = Y)
  `STACK_GROUPS`{.envar} (optional)                                                                             I/O API NetCDF   P             Elevated sources stack parameters file, output by **Elevpoint**
  [`SOURCE_GROUPS`{.envar}](ch08s10s13.html "8.10.13. SOURCE_GROUPS: Source apportionment groups") (optional)   ASCII            A, B, M, P    Source apportionment groups
:::
:::

::: {.section lang="en"}
::: {.titlepage}
<div>

<div>

#### []{#d0e29821}6.14.3.2. Input Environment Variables {#input-environment-variables .title}

</div>

</div>
:::

NOTE: At least one of the `MRG_GRDOUT_YN`{.envar},
`MRG_REPSTA_YN`{.envar}, or `MRG_REPCNY_YN`{.envar} environment
variables must be set to Y.

::: {.itemizedlist}
-   `AREA_SURROGATE_NUM`{.envar}: \[default: 60\]

    Surrogate code of the area surrogate in the `BGPRO`{.envar} file, to
    use for totals of biogenic emissions by state and county.

-   `EXPLICIT_PLUMES_YN`{.envar}: \[default: N\]

    Indicates whether only explicit plume rise sources should be merged.

    ::: {.itemizedlist}
    -   Y: Merge only explicit plume rise sources; uses
        `PLAY_EX`{.envar} file

    -   N: Merge all plume rise sources; uses `PLAY`{.envar} file
    :::

-   `USE_EXP_GEO_CODES`{.envar}: \[default: N\]

    If set to Y, then use GEOCODE\_LEVEL\[1-4\] files instead of the
    COSTCY file to define expanded geographical detail such as
    country-level(GEOCODE\_LEVEL1), country/state-level
    (GEOCODE\_LEVEL2), country/state/county-level (GEOCODE\_LEVEL3) or
    country/state/county/tribal-level (GEOCODE\_LEVEL4).

-   `MRG_BYDAY`{.envar}: \[default: blank\]

    String code that specifies which source categories (if any) are to
    use a by-day approach for the hourly input files (see
    "[Description]{.quote}" section above for more information on this
    approach). Valid settings include A, M, P, or any combination. For
    example, set this environment variable to "[AMP]{.quote}" to have
    **Smkmerge** read the area-, mobile-, and point-source hourly
    emissions files individually for each day.

-   `MRG_CTLMAT_MULT`{.envar}: \[default: blank\]

    String code that specifies which source categories (if any) are to
    be processed using a multiplicative control matrix. Valid settings
    include A, M, P, or any combination. For example, set this
    environment variable to "[M]{.quote}" to have **Smkmerge** read the
    mobile-source multiplicative control matrix.

-   `MRG_CTLMAT_REAC`{.envar}: \[default: blank\]

    String code that specifies which source categories (if any) are to
    be processed using a reactivity control matrix. Valid settings
    include A, M, P, or any combination. For example, set this
    environment variable to "[MP]{.quote}" to have **Smkmerge** read the
    mobile- and point-source reactivity control matrices.

-   `MRG_GRDOUT_UNIT`{.envar}: \[default: input file units\]

    String code that permits the user to change the units of the gridded
    output file. For example, "[kg/hr]{.quote}" would convert the output
    emissions to kilograms per hour, before outputting the emissions
    data file. Not all conversions are known to SMOKE. Valid numerators
    are: "[tons]{.quote}", "[kg]{.quote}", "[moles]{.quote}", and
    "[g]{.quote}"; note that molar emissions cannot be output without
    the mole-based speciation matrices. Valid denominators are
    "[yr]{.quote}", "[dy]{.quote}", "[hr]{.quote}", and "[s]{.quote}".
    Note that if annual output is requested but not available in the
    input file, leap year adjustments are not made.

    Units required by CMAQ are moles/s and most other air quality models
    are moles/hr.

-   `MRG_GRDOUT_YN`{.envar}: \[default: N\]

    Defines whether the program produces a gridded output file.

    ::: {.itemizedlist}
    -   Y: Produce the file

    -   N: Do not produce the file
    :::

-   `MRG_LAYERS_YN`{.envar}: \[default: N\]

    Defines whether the program uses the layer fractions file.

    ::: {.itemizedlist}
    -   Y: Use the layer fractions file

    -   N: Do not use the layer fractions file
    :::

-   `MRG_MARKETPEN_YN`{.envar}: \[default: Y\]

    Defines whether the program uses market penetration from reactivity
    matrices.

    ::: {.itemizedlist}
    -   Y: Use market penetration

    -   N: Do not use market penetration
    :::

-   `MRG_METCHK_YN`{.envar}: \[default: Y\]

    Defines whether the program checks consistency of headers in the
    meteorology file.

    ::: {.itemizedlist}
    -   Y: Check contents of meteorology file headers

    -   N: Do not check headers
    :::

-   `MRG_REPCNY_YN`{.envar}: \[default: N\]

    Defines whether the program produces a report of emission totals by
    county.

    ::: {.itemizedlist}
    -   Y: Produce county-total emissions report

    -   N: Do not produce the report
    :::

-   `MRG_REPCTL_YN`{.envar}: \[default: N\]

    Defines whether the program reports controlled emissions or not.

    ::: {.itemizedlist}
    -   Y: Report controlled emissions

    -   N: Do not report controlled emissions
    :::

-   `MRG_REPSTA_YN`{.envar}: \[default: N\] Defines whether the program
    produces a report of emission totals by state.

    ::: {.itemizedlist}
    -   Y: Produce state-total emissions report

    -   N: Do not produce the report
    :::

-   `MRG_SOURCE`{.envar}: \[default: blank (processing halts)\]

    Series of character codes representing the type(s) of sources to be
    merged.

    ::: {.itemizedlist}
    -   A: Area sources

    -   B: Biogenic sources

    -   M: Mobile sources

    -   P: Point sources

    -   AP: Area and point sources

    -   AM: Area and mobile sources

    -   etc.
    :::

-   `MRG_SPCMAT_YN`{.envar}: \[default: N\]

    Defines whether the program produces speciated output.

    ::: {.itemizedlist}
    -   Y: Read the speciation matrix produced by the **Spcmat** program

    -   N: Do not read the speciation matrix
    :::

-   `MRG_TEMPORAL_YN`{.envar}: \[default: N\]

    Defines whether the program produces temporally allocated output.

    ::: {.itemizedlist}
    -   Y: Read the temporal matrix produced by the **Temporal** program

    -   N: Do not read the temporal matrix
    :::

-   `MRG_TOTOUT_UNIT`{.envar}: \[default: input file units, or per day
    if hourly input is used\]

    This variable is like the `MRG_GRDOUT_UNIT`{.envar} variable, except
    that it controls the state and county totals reports separately from
    the gridded outputs. The only difference is the temporal resolution
    of `MRG_TOTOUT_UNIT`{.envar}, which always outputs the emission
    values as daily totals, no matter what units are used.

-   `SMK_ASCIIELEV_YN`{.envar}: \[default: N\]

    Defines whether the program produces an ASCII elevated point sources
    file, suitable for postprocessing with the Ptsrce program in
    EPS2.0/EPS2.5.

    ::: {.itemizedlist}
    -   Y: Create the ASCII elevated point sources file

    -   N: Do not create the ASCII elevated point sources file
    :::

-   `SMK_AVEDAY_YN`{.envar}: See description in [Section 6.2.3.2, "Input
    Environment
    Variables"](ch06s02s03.html#sect_programs_cntlmat_envar "6.2.3.2. Input Environment Variables")

    NOTE: This setting affects the **Smkmerge** results only when hourly
    emissions are not merged. To use hourly average-day emissions in
    **Smkmerge**, this variable must be set to Y for the **Temporal**
    program, so that average-day emissions will be used in creating the
    hourly emissions.

-   `SMK_EMLAYS`{.envar}: See description in [Section 6.6.3.2, "Input
    Environment
    Variables"](ch06s06s03.html#sect_programs_laypoint_envar "6.6.3.2. Input Environment Variables")

    Used to set the default value for `UAM_LAYERS`{.envar} when the
    **Smkmerge** output is to be used in UAM-V elevated-point-source
    output processing.

-   `SMK_PING_METHOD`{.envar}: See description in [Section 6.3.3.2,
    "Input Environment
    Variables"](ch06s03s03.html#sect_programs_elevpoint_envar "6.3.3.2. Input Environment Variables")

    Creates CMAQ PinG file or flags PinG sources in UAM-style elevated
    ASCII file (when the `SMK_ASCIIELEV_YN`{.envar} environment variable
    is set to Y).

-   `SMK_REPORT_TIME`{.envar}: \[default: 230000\]

    Time for writing daily reports from program (HHMMSS).

-   `SMK_SRCGROUP_OUTPUT_YN`{.envar}: \[default: N\]

    Indicates if source apportionment emissions should be output

    ::: {.itemizedlist}
    -   Y: Group sources and output source apportionment files

    -   N: Do not perform any source apportionment processing
    :::

-   `SMKMERGE_CUSTOM_OUTPUT`{.envar}: \[default: N\]

    Defines his/her own output file names from **Smkmerge**. Manually
    define environment variables for those output file names below:

    ::: {.itemizedlist}
    -   `[E|A|M|P]OUT`{.envar} : Processing source output file

    -   `ELEV`{.envar} : Elevated-point-sources file, produced if
        `SMK_ASCIIELEV_YN`{.envar} is set to Y; if PinG sources have
        also been selected, then the stack diameters listed in this file
        will be set to the negative value of their actual value.

    -   `PING`{.envar} : CMAQ PinG file, produced if
        `SMK_PING_METHOD`{.envar} is set to 1

    -   `INLN`{.envar} : CMAQ 2-D surface layer emissions file, produced
        if `SMK_ELEV_METHOD`{.envar} is set to 2. For in-line processing
        plume rise processing, `MRG_LAYERS_YN`{.envar} must set to N to
        create hourly speciated 2-D surface layer emissions file for
        CMAQ version 4.7 or later.

    -   `REP[E|A|M|P]G`{.envar} : Emission total report file, produced
        if either `MRG_REPSTA_YN`{.envar} or `MRG_REPCNY_YN`{.envar} is
        set to Y
    :::
:::

The rest of the variables in this list are relevant only when the
`SMK_ASCIIELEV_YN`{.envar} environment variable is set to Y. The
UAM-style elevated-point-source file referenced in the following
descriptions is produced by **Smkmerge** and used as input to the UAM
preprocessor Ptsrce.

::: {.itemizedlist}
-   `UAM_LAYERS`{.envar}: \[default: set by value of
    `SMK_EMLAYS`{.envar}\]

    Number of layers to output to the elevated-point-source file.

-   `UAM_NOTE`{.envar}: \[default: "[UAM elev pt emis from
    Smkmerge]{.quote}"\]

    Message to appear as a note in the elevated-point-source file.

-   `UAM_NPARAM`{.envar}: \[default: 20\]

    Number of parameters for control packet to appear in the
    elevated-point-source file.

-   `UAM_PRINT_LOCATIONS`{.envar}: \[default: 0\]

    Flag printed in the elevated-point-source file to control whether
    Ptsrce will print the locations table. 0=No; 1=Yes.

-   `UAM_PRINT_METHODS`{.envar}: \[default: 0\]

    Flag printed in the elevated-point-source file to control whether
    Ptsrce will print the methods table. 0=No; 1=Yes.

-   `UAM_PRINT_OUTGRD`{.envar}: \[default: 0\]

    Flag printed in the elevated-point-source file to control whether
    Ptsrce will print the output grid. 0=No; 1=Yes.

-   `UAM_PRINT_UNITS`{.envar}: \[default: 0\]

    Flag printed in the elevated-point-source file to control whether
    Ptsrce will print the units table. 0=No; 1=Yes.

-   `UAM_PRINT_VALUES`{.envar}: \[default: 0\]

    Flag printed in the elevated-point-source file to control whether
    Ptsrce will print the values table. 0=No; 1=Yes.

-   `UAM_PRINT_VERTMETH`{.envar}: \[default: 0\]

    Flag printed in the elevated-point-source file to control whether
    Ptsrce will print the vertical methods table. 0=No; 1=Yes.

-   `UAM_PTSRCE_OUTUNIT`{.envar}: \[default: 20\]

    Ptsrce output file unit number in the elevated-point-source file.

-   `UAM_VERTICAL_METHOD`{.envar}: \[default: STACKHGT\]

    Vertical method in the elevated-point-source file. Appropriate
    values are STACKHGT and PLUMERISE.

-   `UAM4_DIFFBREAK_UNIT`{.envar}: \[default: 0\]

    DIFFBREAK file unit number in the elevated-point-source file.

-   `UAM4_HTLOWR`{.envar}: \[default: 20\]

    Minimum height (in meters) of cells between the surface and the
    "[diffbreak]{.quote}" in the elevated-point-source file.

-   `UAM4_HTSFC`{.envar}: \[default: 0\]

    Height of the surface layer (in meters) in the elevated-point-source
    file.

-   `UAM4_HTUPPR`{.envar}: \[default: 100\]

    Minimum height (in meters) of cells between the
    "[diffbreak]{.quote}" and the top of the model in the
    elevated-point-source file.

-   `UAM4_LAYABOVE`{.envar}: \[default: `UAM_LAYERS`{.envar} -
    `UAM4_LAYBELOW`{.envar}\]

    Number of layers above the "[diffbreak]{.quote}" in the
    elevated-point-source file.

-   `UAM4_LAYBELOW`{.envar}: \[default: 3\]

    Number of layers below the "[diffbreak]{.quote}" in the
    elevated-point-source file.

-   `UAM4_METSCALARS_UNIT`{.envar}: \[default: 15\]

    METSCALARS file unit number in the elevated-point-source file. Used
    only for `UAM_VERTICAL_METHOD`{.envar} set to "[PLUMERISE]{.quote}".

-   `UAM4_REGIONTOP_UNIT`{.envar}: \[default: 0\]

    REGIONTOP file unit number in the elevated-point-source file.

-   `UAM4_TEMPERATUR_UNIT`{.envar}: \[default: 14\]

    TEMPERATUR file unit number in the elevated-point-source file. Used
    only for `UAM_VERTICAL_METHOD`{.envar} set to "[PLUMERISE]{.quote}".

-   `UAM4_WIND_UNIT`{.envar}: \[default: 16\]

    WIND file unit number in the elevated-point-source file. Used only
    for `UAM_VERTICAL_METHOD`{.envar} set to "[PLUMERISE]{.quote}".
:::
:::

::: {.section lang="en"}
::: {.titlepage}
<div>

<div>

#### []{#d0e30490}6.14.3.3. Output Files {#output-files .title}

</div>

</div>
:::

The output files produced by **Smkmerge** are determined by the values
of the input environment variables.

::: {.informaltable}
+-------------------------+----------------+-------------------------+
| File Name               | Format         | Description             |
+=========================+================+=========================+
| `[A|B|M|P|E]G[T][S][C][ | I/O API NetCDF | Merged emission file,   |
| 3D][_S|_L][_O]`{.envar} |                | produced when           |
|                         |                | `MRG_GRDOUT_YN`{.envar} |
|                         |                | is set to Y; actual     |
|                         |                | file name is determined |
|                         |                | by the environment      |
|                         |                | variables used to       |
|                         |                | configure **Smkmerge**, |
|                         |                | as follows:             |
|                         |                |                         |
|                         |                | ::: {.itemizedlist}     |
|                         |                | -   \[area\|biogenic\   |
|                         |                | |mobile\|point\|every\] |
|                         |                |                         |
|                         |                |  (`MRG_SOURCE`{.envar}) |
|                         |                | -   T = temporally      |
|                         |                |     allocated           |
|                         |                |     (`MR                |
|                         |                | G_TEMPORAL_YN`{.envar}) |
|                         |                | -   S = speciated       |
|                         |                |     (`                  |
|                         |                | MRG_SPCMAT_YN`{.envar}) |
|                         |                | -   C = controlled      |
|                         |                |     (`M                 |
|                         |                | RG_CTLMAT_MULT`{.envar} |
|                         |                |     or                  |
|                         |                |     `MR                 |
|                         |                | G_CTLMAT_REAC`{.envar}) |
|                         |                | -   3D = layered        |
|                         |                |     (`                  |
|                         |                | MRG_LAYERS_YN`{.envar}) |
|                         |                | -   \_S = mass-based    |
|                         |                |     speciation          |
|                         |                |                         |
|                         |                |   (`SPC_INPUT`{.envar}) |
|                         |                | -   \_L = mole-based    |
|                         |                |     speciation          |
|                         |                |                         |
|                         |                |   (`SPC_INPUT`{.envar}) |
|                         |                | -   \_O = used when     |
|                         |                |     only merging        |
|                         |                |     biogenic sources    |
|                         |                |                         |
|                         |                |   (`MRG_SOURCE`{.envar} |
|                         |                |     = B)                |
|                         |                | :::                     |
+-------------------------+----------------+-------------------------+
| `ELEV                   | ASCII          | Elevated-point-sources  |
| [T]S[C][_S|_L]`{.envar} |                | file, produced if       |
|                         |                | `SM                     |
|                         |                | K_ASCIIELEV_YN`{.envar} |
|                         |                | is set to Y; if PinG    |
|                         |                | sources have also been  |
|                         |                | selected, then the      |
|                         |                | stack diameters listed  |
|                         |                | in this file will be    |
|                         |                | set to the negative     |
|                         |                | value of their actual   |
|                         |                | value                   |
+-------------------------+----------------+-------------------------+
| `LOGFILE`{.envar}       | ASCII          | Log generated from      |
|                         |                | executing **Smkmerge**  |
+-------------------------+----------------+-------------------------+
| `PING[T                 | I/O API NetCDF | CMAQ PinG file,         |
| ][S][C][_S|_L]`{.envar} |                | produced if             |
|                         |                | `S                      |
|                         |                | MK_PING_METHOD`{.envar} |
|                         |                | is set to 1             |
+-------------------------+----------------+-------------------------+
| `REP[A|B|M|P|E]G[T      | ASCII          | Emission totals report  |
| ][S][C][_S|_L]`{.envar} |                | file, produced if       |
|                         |                | either                  |
|                         |                | `MRG_REPSTA_YN`{.envar} |
|                         |                | or                      |
|                         |                | `MRG_REPCNY_YN`{.envar} |
|                         |                | is set to Y             |
+-------------------------+----------------+-------------------------+
| `S                      | I/O API NetCDF | Emissions by source     |
| GINLNTS[_S|_L]`{.envar} |                | group, formatted as     |
|                         |                | CMAQ in-line emissions  |
|                         |                | data, produced if       |
|                         |                | `SMK_SRCG               |
|                         |                | ROUP_OUTPUT_YN`{.envar} |
|                         |                | is set to Y             |
+-------------------------+----------------+-------------------------+
| `SRCGROUPS_OUT`{.envar} | I/O API NetCDF | Source group            |
|                         |                | information, produced   |
|                         |                | if                      |
|                         |                | `SMK_SRCG               |
|                         |                | ROUP_OUTPUT_YN`{.envar} |
|                         |                | is set to Y             |
+-------------------------+----------------+-------------------------+
| `SRCGRP_REPORT`{.envar} | ASCII          | Source group report     |
|                         |                | file, produced if       |
|                         |                | `SMK_SRCG               |
|                         |                | ROUP_OUTPUT_YN`{.envar} |
|                         |                | is set to Y             |
+-------------------------+----------------+-------------------------+
:::
:::
:::

::: {.navfooter}

------------------------------------------------------------------------

  --------------------------- -------------------- -----------------------
  [Prev](ch06s14s02.html)      [Up](ch06s14.html)     [Next](ch06s15.html)
  6.14.2. Processing Order     [Home](index.html)         6.15. **Spcmat**
  --------------------------- -------------------- -----------------------
:::
