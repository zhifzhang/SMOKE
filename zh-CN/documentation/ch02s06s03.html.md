::: {.navheader}
2.6.3. Modeling episodes
:::

[Prev](ch02s06s02.html) 

2.6. Modeling parameters

 [Next](ch02s06s04.html)

------------------------------------------------------------------------

::: {.section lang="en"}
::: {.titlepage}
<div>

<div>

### []{#sect_concepts_modeling_episodes}2.6.3. Modeling episodes {#modeling-episodes .title}

</div>

</div>
:::

The modeling episode is the total time period for which you will run
SMOKE and your AQM. Unless the episode is just a few days long, users
typically set up SMOKE to create emissions files of a shorter duration
than their modeling episode, often creating one-day files for each day
of their episode. Though SMOKE can create a single file for an entire
episode, the file often becomes too large for some computers to handle
(the limit for 32-bit operating systems is 2 GB files), so necessity
rather than preference dictates that smaller files (usually one-day
files) be created by SMOKE. We use the term "[run period]{.quote}" to
distinguish between these shorter durations and the full modeling
episode; unless otherwise noted, we will assume that the run period is
one day. For example, a typical SMOKE episode might cover July 1, 1996
through July 31, 1996. There will be 31 run periods (days) within this
episode, the first starting on July 1, 1996 and the last starting on
July 31, 1996.

In the SMOKE Assigns file, there are several settings that you need to
change to cause SMOKE to create emissions for the episode of interest.
[Section 4.4, "How to use SMOKE"](ch04s04.html "4.4. How to use SMOKE")
provides more guidance on the particular form and approaches needed for
using these settings.

::: {.itemizedlist}
-   The episode start date (`EPI_STDATE`{.envar}), episode start time
    (`EPI_STTIME`{.envar}), episode duration in hours
    (`EPI_RUNLEN`{.envar}), and the episode number of days
    (`EPI_NDAY`{.envar}) all must be set to cover the modeling episode.
    Note that SMOKE can only be run for periods contained within a
    single calendar year. It cannot, for example, start in December of
    1996 and run through January of 1997. Two separate episodes would
    need to be set up in this case, with the first ending on December
    31, 1996, and the second starting on January 1, 1997.

-   The start date of the first run period needs to be set using the
    `G_STDATE`{.envar} and `ESDATE`{.envar} settings. The
    `G_STDATE`{.envar} is the year and Julian day setting used by the
    SMOKE programs; in our example above, `G_STDATE`{.envar} would be
    set to 1996183, since July 1 is the 183rd day of 1996. The
    `ESDATE`{.envar} is the Gregorian date used in naming the SMOKE
    intermediate and output files; for our example, `ESDATE`{.envar}
    would be 19960701. The SMOKE scripts will use the `EPI_NDAY`{.envar}
    setting to automatically loop through the number of run periods in
    the episode, starting with the first `G_STDATE`{.envar} value in the
    Assigns file. The `G_STDATE`{.envar} and `ESDATE`{.envar} settings
    are changed for each run period.

-   The run period start time (`G_STTIME`{.envar}) and duration
    (`G_RUNLEN`{.envar}) must also be set to indicate the start time and
    length of each run period. Both values are provided as a number of
    hours, using a HHMMSS (hours, minutes, seconds) format.

    The run period duration (`G_RUNLEN`{.envar}) is usually not the same
    as the episode duration (`EPI_RUNLEN`{.envar}). For example, if the
    episode length is 30 days (720 hours), the run period duration
    setting could be just 1 day (25 hours), 2 days (49 hours), or three
    days (73 hours) (the reason for the extra hour in each case is
    explained below). In the first case, SMOKE would create thirty
    25-hourfiles; in the second case, fifteen 49-hour files; and in the
    third case, SMOKE would create ten 73-hour files.

-   The `NDAYS`{.envar}, `MSDATE`{.envar}, and `MDAYS`{.envar} settings
    are used for naming files. The `NDAYS`{.envar} setting should be set
    to the number of days in each run period, and is used by default for
    naming time-based files. The `NDAYS`{.envar} setting is also used
    along with the `EPI_NDAY`{.envar} setting to loop through the run
    periods in the episode. The `MSDATE`{.envar} and `MDAYS`{.envar}
    settings can be used for naming the meteorology input files, but are
    not being used by the default Assigns file provided with SMOKE.
:::

There are a few key things to remember when you are verifying that you
have the correct episode settings:

::: {.itemizedlist}
-   SMOKE cannot process emissions over a calendar-year break. Thus, the
    longest run that can be done is for 365 days, with the episode start
    date being January 1. If a modeling episode spans multiple years,
    then a different Assigns file, script, and sets of input files must
    be created for each year.

-   The AQMs supported by SMOKE always need one extra hour in each
    emissions input file due to how they calculate boundary conditions.
    Therefore, if you are inputting emissions to run a 24-hour period,
    the `G_RUNLEN`{.envar} setting should be 250000 for 25 hours.

-   The CMAQ and CAM~X~ models can accept emissions files for multiple
    days, but the UAM must have 25-hour files only. As stated earlier,
    however, all of these models are often run using 25-hour files, with
    one file for each day of the episode.

-   All times are associated with a time zone, including the episode and
    run period start time settings. These settings must be consistent
    with the time zone of the meteorology files. If the meteorology data
    were created using MM5, the time zone is most likely Greenwich Mean
    Time (GMT); therefore, the `EPI_STDATE`{.envar},
    `EPI_STTIME`{.envar}, `G_STDATE`{.envar}, and `G_STTIME`{.envar}
    settings would have to be provided in that same time zone. Whatever
    time zone is inherent in the meteorology files and these date
    settings will also be the time zone of the dates and times in the
    output emissions files from SMOKE. This ensures that the dates and
    times of the emissions and meteorology files are consistent for
    input to the AQM.
:::
:::

::: {.navfooter}

------------------------------------------------------------------------

  ----------------------------------------- -------------------- -----------------------------
  [Prev](ch02s06s02.html)                    [Up](ch02s06.html)        [Next](ch02s06s04.html)
  2.6.2. Base year and past/future years     [Home](index.html)     2.6.4. Chemical mechanisms
  ----------------------------------------- -------------------- -----------------------------
:::
