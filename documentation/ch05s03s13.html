<html>
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   
      <title>5.3.13.&nbsp;Smk2emis</title>
      <link rel="stylesheet" href="manual.css" type="text/css">
      <meta name="generator" content="DocBook XSL Stylesheets V1.67.2">
      <link rel="start" href="index.html" title="SMOKE v4.7 User&#8217;s Manual">
      <link rel="up" href="ch05s03.html" title="5.3.&nbsp; SMOKE Utility Programs">
      <link rel="prev" href="ch05s03s12.html" title="5.3.12.&nbsp;Pktreduc">
      <link rel="next" href="ch05s03s14.html" title="5.3.14.&nbsp;Surgtool">
   </head>
   <body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
      <div class="navheader">
         <table width="100%" summary="Navigation header">
            <tr>
               <th colspan="3" align="center">5.3.13.&nbsp;<span><strong class="command">Smk2emis</strong></span></th>
            </tr>
            <tr>
               <td width="20%" align="left"><a accesskey="p" href="ch05s03s12.html">Prev</a>&nbsp;
               </td>
               <th width="60%" align="center">5.3.&nbsp; SMOKE Utility Programs</th>
               <td width="20%" align="right">&nbsp;<a accesskey="n" href="ch05s03s14.html">Next</a></td>
            </tr>
         </table>
         <hr>
      </div>
      <div class="section" lang="en">
         <div class="titlepage">
            <div>
               <div>
                  <h3 class="title"><a name="sect_utilities_smk2emis"></a>5.3.13.&nbsp;<span><strong class="command">Smk2emis</strong></span></h3>
               </div>
            </div>
         </div>
         <div class="toc">
            <dl>
               <dt><span class="section"><a href="ch05s03s13.html#d0e20929">5.3.13.1. Description</a></span></dt>
               <dt><span class="section"><a href="ch05s03s13.html#d0e20946">5.3.13.2. Processing Order</a></span></dt>
               <dt><span class="section"><a href="ch05s03s13.html#d0e20974">5.3.13.3. Files and Environment Variables</a></span></dt>
            </dl>
         </div>
         <div class="section" lang="en">
            <div class="titlepage">
               <div>
                  <div>
                     <h4 class="title"><a name="d0e20929"></a>5.3.13.1.&nbsp;Description
                     </h4>
                  </div>
               </div>
            </div>
            <p>The <span><strong class="command">Smk2emis</strong></span> program converts SMOKE I/O API gridded, mole-speciated, hourly emissions into the Fortran-binary format used for 2-D emissions
               by UAM and CAM<sub>X</sub>. Files of this format use the UAM keyword &#8220;<span class="quote">EMISSIONS</span>&#8221;. The SMOKE user is responsible for preparing the I/O API inputs with the appropriate chemical species, grid structures,
               time steps, and units for use in whatever model will be using the results of <span><strong class="command">Smk2emis</strong></span>.
            </p>
         </div>
         <div class="section" lang="en">
            <div class="titlepage">
               <div>
                  <div>
                     <h4 class="title"><a name="d0e20946"></a>5.3.13.2.&nbsp;Processing Order
                     </h4>
                  </div>
               </div>
            </div>
            <p><span><strong class="command">Smk2emis</strong></span> inputs the I/O API gridded, speciated, hourly emissions files output from <span><strong class="command">Smkmerge</strong></span> (<code class="envar">AGTS_L</code>, <code class="envar">MGTS_L</code>, <code class="envar">PGTS_L</code>, or <code class="envar">EGTS_L</code>) or output from <span><strong class="command">Tmpbeis3</strong></span> (<code class="envar">BGTS_L</code>). 
            </p>
         </div>
         <div class="section" lang="en">
            <div class="titlepage">
               <div>
                  <div>
                     <h4 class="title"><a name="d0e20974"></a>5.3.13.3.&nbsp;Files and Environment Variables
                     </h4>
                  </div>
               </div>
            </div>
            <div class="toc">
               <dl>
                  <dt><span class="section"><a href="ch05s03s13.html#d0e20977">5.3.13.3.1. Input Files</a></span></dt>
                  <dt><span class="section"><a href="ch05s03s13.html#d0e21013">5.3.13.3.2. Input Environment Variables</a></span></dt>
                  <dt><span class="section"><a href="ch05s03s13.html#d0e21224">5.3.13.3.3. Other Inputs</a></span></dt>
                  <dt><span class="section"><a href="ch05s03s13.html#d0e21245">5.3.13.3.4. Output Files</a></span></dt>
               </dl>
            </div>
            <div class="section" lang="en">
               <div class="titlepage">
                  <div>
                     <div>
                        <h5 class="title"><a name="d0e20977"></a>5.3.13.3.1.&nbsp;Input Files
                        </h5>
                     </div>
                  </div>
               </div>
               <div class="informaltable">
                  <table border="1">
                     <colgroup>
                        <col>
                        <col>
                        <col>
                     </colgroup>
                     <thead>
                        <tr>
                           <th>File Name</th>
                           <th>Format</th>
                           <th>Description</th>
                        </tr>
                     </thead>
                     <tbody>
                        <tr>
                           <td><code class="envar">[A|B|M|P|E]GTS_L</code></td>
                           <td>I/O API NetCDF</td>
                           <td>SMOKE 2-D gridded, mole-speciated, hourly emissions file.</td>
                        </tr>
                        <tr>
                           <td><code class="envar">VNAMMAP</code></td>
                           <td>ASCII</td>
                           <td>Optional file for renaming variables from those in the I/O API file header to those needed by the AQM. See the <code class="envar">SMK2EMIS_VMAP_YN</code> environment variable below.
                           </td>
                        </tr>
                     </tbody>
                  </table>
               </div>
            </div>
            <div class="section" lang="en">
               <div class="titlepage">
                  <div>
                     <div>
                        <h5 class="title"><a name="d0e21013"></a>5.3.13.3.2.&nbsp;Input Environment Variables
                        </h5>
                     </div>
                  </div>
               </div>
               <div class="itemizedlist">
                  <ul type="disc">
                     <li>
                        <p><code class="envar">FLABEL</code>: [default: EMISSIONS (currently the only working option)]
                        </p>
                        <p>Defines what type of UAM/CAM<sub>X</sub> file to output. This setting cannot be adjusted by the user, because the current version of <span><strong class="command">Smk2emis</strong></span> can generate only the &#8220;<span class="quote">EMISSIONS</span>&#8221; file.
                        </p>
                     </li>
                     <li>
                        <p><code class="envar">SMK2EMIS_VMAP_YN</code>: [default: N]
                        </p>
                        <p>Controls whether the name remapping file will be read in, to cause <span><strong class="command">Smk2emis</strong></span> to output different variable names than are in the input file. This is needed for using UAM-AERO, which requires symbols
                           in the variable names (such as &#8220;<span class="quote">.</span>&#8221;, &#8220;<span class="quote">+</span>&#8221;, and &#8220;<span class="quote">-</span>&#8221;) that are not permitted in I/O API file variable names.
                        </p>
                        <div class="itemizedlist">
                           <ul type="circle">
                              <li>
                                 <p>Y: Use the <code class="envar">VNAMMAP</code> file
                                 </p>
                              </li>
                              <li>
                                 <p>N: Do not use the <code class="envar">VNAMMAP</code> file
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </li>
                     <li>
                        <p><code class="envar">SMK_SOURCE</code>: [default: none]
                        </p>
                        <p>Defines the type of sources to be processed. Valid values are:</p>
                        <div class="itemizedlist">
                           <ul type="circle">
                              <li>
                                 <p>A: Area sources</p>
                              </li>
                              <li>
                                 <p>B: Biogenic sources</p>
                              </li>
                              <li>
                                 <p>M: On-road mobile sources</p>
                              </li>
                              <li>
                                 <p>P: Point sources</p>
                              </li>
                              <li>
                                 <p>E: All emissions sources (determined by how <span><strong class="command">Smkmerge</strong></span> was run)
                                 </p>
                              </li>
                           </ul>
                        </div>
                        <p>In <span><strong class="command">Smk2emis</strong></span>, this variable controls the name of the input NetCDF logical file and the name of the output binary logical file. Unlike
                           in most other SMOKE programs, for this program <code class="envar">SMK_SOURCE</code> can be set to &#8220;<span class="quote">E</span>&#8221; to indicate that the &#8220;<span class="quote">every</span>&#8221; source category merged file (<code class="envar">EGTS_L</code>) should be converted from I/O API to Fortran-binary format.
                        </p>
                     </li>
                     <li>
                        <p><code class="envar">UTM_ZONE</code>: [default: -9]
                        </p>
                        <p>Defines UTM zone for the header of the UAM EMISSIONS file.</p>
                        <div class="itemizedlist">
                           <ul type="circle">
                              <li>
                                 <p>-9: Latitude-longitude projection</p>
                              </li>
                           </ul>
                        </div>
                     </li>
                     <li>
                        <p><code class="envar">UAM_LAYERS</code>: [default: NLAYS3D]
                        </p>
                        <p>Defines number of layers in output file</p>
                        <div class="itemizedlist">
                           <ul type="circle">
                              <li>
                                 <p>NLAYS3D: Value from SMOKE netCDF input file</p>
                              </li>
                           </ul>
                        </div>
                     </li>
                     <li>
                        <p><code class="envar">UAM4_LAYBELOW</code>: [default: 0]
                        </p>
                        <p>Defines number of layers below diffusion break</p>
                        <div class="itemizedlist">
                           <ul type="circle">
                              <li>
                                 <p>0: UAM-V or CAM<sub>X</sub> style
                                 </p>
                              </li>
                              <li>
                                 <p>&gt;0: UAM-IV style</p>
                              </li>
                           </ul>
                        </div>
                     </li>
                     <li>
                        <p><code class="envar">UAM4_LAYABOVE</code>: [default: 0]
                        </p>
                        <p>Defines number of layers above diffusion break</p>
                        <div class="itemizedlist">
                           <ul type="circle">
                              <li>
                                 <p>0: UAM-V or CAM<sub>X</sub> style
                                 </p>
                                 <p>&gt;0: UAM-IV style</p>
                              </li>
                           </ul>
                        </div>
                     </li>
                     <li>
                        <p><code class="envar">UAM4_HTSFC</code>: [default: 0.0]
                        </p>
                        <p>Defines height of surface layer</p>
                        <div class="itemizedlist">
                           <ul type="circle">
                              <li>
                                 <p>0.0: UAM-V or CAM<sub>X</sub> style
                                 </p>
                              </li>
                              <li>
                                 <p>&gt;0.0: UAM-IV style</p>
                              </li>
                           </ul>
                        </div>
                     </li>
                     <li>
                        <p><code class="envar">UAM4_HTLOWR</code>: [default: 0.0]
                        </p>
                        <p>Defines minimum height of cells between surface layer and diffusion break (meters)</p>
                        <div class="itemizedlist">
                           <ul type="circle">
                              <li>
                                 <p>0.0: UAM-V or CAM<sub>X</sub> style
                                 </p>
                              </li>
                              <li>
                                 <p>&gt;0.0: UAM-IV</p>
                              </li>
                           </ul>
                        </div>
                     </li>
                     <li>
                        <p><code class="envar">UAM4_HTUPPR</code>: [default: 0.0]
                        </p>
                        <p>Defines minimum height of cells between diffusion break and top of region(meters)</p>
                        <div class="itemizedlist">
                           <ul type="circle">
                              <li>
                                 <p>0.0: UAM-V or CAM<sub>X</sub> style
                                 </p>
                              </li>
                              <li>
                                 <p>&gt;0.0: UAM-IV</p>
                              </li>
                           </ul>
                        </div>
                     </li>
                     <li>
                        <p><code class="envar">UAM_NOTE</code>: [default: UAM gridded emissions from SMK2EMIS]
                        </p>
                        <p>Defines the note to be written to the header of the UAM or CAM<sub>X</sub> output file
                        </p>
                     </li>
                  </ul>
               </div>
            </div>
            <div class="section" lang="en">
               <div class="titlepage">
                  <div>
                     <div>
                        <h5 class="title"><a name="d0e21224"></a>5.3.13.3.3.&nbsp;Other Inputs
                        </h5>
                     </div>
                  </div>
               </div>
               <p>If you are running <span><strong class="command">Smk2emis</strong></span> interactively, the following inputs will be requested. The default values for these are set by the time variables found in
                  the input I/O API file header. If you are not running <span><strong class="command">Smk2emis</strong></span> interactively, the values of these settings will be taken from the input file being converted to Fortran-binary format, so
                  no action from you is required.
               </p>
               <div class="itemizedlist">
                  <ul type="disc">
                     <li>
                        <p>Start date: Starting date of simulation in Julian (DDDYYYY) or Gregorian (MMDDYYYY) formats</p>
                     </li>
                     <li>
                        <p>Start Time: Starting time of simulation in HHMMSS.</p>
                     </li>
                     <li>
                        <p>Duration: Simulation duration in hours.</p>
                     </li>
                  </ul>
               </div>
            </div>
            <div class="section" lang="en">
               <div class="titlepage">
                  <div>
                     <div>
                        <h5 class="title"><a name="d0e21245"></a>5.3.13.3.4.&nbsp;Output Files
                        </h5>
                     </div>
                  </div>
               </div>
               <div class="informaltable">
                  <table border="1">
                     <colgroup>
                        <col>
                        <col>
                        <col>
                     </colgroup>
                     <thead>
                        <tr>
                           <th>File Name</th>
                           <th>Format</th>
                           <th>Description</th>
                        </tr>
                     </thead>
                     <tbody>
                        <tr>
                           <td><code class="envar">UAM_[A|B|M|P|E]GTS</code></td>
                           <td>Fortran binary</td>
                           <td>UAM-IV-, UAM-V- or CAMx-ready gridded, hourly emissions.</td>
                        </tr>
                        <tr>
                           <td><code class="envar">LOGFILE</code></td>
                           <td>ASCII</td>
                           <td>Log generated from executing <span><strong class="command">Smk2emis</strong></span>.
                           </td>
                        </tr>
                     </tbody>
                  </table>
               </div>
            </div>
         </div>
      </div>
      <div class="navfooter">
         <hr>
         <table width="100%" summary="Navigation footer">
            <tr>
               <td width="40%" align="left"><a accesskey="p" href="ch05s03s12.html">Prev</a>&nbsp;
               </td>
               <td width="20%" align="center"><a accesskey="u" href="ch05s03.html">Up</a></td>
               <td width="40%" align="right">&nbsp;<a accesskey="n" href="ch05s03s14.html">Next</a></td>
            </tr>
            <tr>
               <td width="40%" align="left" valign="top">5.3.12.&nbsp;<span><strong class="command">Pktreduc</strong></span>&nbsp;
               </td>
               <td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td>
               <td width="40%" align="right" valign="top">&nbsp;5.3.14.&nbsp;<span><strong class="command">Surgtool</strong></span></td>
            </tr>
         </table>
      </div>
   </body>
</html>