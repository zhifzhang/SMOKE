<html>
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   
      <title>6.4.3.&nbsp;Files and Environment Variables</title>
      <link rel="stylesheet" href="manual.css" type="text/css">
      <meta name="generator" content="DocBook XSL Stylesheets V1.67.2">
      <link rel="start" href="index.html" title="SMOKE v4.7 User&#8217;s Manual">
      <link rel="up" href="ch06s04.html" title="6.4.&nbsp;Grdmat">
      <link rel="prev" href="ch06s04s02.html" title="6.4.2.&nbsp;Processing Order">
      <link rel="next" href="ch06s05.html" title="6.5.&nbsp;Grwinven">
   </head>
   <body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
      <div class="navheader">
         <table width="100%" summary="Navigation header">
            <tr>
               <th colspan="3" align="center">6.4.3.&nbsp;Files and Environment Variables</th>
            </tr>
            <tr>
               <td width="20%" align="left"><a accesskey="p" href="ch06s04s02.html">Prev</a>&nbsp;
               </td>
               <th width="60%" align="center">6.4.&nbsp;<span><strong class="command">Grdmat</strong></span></th>
               <td width="20%" align="right">&nbsp;<a accesskey="n" href="ch06s05.html">Next</a></td>
            </tr>
         </table>
         <hr>
      </div>
      <div class="section" lang="en">
         <div class="titlepage">
            <div>
               <div>
                  <h3 class="title"><a name="d0e23943"></a>6.4.3.&nbsp;Files and Environment Variables
                  </h3>
               </div>
            </div>
         </div>
         <div class="toc">
            <dl>
               <dt><span class="section"><a href="ch06s04s03.html#d0e24017">6.4.3.1. Input Files</a></span></dt>
               <dt><span class="section"><a href="ch06s04s03.html#d0e24095">6.4.3.2. Input Environment Variables</a></span></dt>
               <dt><span class="section"><a href="ch06s04s03.html#d0e24165">6.4.3.3. Output Files</a></span></dt>
            </dl>
         </div>
         <div class="figure"><a name="fig_programs_grdmat"></a><p class="title"><b>Figure&nbsp;6.4.&nbsp;<span>Grdmat</span> input and output files</b></p>
            <div class="mediaobject"><img src="images\programs\grdmat_html.jpg" alt="Grdmat input and output files"></div>
         </div>
         <p><a href="ch06s04s03.html#fig_programs_grdmat" title="Figure&nbsp;6.4.&nbsp;Grdmat input and output files">Figure&nbsp;6.4, &#8220;<span>Grdmat</span> input and output files&#8221;</a> shows the input and output files for the <span><strong class="command">Grdmat</strong></span> program. The input files are the spatial surrogates file (<code class="envar">AGPRO</code> or <code class="envar">MGPRO</code>), the spatial cross-reference file (<code class="envar">AGREF</code> or <code class="envar">MGREF</code>), the inventory file output from <span><strong class="command">Smkinven</strong></span> (<code class="envar">AREA</code>, <code class="envar">MOBL</code>, or <code class="envar">PNTS</code>), the surrogate description file (<code class="envar">SRGDESC</code>), and the grid description file (<code class="envar">GRIDDESC</code>).
         </p>
         <p><span><strong class="command">Grdmat</strong></span> outputs a gridding matrix file (<code class="envar">AGMAT</code>, <code class="envar">MGMAT</code>, or <code class="envar">PGMAT</code>) used by other SMOKE programs, and a supplemental gridding file (<code class="envar">AGSUP</code> or <code class="envar">MGSUP</code>) that includes all of the spatial surrogate codes assigned to each source. Like all SMOKE programs, <span><strong class="command">Grdmat</strong></span> writes a program log (<code class="envar">LOGFILE</code>).
         </p>
         <div class="section" lang="en">
            <div class="titlepage">
               <div>
                  <div>
                     <h4 class="title"><a name="d0e24017"></a>6.4.3.1.&nbsp;Input Files
                     </h4>
                  </div>
               </div>
            </div>
            <div class="informaltable">
               <table border="1">
                  <colgroup>
                     <col>
                     <col>
                     <col>
                  </colgroup>
                  <thead>
                     <tr>
                        <th>File Name</th>
                        <th>Format</th>
                        <th>Description</th>
                     </tr>
                  </thead>
                  <tbody>
                     <tr>
                        <td><code class="envar">SRGDESC</code></td>
                        <td>ASCII</td>
                        <td>Surrogate list, description and surrogate file name used in the modeling grid. Note: we recommand to use multiple files for
                           individual surrogate code which are available from the <a href="http://www.epa.gov/ttn/chief/emch/spatial/newsurrogate.html" target="_top">EPA&#8217;s New Surrogates web site</a>.
                        </td>
                     </tr>
                     <tr>
                        <td><code class="envar">SRGPRO_PATH/surrogate-files</code></td>
                        <td>ASCII</td>
                        <td>Gridding surrogate coefficients</td>
                     </tr>
                     <tr>
                        <td><code class="envar">[A|M]GREF</code></td>
                        <td>ASCII</td>
                        <td>Gridding surrogate cross-reference file</td>
                     </tr>
                     <tr>
                        <td><code class="envar">[AREA|MOBL|PNTS]</code></td>
                        <td>SMOKE map</td>
                        <td>Intermediate inventory file produced by <span><strong class="command">Smkinven</strong></span></td>
                     </tr>
                     <tr>
                        <td><code class="envar">GRIDDESC</code></td>
                        <td>ASCII</td>
                        <td>Description of the modeling grid</td>
                     </tr>
                     <tr>
                        <td><code class="envar">GRIDMASK</code></td>
                        <td>I/O API NetCDF</td>
                        <td>Geographic level code and Timezone for each grid cell</td>
                     </tr>
                     <tr>
                        <td><code class="envar">GRID_CRO_2D</code></td>
                        <td>I/O API NetCDF</td>
                        <td>Layer definitions for the CMAQ model domain</td>
                     </tr>
                  </tbody>
               </table>
            </div>
         </div>
         <div class="section" lang="en">
            <div class="titlepage">
               <div>
                  <div>
                     <h4 class="title"><a name="d0e24095"></a>6.4.3.2.&nbsp;Input Environment Variables
                     </h4>
                  </div>
               </div>
            </div>
            <div class="itemizedlist">
               <ul type="disc">
                  <li>
                     <p><code class="envar">FULLSCC_ONLY</code>: See description in <a href="ch06s02s03.html#sect_programs_cntlmat_envar" title="6.2.3.2.&nbsp;Input Environment Variables">Section&nbsp;6.2.3.2, &#8220;Input Environment Variables&#8221;</a>. In this context, this option prevents left-7 SCC assignments using the gridding cross-reference file.
                     </p>
                  </li>
                  <li>
                     <p><code class="envar">IOAPI_GRIDNAME_1</code>: output modeling grid that global gridded inventory data is re-gridded to.
                     </p>
                  </li>
                  <li>
                     <p><code class="envar">IOAPI_ISPH</code>: See description in <a href="ch06s03s03.html#sect_programs_elevpoint_envar" title="6.3.3.2.&nbsp;Input Environment Variables">Section&nbsp;6.3.3.2, &#8220;Input Environment Variables&#8221;</a></p>
                  </li>
                  <li>
                     <p><code class="envar">IMPORT_GRDNETCDF_YN</code>: Y to read the native netCDF annual inventory files
                     </p>
                  </li>
                  <li>
                     <p><code class="envar">REPORT_DEFAULTS</code>: See description in <a href="ch06s02s03.html#sect_programs_cntlmat_envar" title="6.2.3.2.&nbsp;Input Environment Variables">Section&nbsp;6.2.3.2, &#8220;Input Environment Variables&#8221;</a></p>
                  </li>
                  <li>
                     <p><code class="envar">SRGPRO_PATH</code>: Defines the location of the Area and Mobile spatial surrogate files. This should be a sub-directory in the <code class="envar">$GE_DAT</code> directory.
                     </p>
                  </li>
                  <li>
                     <p><code class="envar">SMK_DEFAULT_SRGID</code>: [default: 100 (Models-3 population surrogate code)] Mandatory, user MUST choose a fallback code.
                     </p>
                  </li>
                  <li>
                     <p><code class="envar">SMK_USE_FALLBACK</code>: [Y/N]  
                     </p>
                     <p>Defines the surrogate code number to use as a fallback surrogate when the surrogate number set by the cross-reference file
                        would zero out the emissions for that source.  This fallback surrogate is also used to define the county/state/country (FIPS)
                        codes for use in <span><strong class="command">Grdmat</strong></span>; therefore, a fallback surrogate code is mandatory even if the <code class="envar">SMK_USE_FALLBACK</code> is set to [N]. This code should exist in the <code class="envar">SRGDESC</code> file and be representative on all county/state/countries.  See description in <a href="ch08s04.html#sect_input_srgdesc" title="8.4.1.&nbsp;SRGDESC: Surrogate Designation, Description and Surrogate profile filename.">Section&nbsp;8.4.1, &#8220;<code class="envar">SRGDESC</code>: Surrogate Designation, Description and Surrogate profile filename.&#8221;</a>.
                     </p>
                  </li>
                  <li>
                     <p><code class="envar">SMK_SOURCE</code>: See description in <a href="ch06s02s03.html#sect_programs_cntlmat_envar" title="6.2.3.2.&nbsp;Input Environment Variables">Section&nbsp;6.2.3.2, &#8220;Input Environment Variables&#8221;</a></p>
                  </li>
               </ul>
            </div>
         </div>
         <div class="section" lang="en">
            <div class="titlepage">
               <div>
                  <div>
                     <h4 class="title"><a name="d0e24165"></a>6.4.3.3.&nbsp;Output Files
                     </h4>
                  </div>
               </div>
            </div>
            <div class="informaltable">
               <table border="1">
                  <colgroup>
                     <col>
                     <col>
                     <col>
                  </colgroup>
                  <thead>
                     <tr>
                        <th>File Name</th>
                        <th>Format</th>
                        <th>Description</th>
                     </tr>
                  </thead>
                  <tbody>
                     <tr>
                        <td><code class="envar">[A|M|P]GMAT</code></td>
                        <td>I/O API NetCDF</td>
                        <td>Gridding matrix containing the factors needed to spatially allocate the input emissions to the grid cells in the modeling
                           domain.
                        </td>
                     </tr>
                     <tr>
                        <td><code class="envar">[A|M]GSUP</code></td>
                        <td>ASCII</td>
                        <td>Gridding supplemental file containing spatial surrogate codes for each source</td>
                     </tr>
                     <tr>
                        <td><code class="envar">LOGFILE</code></td>
                        <td>ASCII</td>
                        <td>Log generated from executing <span><strong class="command">Grdmat</strong></span></td>
                     </tr>
                  </tbody>
               </table>
            </div>
         </div>
      </div>
      <div class="navfooter">
         <hr>
         <table width="100%" summary="Navigation footer">
            <tr>
               <td width="40%" align="left"><a accesskey="p" href="ch06s04s02.html">Prev</a>&nbsp;
               </td>
               <td width="20%" align="center"><a accesskey="u" href="ch06s04.html">Up</a></td>
               <td width="40%" align="right">&nbsp;<a accesskey="n" href="ch06s05.html">Next</a></td>
            </tr>
            <tr>
               <td width="40%" align="left" valign="top">6.4.2.&nbsp;Processing Order&nbsp;</td>
               <td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td>
               <td width="40%" align="right" valign="top">&nbsp;6.5.&nbsp;<span><strong class="command">Grwinven</strong></span></td>
            </tr>
         </table>
      </div>
   </body>
</html>