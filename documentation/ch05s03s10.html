<html>
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   
      <title>5.3.10.&nbsp;Metcombine</title>
      <link rel="stylesheet" href="manual.css" type="text/css">
      <meta name="generator" content="DocBook XSL Stylesheets V1.67.2">
      <link rel="start" href="index.html" title="SMOKE v4.7 User&#8217;s Manual">
      <link rel="up" href="ch05s03.html" title="5.3.&nbsp; SMOKE Utility Programs">
      <link rel="prev" href="ch05s03s09.html" title="5.3.9.&nbsp;Layalloc">
      <link rel="next" href="ch05s03s11.html" title="5.3.11.&nbsp;Metscan">
   </head>
   <body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
      <div class="navheader">
         <table width="100%" summary="Navigation header">
            <tr>
               <th colspan="3" align="center">5.3.10.&nbsp;<span><strong class="command">Metcombine</strong></span></th>
            </tr>
            <tr>
               <td width="20%" align="left"><a accesskey="p" href="ch05s03s09.html">Prev</a>&nbsp;
               </td>
               <th width="60%" align="center">5.3.&nbsp; SMOKE Utility Programs</th>
               <td width="20%" align="right">&nbsp;<a accesskey="n" href="ch05s03s11.html">Next</a></td>
            </tr>
         </table>
         <hr>
      </div>
      <div class="section" lang="en">
         <div class="titlepage">
            <div>
               <div>
                  <h3 class="title"><a name="sect_utilities_metcombine"></a>5.3.10.&nbsp;<span><strong class="command">Metcombine</strong></span></h3>
               </div>
            </div>
         </div>
         <div class="toc">
            <dl>
               <dt><span class="section"><a href="ch05s03s10.html#d0e20488">5.3.10.1. Description</a></span></dt>
               <dt><span class="section"><a href="ch05s03s10.html#d0e20518">5.3.10.2. Processing Order</a></span></dt>
               <dt><span class="section"><a href="ch05s03s10.html#d0e20537">5.3.10.3. Files and Environment Variables</a></span></dt>
            </dl>
         </div>
         <div class="section" lang="en">
            <div class="titlepage">
               <div>
                  <div>
                     <h4 class="title"><a name="d0e20488"></a>5.3.10.1.&nbsp;Description
                     </h4>
                  </div>
               </div>
            </div>
            <p><span><strong class="command">Metcombine</strong></span> combines 2-D gridded meteorology data with the 1st layer of 3-D gridded meteorology data to create custom files for on-road
               mobile processing with MOVES. To calculate humidity data for use in MOVES, the program <span><strong class="command">Met4moves</strong></span> needs temperature, pressure, and water vapor mixing ratio data in the same meteorology file. Pressure and mixing ratio data
               are typically found in the <code class="envar">MET_CRO_3D</code> file with the variable names PRES and QV, respectively. The <code class="envar">MET_CRO_2D</code> file usually contains ground-level temperatures (TEMPG), 1.5 meter temperatures (TEMP1P5), 2 meter temperatures (TEMP2),
               and 10 meter temperatures (TEMP10). While it is possible to use air temperature data from the <code class="envar">MET_CRO_3D</code> file (variable named TA), it is generally recommended to use temperature data from closer to the ground, i.e. ground or 1.5
               meter temperatures from <code class="envar">MET_CRO_2D</code>. <span><strong class="command">Metcombine</strong></span> is used to create custom meteorology files that contain the variables PRES, QV, and TEMPG (or any other temperature variable).
            </p>
            <p>The program takes two I/O API NetCDF gridded meteorology files as input. The files must have identical grid paramaters, start
               dates and times, time steps, and run lengths. <span><strong class="command">Metcombine</strong></span> is generally used to combine a 2-D file with a 3-D file, but the program is not restricted to that combination; it can be
               used to combine two 2-D files or the 1st layers of two 3-D files.
            </p>
         </div>
         <div class="section" lang="en">
            <div class="titlepage">
               <div>
                  <div>
                     <h4 class="title"><a name="d0e20518"></a>5.3.10.2.&nbsp;Processing Order
                     </h4>
                  </div>
               </div>
            </div>
            <p><span><strong class="command">Metcombine</strong></span> can optionally be run before <span><strong class="command">Met4moves</strong></span>. If used, <span><strong class="command">Metcombine</strong></span> must be run for each individual meteorology file you need to create. For example, if you have five days worth of meteorology
               data as one-day files, you&#8217;ll need to run <span><strong class="command">Metcombine</strong></span> five times. If the meteorology variables you wish to use are already in the same file, then you do not need to use <span><strong class="command">Metcombine</strong></span>. Example: If you decide to use ambient air temperature (TA) from the same METCRO_3D file that also contains PRES and QV,
               then you do not need to run Metcombine.
            </p>
         </div>
         <div class="section" lang="en">
            <div class="titlepage">
               <div>
                  <div>
                     <h4 class="title"><a name="d0e20537"></a>5.3.10.3.&nbsp;Files and Environment Variables
                     </h4>
                  </div>
               </div>
            </div>
            <div class="toc">
               <dl>
                  <dt><span class="section"><a href="ch05s03s10.html#d0e20540">5.3.10.3.1. Input Files</a></span></dt>
                  <dt><span class="section"><a href="ch05s03s10.html#d0e20573">5.3.10.3.2. Input Environment Variables</a></span></dt>
                  <dt><span class="section"><a href="ch05s03s10.html#d0e20590">5.3.10.3.3. Output Files</a></span></dt>
               </dl>
            </div>
            <div class="section" lang="en">
               <div class="titlepage">
                  <div>
                     <div>
                        <h5 class="title"><a name="d0e20540"></a>5.3.10.3.1.&nbsp;Input Files
                        </h5>
                     </div>
                  </div>
               </div>
               <div class="informaltable">
                  <table border="1">
                     <colgroup>
                        <col>
                        <col>
                        <col>
                     </colgroup>
                     <thead>
                        <tr>
                           <th>File Name</th>
                           <th>Format</th>
                           <th>Description</th>
                        </tr>
                     </thead>
                     <tbody>
                        <tr>
                           <td><code class="envar">METFILE1</code></td>
                           <td>I/O API NetCDF</td>
                           <td>First gridded meteorology file; can be either a 2-D or 3-D file</td>
                        </tr>
                        <tr>
                           <td><code class="envar">METFILE2</code></td>
                           <td>I/O API NetCDF</td>
                           <td>Second gridded meteorology file; can be either a 2-D or 3-D file</td>
                        </tr>
                     </tbody>
                  </table>
               </div>
            </div>
            <div class="section" lang="en">
               <div class="titlepage">
                  <div>
                     <div>
                        <h5 class="title"><a name="d0e20573"></a>5.3.10.3.2.&nbsp;Input Environment Variables
                        </h5>
                     </div>
                  </div>
               </div>
               <div class="itemizedlist">
                  <ul type="disc">
                     <li>
                        <p><code class="envar">VARLIST</code>: [default: none]
                        </p>
                        <p>Sets the names of the variables that will be read from <code class="envar">METFILE1</code> and <code class="envar">METFILE2</code>. Each variable must occur in exactly one of the meteorology files, i.e. the same variable cannot be in both files.
                        </p>
                     </li>
                  </ul>
               </div>
            </div>
            <div class="section" lang="en">
               <div class="titlepage">
                  <div>
                     <div>
                        <h5 class="title"><a name="d0e20590"></a>5.3.10.3.3.&nbsp;Output Files
                        </h5>
                     </div>
                  </div>
               </div>
               <div class="informaltable">
                  <table border="1">
                     <colgroup>
                        <col>
                        <col>
                        <col>
                     </colgroup>
                     <thead>
                        <tr>
                           <th>File Name</th>
                           <th>Format</th>
                           <th>Description</th>
                        </tr>
                     </thead>
                     <tbody>
                        <tr>
                           <td><code class="envar">OUTFILE</code></td>
                           <td>I/O API NetCDF</td>
                           <td>2-D output meteorology file. This file contains the variables requested in <code class="envar">VARLIST</code>; for 3-D data, <code class="envar">OUTFILE</code> will only contain the 1st layer of data. <code class="envar">OUTFILE</code> will have the same grid parameters, start date and time, time step, and run length as <code class="envar">METFILE1</code> and <code class="envar">METFILE2</code>.
                           </td>
                        </tr>
                     </tbody>
                  </table>
               </div>
            </div>
         </div>
      </div>
      <div class="navfooter">
         <hr>
         <table width="100%" summary="Navigation footer">
            <tr>
               <td width="40%" align="left"><a accesskey="p" href="ch05s03s09.html">Prev</a>&nbsp;
               </td>
               <td width="20%" align="center"><a accesskey="u" href="ch05s03.html">Up</a></td>
               <td width="40%" align="right">&nbsp;<a accesskey="n" href="ch05s03s11.html">Next</a></td>
            </tr>
            <tr>
               <td width="40%" align="left" valign="top">5.3.9.&nbsp;<span><strong class="command">Layalloc</strong></span>&nbsp;
               </td>
               <td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td>
               <td width="40%" align="right" valign="top">&nbsp;5.3.11.&nbsp;<span><strong class="command">Metscan</strong></span></td>
            </tr>
         </table>
      </div>
   </body>
</html>