<html>
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   
      <title>6.6.3.&nbsp;Files and Environment Variables</title>
      <link rel="stylesheet" href="manual.css" type="text/css">
      <meta name="generator" content="DocBook XSL Stylesheets V1.67.2">
      <link rel="start" href="index.html" title="SMOKE v4.7 User&#8217;s Manual">
      <link rel="up" href="ch06s06.html" title="6.6.&nbsp;Laypoint">
      <link rel="prev" href="ch06s06s02.html" title="6.6.2.&nbsp;Processing Order">
      <link rel="next" href="ch06s07.html" title="6.7.&nbsp;Met4moves">
   </head>
   <body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
      <div class="navheader">
         <table width="100%" summary="Navigation header">
            <tr>
               <th colspan="3" align="center">6.6.3.&nbsp;Files and Environment Variables</th>
            </tr>
            <tr>
               <td width="20%" align="left"><a accesskey="p" href="ch06s06s02.html">Prev</a>&nbsp;
               </td>
               <th width="60%" align="center">6.6.&nbsp;<span><strong class="command">Laypoint</strong></span></th>
               <td width="20%" align="right">&nbsp;<a accesskey="n" href="ch06s07.html">Next</a></td>
            </tr>
         </table>
         <hr>
      </div>
      <div class="section" lang="en">
         <div class="titlepage">
            <div>
               <div>
                  <h3 class="title"><a name="d0e24700"></a>6.6.3.&nbsp;Files and Environment Variables
                  </h3>
               </div>
            </div>
         </div>
         <div class="toc">
            <dl>
               <dt><span class="section"><a href="ch06s06s03.html#d0e24783">6.6.3.1. Input Files</a></span></dt>
               <dt><span class="section"><a href="ch06s06s03.html#sect_programs_laypoint_envar">6.6.3.2. Input Environment Variables</a></span></dt>
               <dt><span class="section"><a href="ch06s06s03.html#d0e25102">6.6.3.3. Output Files</a></span></dt>
            </dl>
         </div>
         <div class="figure"><a name="fig_programs_laypoint"></a><p class="title"><b>Figure&nbsp;6.6.&nbsp;<span>Laypoint</span> input and output files</b></p>
            <div class="mediaobject"><img src="images\programs\laypoint_html.jpg" alt="Laypoint input and output files"></div>
         </div>
         <p><a href="ch06s06s03.html#fig_programs_laypoint" title="Figure&nbsp;6.6.&nbsp;Laypoint input and output files">Figure&nbsp;6.6, &#8220;<span>Laypoint</span> input and output files&#8221;</a> shows the input and output files for the <span><strong class="command">Laypoint</strong></span> program. The input files include the grid description file (<code class="envar">GRIDDESC</code>) and meteorology files created by the meteorology preprocessor (<code class="envar">GRID_CRO_3D</code>, <code class="envar">MET_CRO_2D</code>, <code class="envar">MET_CRO_3D</code>, and <code class="envar">MET_DOT_3D</code>). If elevated sources have been selected, <span><strong class="command">Laypoint</strong></span> uses the the elevated point source identification file output from <span><strong class="command">Elevpoint</strong></span> (<code class="envar">PELV</code>). Hourly plume data can be read from the <code class="envar">PHOUR</code> hourly inventory file and annual inventory data is read from the <code class="envar">PNTS</code> file, both output from <span><strong class="command">Smkinven</strong></span>. When processing fire sources, the <code class="envar">PDAY</code> file created by <span><strong class="command">Smkinven</strong></span> and the <code class="envar">PTMP</code> file created by <span><strong class="command">Temporal</strong></span> may be used.
         </p>
         <p><span><strong class="command">Laypoint</strong></span> outputs a log file (<code class="envar">LOGFILE</code>), hourly plume rise layer fractions for all sources (<code class="envar">PLAY</code>) or optionally only for explicit sources (<code class="envar">PLAY_EX</code>), and a report file <code class="envar">REPRTLAY</code> if reporting is turned on using the <code class="envar">REP_LAYER_MAX</code> setting.
         </p>
         <div class="section" lang="en">
            <div class="titlepage">
               <div>
                  <div>
                     <h4 class="title"><a name="d0e24783"></a>6.6.3.1.&nbsp;Input Files
                     </h4>
                  </div>
               </div>
            </div>
            <div class="informaltable">
               <table border="1">
                  <colgroup>
                     <col>
                     <col>
                     <col>
                  </colgroup>
                  <thead>
                     <tr>
                        <th>File Name</th>
                        <th>Format</th>
                        <th>Description</th>
                     </tr>
                  </thead>
                  <tbody>
                     <tr>
                        <td><code class="envar">GRIDDESC</code></td>
                        <td>ASCII</td>
                        <td>Description of the modeling grid</td>
                     </tr>
                     <tr>
                        <td><code class="envar">GRID_CRO_3D</code> (optional)
                        </td>
                        <td>I/O API NetCDF</td>
                        <td>Meteorology file produced by the meteorology preprocessor; only needed if using static layer information </td>
                     </tr>
                     <tr>
                        <td><code class="envar">MET_CRO_2D</code></td>
                        <td>I/O API NetCDF</td>
                        <td>Meteorology file produced by the meteorology preprocessor </td>
                     </tr>
                     <tr>
                        <td><code class="envar">MET_CRO_3D</code></td>
                        <td>I/O API NetCDF</td>
                        <td>Meteorology file produced by the meteorology preprocessor </td>
                     </tr>
                     <tr>
                        <td><code class="envar">MET_DOT_3D</code></td>
                        <td>I/O API NetCDF</td>
                        <td>Meteorology file produced by the meteorology preprocessor </td>
                     </tr>
                     <tr>
                        <td><code class="envar">PDAY</code> (optional)
                        </td>
                        <td>I/O API NetCDF</td>
                        <td>Daily point-source inventory file produced by <span><strong class="command">Smkinven</strong></span></td>
                     </tr>
                     <tr>
                        <td><code class="envar">PELV</code> (optional)
                        </td>
                        <td>ASCII</td>
                        <td>Elevated point source identification file produced by <span><strong class="command">Elevpoint</strong></span></td>
                     </tr>
                     <tr>
                        <td><code class="envar">PHOUR</code> (optional)
                        </td>
                        <td>I/O API NetCDF</td>
                        <td>Hourly point-source inventory file produced by <span><strong class="command">Smkinven</strong></span></td>
                     </tr>
                     <tr>
                        <td><code class="envar">PNTS</code></td>
                        <td>SMOKE map</td>
                        <td>Intermediate inventory file produced by <span><strong class="command">Smkinven</strong></span></td>
                     </tr>
                     <tr>
                        <td><code class="envar">PTMP</code></td>
                        <td>I/O API NetCDF</td>
                        <td>Hourly emissions file produced by <span><strong class="command">Temporal</strong></span></td>
                     </tr>
                  </tbody>
               </table>
            </div>
         </div>
         <div class="section" lang="en">
            <div class="titlepage">
               <div>
                  <div>
                     <h4 class="title"><a name="sect_programs_laypoint_envar"></a>6.6.3.2.&nbsp;Input Environment Variables
                     </h4>
                  </div>
               </div>
            </div>
            <div class="itemizedlist">
               <ul type="disc">
                  <li>
                     <p><code class="envar">EXPLICIT_PLUMES_YN</code>: [default: N]
                     </p>
                     <p>Indicates whether only explicit plume rise sources should be calculated.</p>
                     <div class="itemizedlist">
                        <ul type="circle">
                           <li>
                              <p>Y: Process only explicit plume rise sources; automatically sets <code class="envar">HOUR_PLUMEDATA_YN</code> to Y
                              </p>
                           </li>
                           <li>
                              <p>N: Process all sources</p>
                           </li>
                        </ul>
                     </div>
                  </li>
                  <li>
                     <p><code class="envar">FIRE_AREA</code>: [default: 0.0]
                     </p>
                     <p>Sets daily area burned in acres/day; only used when <code class="envar">FIRE_PLUME_YN</code> is set to Y and <code class="envar">HOURLY_FIRE_YN</code> is set to N.
                     </p>
                  </li>
                  <li>
                     <p><code class="envar">FIRE_HFLUX</code>: [default: 0.0]
                     </p>
                     <p>Sets hourly heat flux value in BTU/hr; only used when <code class="envar">FIRE_PLUME_YN</code> is set to Y and <code class="envar">HOURLY_FIRE_YN</code> is set to N.
                     </p>
                  </li>
                  <li>
                     <p><code class="envar">FIRE_PLUME_YN</code>: [default: N]
                     </p>
                     <p>Indicates if fire-specific plume rise calculations should be used.</p>
                     <div class="itemizedlist">
                        <ul type="circle">
                           <li>
                              <p>Y: Use fire-specific plume rise calculations for all sources</p>
                           </li>
                           <li>
                              <p>N: Use traditional plume rise calculations based on stack parameters for all sources</p>
                           </li>
                        </ul>
                     </div>
                  </li>
                  <li>
                     <p><code class="envar">HOUR_PLUMEDATA_YN</code>: [default: N]
                     </p>
                     <p>Indicates whether hourly plume rise data should be used.</p>
                     <div class="itemizedlist">
                        <ul type="circle">
                           <li>
                              <p>Y: Use hourly data; requires <code class="envar">PHOUR</code> file
                              </p>
                           </li>
                           <li>
                              <p>N: Do not use hourly data</p>
                           </li>
                        </ul>
                     </div>
                  </li>
                  <li>
                     <p><code class="envar">HOURLY_FIRE_YN</code>: [default: N]
                     </p>
                     <p>Indicates if hourly fire data should be used; only checked when <code class="envar">FIRE_PLUME_YN</code> is set to Y.
                     </p>
                     <div class="itemizedlist">
                        <ul type="circle">
                           <li>
                              <p>Y: Read hourly heat flux from <code class="envar">PTMP</code> file and daily area burned from <code class="envar">PDAY</code> file
                              </p>
                           </li>
                           <li>
                              <p>N: Get heat flux and area burned from environment variables <code class="envar">FIRE_AREA</code> and <code class="envar">FIRE_HFLUX</code></p>
                           </li>
                        </ul>
                     </div>
                  </li>
                  <li>
                     <p><code class="envar">IOAPI_ISPH</code>: See description in <a href="ch06s03s03.html#sect_programs_elevpoint_envar" title="6.3.3.2.&nbsp;Input Environment Variables">Section&nbsp;6.3.3.2, &#8220;Input Environment Variables&#8221;</a></p>
                  </li>
                  <li>
                     <p><code class="envar">PLUME_GTEMP_NAME</code>: [default: TEMP2]
                     </p>
                     <p>Sets ground temperature variable name from meteorology file for plume rise calcuation.</p>
                  </li>
                  <li>
                     <p><code class="envar">REP_LAYER_MAX</code>: [default: -1]
                     </p>
                     <p>Layer number for reporting high plume rise; reporting is turned off if set to less than 1.</p>
                  </li>
                  <li>
                     <p><code class="envar">SMK_EMLAYS</code>: [default: -1]
                     </p>
                     <p>Number of emissions layers; must be at least 4 otherwise program will not run.</p>
                  </li>
                  <li>
                     <p><code class="envar">SMK_SOURCE</code>: See description in <a href="ch06s02s03.html#sect_programs_cntlmat_envar" title="6.2.3.2.&nbsp;Input Environment Variables">Section&nbsp;6.2.3.2, &#8220;Input Environment Variables&#8221;</a>.
                     </p>
                  </li>
                  <li>
                     <p><code class="envar">SMK_SPECELEV_YN</code>: [default: N]
                     </p>
                     <p>Defines whether the <span><strong class="command">Elevpoint</strong></span> output file <code class="envar">PELV</code> will be used to set elevated sources.
                     </p>
                     <div class="itemizedlist">
                        <ul type="circle">
                           <li>
                              <p>Y: Use the <code class="envar">PELV</code> file to set elevated sources during run
                              </p>
                           </li>
                           <li>
                              <p>N: Let <span><strong class="command">Laypoint</strong></span> plume rise calculation determine whether or not sources are elevated
                              </p>
                           </li>
                        </ul>
                     </div>
                  </li>
                  <li>
                     <p><code class="envar">USE_EDMS_DATA_YN</code>: [default: N]
                     </p>
                     <p>Process EDMS aviation source elevation height as its plume rise and distributes the emissions into the layer where it belongs
                        to.
                     </p>
                     <div class="itemizedlist">
                        <ul type="circle">
                           <li>
                              <p>Y: Skip plume rise calculation and distribute EDMS aviation emissions into the layer where it belongs to using its elevation
                                 height.
                              </p>
                           </li>
                           <li>
                              <p>N: Do not process EDMS aviation sources</p>
                           </li>
                        </ul>
                     </div>
                  </li>
                  <li>
                     <p><code class="envar">VELOC_RECALC</code>: [default: N]
                     </p>
                     <p>Determines whether velocity should be recalculated based on hourly flow rates and stack diameter.</p>
                     <div class="itemizedlist">
                        <ul type="circle">
                           <li>
                              <p>Y: Recalculate velocity for hourly data</p>
                           </li>
                           <li>
                              <p>N: Use velocity values from hourly inventory file</p>
                           </li>
                        </ul>
                     </div>
                  </li>
                  <li>
                     <p><code class="envar">VERTICAL_SPREAD</code>: [default: 0]
                     </p>
                     <p>Sets the vertical spread method for determining the bottom and top heights of each plume.</p>
                     <div class="itemizedlist">
                        <ul type="circle">
                           <li>
                              <p>0: Use the default Turner approach where plume thickness equals the amount of plume rise</p>
                           </li>
                           <li>
                              <p>1: Compute vertical spread using ambient temperature data</p>
                           </li>
                        </ul>
                     </div>
                  </li>
               </ul>
            </div>
         </div>
         <div class="section" lang="en">
            <div class="titlepage">
               <div>
                  <div>
                     <h4 class="title"><a name="d0e25102"></a>6.6.3.3.&nbsp;Output Files
                     </h4>
                  </div>
               </div>
            </div>
            <div class="informaltable">
               <table border="1">
                  <colgroup>
                     <col>
                     <col>
                     <col>
                  </colgroup>
                  <thead>
                     <tr>
                        <th>File Name</th>
                        <th>Format</th>
                        <th>Description</th>
                     </tr>
                  </thead>
                  <tbody>
                     <tr>
                        <td><code class="envar">LOGFILE</code></td>
                        <td>ASCII</td>
                        <td>Log generated from executing <span><strong class="command">Laypoint</strong></span></td>
                     </tr>
                     <tr>
                        <td><code class="envar">PLAY</code></td>
                        <td>I/O API NetCDF</td>
                        <td>Hourly plume rise layer fractions by source</td>
                     </tr>
                     <tr>
                        <td><code class="envar">PLAY_EX</code></td>
                        <td>I/O API NetCDF</td>
                        <td>Hourly plume rise layer fractions for explicit sources</td>
                     </tr>
                     <tr>
                        <td><code class="envar">REPRTLAY</code></td>
                        <td>ASCII</td>
                        <td>Report file for plumes exceeding specified layer</td>
                     </tr>
                  </tbody>
               </table>
            </div>
         </div>
      </div>
      <div class="navfooter">
         <hr>
         <table width="100%" summary="Navigation footer">
            <tr>
               <td width="40%" align="left"><a accesskey="p" href="ch06s06s02.html">Prev</a>&nbsp;
               </td>
               <td width="20%" align="center"><a accesskey="u" href="ch06s06.html">Up</a></td>
               <td width="40%" align="right">&nbsp;<a accesskey="n" href="ch06s07.html">Next</a></td>
            </tr>
            <tr>
               <td width="40%" align="left" valign="top">6.6.2.&nbsp;Processing Order&nbsp;</td>
               <td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td>
               <td width="40%" align="right" valign="top">&nbsp;6.7.&nbsp;<span><strong class="command">Met4moves</strong></span></td>
            </tr>
         </table>
      </div>
   </body>
</html>